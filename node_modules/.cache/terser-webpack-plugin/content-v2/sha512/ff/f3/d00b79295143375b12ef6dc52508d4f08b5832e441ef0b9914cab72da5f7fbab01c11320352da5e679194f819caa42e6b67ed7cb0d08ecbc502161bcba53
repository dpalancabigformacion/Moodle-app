{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[99],{\"g77/\":function(e,o,s){\"use strict\";s.r(o),s.d(o,\"CoreCoursesMyCoursesPageModule\",(function(){return x}));var r=s(\"tyNb\"),t=s(\"L3Fv\"),a=s(\"5p9q\"),c=s(\"mrSG\"),n=s(\"mSZx\"),i=s(\"6akD\"),l=s(\"OYIH\"),d=s(\"YyYz\"),u=s(\"9+EE\"),C=s(\"3LXp\"),b=s(\"bFG1\"),g=s(\"fjkH\"),_=s(\"Xzvb\"),m=s(\"fXoL\"),v=s(\"TEn/\"),h=s(\"hMzs\"),y=s(\"C1x5\"),f=s(\"nt/U\"),p=s(\"PgjG\"),k=s(\"ofXK\"),M=s(\"ACYt\"),P=s(\"3CSS\"),w=s(\"aSim\"),D=s(\"r8G5\"),B=s(\"sYmb\");function CoreCoursesMyCoursesPage_div_22_ion_button_1_Template(e,o){if(1&e){const e=m.Fc();m.Ec(0,\"ion-button\",19),m.Mc(\"click\",(function CoreCoursesMyCoursesPage_div_22_ion_button_1_Template_ion_button_click_0_listener(){m.fd(e);return m.Oc(2).myOverviewBlock.prefetchCourses()})),m.Pc(1,\"translate\"),m.zc(2,\"ion-icon\",20),m.Dc()}if(2&e){const e=m.Oc(2);m.mc(\"aria-label\",m.Qc(1,2,e.myOverviewBlock.prefetchCoursesData.statusTranslatable)),m.lc(2),m.Vc(\"name\",e.myOverviewBlock.prefetchCoursesData.icon)}}function CoreCoursesMyCoursesPage_div_22_ion_badge_2_Template(e,o){if(1&e&&(m.Ec(0,\"ion-badge\",21),m.pd(1),m.Dc()),2&e){const e=m.Oc(2);m.mc(\"aria-valuemax\",e.myOverviewBlock.prefetchCoursesData.total)(\"aria-valuenow\",e.myOverviewBlock.prefetchCoursesData.count)(\"aria-valuetext\",e.myOverviewBlock.prefetchCoursesData.badgeA11yText),m.lc(1),m.rd(\" \",e.myOverviewBlock.prefetchCoursesData.badge,\" \")}}function CoreCoursesMyCoursesPage_div_22_ion_spinner_3_Template(e,o){1&e&&(m.zc(0,\"ion-spinner\"),m.Pc(1,\"translate\")),2&e&&m.mc(\"aria-label\",m.Qc(1,1,\"core.loading\"))}function CoreCoursesMyCoursesPage_div_22_Template(e,o){if(1&e&&(m.Ec(0,\"div\",15),m.nd(1,CoreCoursesMyCoursesPage_div_22_ion_button_1_Template,3,4,\"ion-button\",16),m.nd(2,CoreCoursesMyCoursesPage_div_22_ion_badge_2_Template,2,4,\"ion-badge\",17),m.nd(3,CoreCoursesMyCoursesPage_div_22_ion_spinner_3_Template,2,3,\"ion-spinner\",18),m.Dc()),2&e){const e=m.Oc();m.lc(1),m.Vc(\"ngIf\",!e.myOverviewBlock.prefetchCoursesData.loading),m.lc(1),m.Vc(\"ngIf\",e.myOverviewBlock.prefetchCoursesData.badge),m.lc(1),m.Vc(\"ngIf\",e.myOverviewBlock.prefetchCoursesData.loading)}}function CoreCoursesMyCoursesPage_core_block_24_Template(e,o){if(1&e&&m.zc(0,\"core-block\",22),2&e){const e=m.Oc();m.Vc(\"block\",e.loadedBlock)(\"instanceId\",e.userId)}}function CoreCoursesMyCoursesPage_core_block_side_blocks_button_25_Template(e,o){if(1&e&&m.zc(0,\"core-block-side-blocks-button\",23),2&e){const e=m.Oc();m.Vc(\"instanceId\",e.userId)(\"myDashboardPage\",e.myPageCourses)}}function CoreCoursesMyCoursesPage_core_empty_box_26_Template(e,o){1&e&&(m.zc(0,\"core-empty-box\",24),m.Pc(1,\"translate\")),2&e&&m.Vc(\"message\",m.Qc(1,1,\"core.course.nocontentavailable\"))}let O=(()=>{class CoreCoursesMyCoursesPage{constructor(){this.siteName=\"\",this.downloadCoursesEnabled=!1,this.loaded=!1,this.myPageCourses=l.b.MY_PAGE_COURSES,this.hasSideBlocks=!1,this.updateSiteObserver=g.b.on(g.b.SITE_UPDATED,(()=>{this.downloadCoursesEnabled=!_.a.isDownloadCoursesDisabledInSite(),this.loadSiteName()}),u.b.getCurrentSiteId()),this.userId=u.b.getCurrentSiteUserId()}ngOnInit(){this.downloadCoursesEnabled=!_.a.isDownloadCoursesDisabledInSite();(new d.a).treatLink(),this.loadSiteName(),this.loadContent()}loadContent(){var e,o,s;return Object(c.a)(this,void 0,void 0,(function*(){const r=yield l.a.isAvailable(),t=yield _.a.isMyCoursesDisabled(),a=!!(null===(e=u.b.getCurrentSite())||void 0===e?void 0:e.isVersionGreaterEqualThan(\"4.0\"));if(r&&!t)try{const e=yield l.a.getDashboardBlocks(void 0,void 0,a?this.myPageCourses:void 0);this.loadedBlock=e.mainBlocks.concat(e.sideBlocks).find((e=>\"myoverview\"==e.name)),this.hasSideBlocks=a&&i.a.hasSupportedBlock(e.sideBlocks),yield b.a.nextTicks(2),this.myOverviewBlock=null===(s=null===(o=this.block)||void 0===o?void 0:o.dynamicComponent)||void 0===s?void 0:s.instance,this.loadedBlock||a||this.loadFallbackBlock()}catch(e){C.a.showErrorModal(e),this.loadFallbackBlock()}else r?this.loadedBlock=void 0:this.loadFallbackBlock();this.loaded=!0}))}loadSiteName(){this.siteName=u.b.getRequiredCurrentSite().getSiteName()||\"\"}loadFallbackBlock(){this.loadedBlock={name:\"myoverview\",visible:!0}}refresh(e){return Object(c.a)(this,void 0,void 0,(function*(){const o=[];o.push(l.a.invalidateDashboardBlocks(l.b.MY_PAGE_COURSES)),this.myOverviewBlock&&o.push(b.a.ignoreErrors(this.myOverviewBlock.doRefresh())),Promise.all(o).finally((()=>{this.loadContent().finally((()=>{null==e?void 0:e.complete()}))}))}))}ngOnDestroy(){var e;null===(e=this.updateSiteObserver)||void 0===e?void 0:e.off()}}return CoreCoursesMyCoursesPage.ɵfac=function CoreCoursesMyCoursesPage_Factory(e){return new(e||CoreCoursesMyCoursesPage)},CoreCoursesMyCoursesPage.ɵcmp=m.sc({type:CoreCoursesMyCoursesPage,selectors:[[\"page-core-courses-my\"]],viewQuery:function CoreCoursesMyCoursesPage_Query(e,o){var s;(1&e&&m.ud(n.a,!0),2&e)&&(m.dd(s=m.Nc())&&(o.block=s.first))},decls:27,vars:18,consts:[[\"slot\",\"start\"],[3,\"text\"],[\"contextLevel\",\"system\",1,\"core-header-sitename\",3,\"text\",\"contextInstanceId\"],[\"src\",\"assets/img/top_logo.png\",1,\"core-header-logo\",3,\"alt\"],[\"slot\",\"end\"],[\"slot\",\"fixed\",3,\"disabled\",\"ionRefresh\"],[3,\"pullingText\"],[3,\"hideUntil\"],[1,\"ion-text-wrap\",\"divider\"],[1,\"big\"],[\"slot\",\"end\",1,\"flex-row\"],[\"class\",\"core-button-spinner\",4,\"ngIf\"],[\"contextLevel\",\"user\",3,\"block\",\"instanceId\",4,\"ngIf\"],[\"slot\",\"fixed\",\"contextLevel\",\"user\",3,\"instanceId\",\"myDashboardPage\",4,\"ngIf\"],[\"icon\",\"fas-cubes\",3,\"message\",4,\"ngIf\"],[1,\"core-button-spinner\"],[\"fill\",\"clear\",3,\"click\",4,\"ngIf\"],[\"class\",\"core-course-download-courses-progress\",\"role\",\"progressbar\",4,\"ngIf\"],[4,\"ngIf\"],[\"fill\",\"clear\",3,\"click\"],[\"slot\",\"icon-only\",\"aria-hidden\",\"true\",3,\"name\"],[\"role\",\"progressbar\",1,\"core-course-download-courses-progress\"],[\"contextLevel\",\"user\",3,\"block\",\"instanceId\"],[\"slot\",\"fixed\",\"contextLevel\",\"user\",3,\"instanceId\",\"myDashboardPage\"],[\"icon\",\"fas-cubes\",3,\"message\"]],template:function CoreCoursesMyCoursesPage_Template(e,o){1&e&&(m.Ec(0,\"ion-header\"),m.Ec(1,\"ion-toolbar\"),m.Ec(2,\"ion-buttons\",0),m.zc(3,\"ion-back-button\",1),m.Pc(4,\"translate\"),m.Dc(),m.Ec(5,\"ion-title\"),m.Ec(6,\"h1\"),m.zc(7,\"core-format-text\",2),m.zc(8,\"img\",3),m.Dc(),m.Dc(),m.Ec(9,\"ion-buttons\",4),m.zc(10,\"core-user-menu-button\"),m.Dc(),m.Dc(),m.Dc(),m.Ec(11,\"ion-content\"),m.Ec(12,\"ion-refresher\",5),m.Mc(\"ionRefresh\",(function CoreCoursesMyCoursesPage_Template_ion_refresher_ionRefresh_12_listener(e){return o.refresh(e.target)})),m.zc(13,\"ion-refresher-content\",6),m.Pc(14,\"translate\"),m.Dc(),m.Ec(15,\"core-loading\",7),m.Ec(16,\"ion-item\",8),m.Ec(17,\"ion-label\"),m.Ec(18,\"h2\",9),m.pd(19),m.Pc(20,\"translate\"),m.Dc(),m.Dc(),m.Ec(21,\"div\",10),m.nd(22,CoreCoursesMyCoursesPage_div_22_Template,4,3,\"div\",11),m.Dc(),m.Dc(),m.Ec(23,\"ion-list\"),m.nd(24,CoreCoursesMyCoursesPage_core_block_24_Template,1,2,\"core-block\",12),m.Dc(),m.nd(25,CoreCoursesMyCoursesPage_core_block_side_blocks_button_25_Template,1,2,\"core-block-side-blocks-button\",13),m.nd(26,CoreCoursesMyCoursesPage_core_empty_box_26_Template,2,3,\"core-empty-box\",14),m.Dc(),m.Dc()),2&e&&(m.lc(3),m.Vc(\"text\",m.Qc(4,12,\"core.back\")),m.lc(4),m.Vc(\"text\",o.siteName)(\"contextInstanceId\",0),m.lc(1),m.Vc(\"alt\",o.siteName),m.lc(4),m.Vc(\"disabled\",!o.loaded),m.lc(1),m.Wc(\"pullingText\",m.Qc(14,14,\"core.pulltorefresh\")),m.lc(2),m.Vc(\"hideUntil\",o.loaded),m.lc(4),m.qd(m.Qc(20,16,\"core.courses.mycourses\")),m.lc(3),m.Vc(\"ngIf\",o.downloadCoursesEnabled&&o.myOverviewBlock&&o.myOverviewBlock.filteredCourses.length>0),m.lc(2),m.Vc(\"ngIf\",null==o.loadedBlock?null:o.loadedBlock.visible),m.lc(1),m.Vc(\"ngIf\",o.hasSideBlocks),m.lc(1),m.Vc(\"ngIf\",!o.loadedBlock))},directives:[v.C,v.Ab,v.m,v.h,v.i,v.yb,h.a,y.a,f.a,v.v,v.bb,v.cb,p.a,v.I,v.O,k.t,v.P,M.a,v.l,v.D,P.a,v.k,v.qb,n.a,w.a,D.a],pipes:[B.d],styles:[\"[_nghost-%COMP%]     ion-item-divider{display:none!important}[_nghost-%COMP%]     core-loading{--internal-loading-inline-min-height:calc(100vh - var(--core-header-toolbar-height))}ion-tabs.placement-bottom[_nghost-%COMP%]     core-loading, ion-tabs.placement-bottom   [_nghost-%COMP%]     core-loading{--internal-loading-inline-min-height:calc(100vh - var(--core-header-toolbar-height) - var(--bottom-tabs-size) - 2px)}core-block[_ngcontent-%COMP%]     ion-card.addon-block-myoverview{--border-width:0;--background:transparent;margin:0}\"]}),CoreCoursesMyCoursesPage})();var I=s(\"dQ3M\");const E=[{path:\"\",component:O}];let x=(()=>{class CoreCoursesMyCoursesPageModule{}return CoreCoursesMyCoursesPageModule.ɵmod=m.wc({type:CoreCoursesMyCoursesPageModule}),CoreCoursesMyCoursesPageModule.ɵinj=m.vc({factory:function CoreCoursesMyCoursesPageModule_Factory(e){return new(e||CoreCoursesMyCoursesPageModule)},imports:[[r.m.forChild(E),t.a,a.a,I.a],r.m]}),CoreCoursesMyCoursesPageModule})();void((\"undefined\"==typeof ngJitMode||ngJitMode)&&m.kd(x,{declarations:[O],imports:[r.m,t.a,a.a,I.a],exports:[r.m]}))}}]);","name":"99.7cb7209aa25deaca3d81.js","input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[99],{\n\n/***/ \"g77/\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"CoreCoursesMyCoursesPageModule\", function() { return /* binding */ my_module_CoreCoursesMyCoursesPageModule; });\n\n// EXTERNAL MODULE: ./node_modules/@angular/router/__ivy_ngcc__/fesm2015/router.js + 14 modules\nvar router = __webpack_require__(\"tyNb\");\n\n// EXTERNAL MODULE: ./src/core/shared.module.ts + 3 modules\nvar shared_module = __webpack_require__(\"L3Fv\");\n\n// EXTERNAL MODULE: ./src/core/features/block/components/components.module.ts\nvar components_module = __webpack_require__(\"5p9q\");\n\n// EXTERNAL MODULE: ./node_modules/tslib/tslib.es6.js\nvar tslib_es6 = __webpack_require__(\"mrSG\");\n\n// EXTERNAL MODULE: ./src/core/features/block/components/block/block.ts\nvar block = __webpack_require__(\"mSZx\");\n\n// EXTERNAL MODULE: ./src/core/features/block/services/block-delegate.ts + 1 modules\nvar block_delegate = __webpack_require__(\"6akD\");\n\n// EXTERNAL MODULE: ./src/core/features/courses/services/dashboard.ts\nvar dashboard = __webpack_require__(\"OYIH\");\n\n// EXTERNAL MODULE: ./src/core/features/mainmenu/classes/deep-link-manager.ts\nvar deep_link_manager = __webpack_require__(\"YyYz\");\n\n// EXTERNAL MODULE: ./src/core/services/sites.ts\nvar sites = __webpack_require__(\"9+EE\");\n\n// EXTERNAL MODULE: ./src/core/services/utils/dom.ts + 2 modules\nvar dom = __webpack_require__(\"3LXp\");\n\n// EXTERNAL MODULE: ./src/core/services/utils/utils.ts\nvar utils = __webpack_require__(\"bFG1\");\n\n// EXTERNAL MODULE: ./src/core/singletons/events.ts\nvar events = __webpack_require__(\"fjkH\");\n\n// EXTERNAL MODULE: ./src/core/features/courses/services/courses.ts\nvar courses = __webpack_require__(\"Xzvb\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js + 4 modules\nvar core = __webpack_require__(\"fXoL\");\n\n// EXTERNAL MODULE: ./node_modules/@ionic/angular/__ivy_ngcc__/fesm2015/ionic-angular.js + 5 modules\nvar ionic_angular = __webpack_require__(\"TEn/\");\n\n// EXTERNAL MODULE: ./src/core/directives/format-text.ts\nvar format_text = __webpack_require__(\"hMzs\");\n\n// EXTERNAL MODULE: ./src/core/features/mainmenu/components/user-menu-button/user-menu-button.ts\nvar user_menu_button = __webpack_require__(\"C1x5\");\n\n// EXTERNAL MODULE: ./src/core/directives/content.ts\nvar content = __webpack_require__(\"nt/U\");\n\n// EXTERNAL MODULE: ./src/core/components/loading/loading.ts\nvar loading = __webpack_require__(\"PgjG\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/common/__ivy_ngcc__/fesm2015/common.js\nvar common = __webpack_require__(\"ofXK\");\n\n// EXTERNAL MODULE: ./src/core/directives/update-non-reactive-attributes.ts\nvar update_non_reactive_attributes = __webpack_require__(\"ACYt\");\n\n// EXTERNAL MODULE: ./src/core/directives/fa-icon.ts\nvar fa_icon = __webpack_require__(\"3CSS\");\n\n// EXTERNAL MODULE: ./src/core/features/block/components/side-blocks-button/side-blocks-button.ts\nvar side_blocks_button = __webpack_require__(\"aSim\");\n\n// EXTERNAL MODULE: ./src/core/components/empty-box/empty-box.ts\nvar empty_box = __webpack_require__(\"r8G5\");\n\n// EXTERNAL MODULE: ./node_modules/@ngx-translate/core/__ivy_ngcc__/fesm2015/ngx-translate-core.js + 8 modules\nvar ngx_translate_core = __webpack_require__(\"sYmb\");\n\n// CONCATENATED MODULE: ./src/core/features/courses/pages/my/my.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction CoreCoursesMyCoursesPage_div_22_ion_button_1_Template(rf, ctx) {\n    if (rf & 1) {\n        const _r8 = core[\"Fc\" /* ɵɵgetCurrentView */]();\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-button\", 19);\n        core[\"Mc\" /* ɵɵlistener */](\"click\", function CoreCoursesMyCoursesPage_div_22_ion_button_1_Template_ion_button_click_0_listener() { core[\"fd\" /* ɵɵrestoreView */](_r8); const ctx_r7 = core[\"Oc\" /* ɵɵnextContext */](2); return ctx_r7.myOverviewBlock.prefetchCourses(); });\n        core[\"Pc\" /* ɵɵpipe */](1, \"translate\");\n        core[\"zc\" /* ɵɵelement */](2, \"ion-icon\", 20);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r4 = core[\"Oc\" /* ɵɵnextContext */](2);\n        core[\"mc\" /* ɵɵattribute */](\"aria-label\", core[\"Qc\" /* ɵɵpipeBind1 */](1, 2, ctx_r4.myOverviewBlock.prefetchCoursesData.statusTranslatable));\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"Vc\" /* ɵɵproperty */](\"name\", ctx_r4.myOverviewBlock.prefetchCoursesData.icon);\n    }\n}\nfunction CoreCoursesMyCoursesPage_div_22_ion_badge_2_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-badge\", 21);\n        core[\"pd\" /* ɵɵtext */](1);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r5 = core[\"Oc\" /* ɵɵnextContext */](2);\n        core[\"mc\" /* ɵɵattribute */](\"aria-valuemax\", ctx_r5.myOverviewBlock.prefetchCoursesData.total)(\"aria-valuenow\", ctx_r5.myOverviewBlock.prefetchCoursesData.count)(\"aria-valuetext\", ctx_r5.myOverviewBlock.prefetchCoursesData.badgeA11yText);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"rd\" /* ɵɵtextInterpolate1 */](\" \", ctx_r5.myOverviewBlock.prefetchCoursesData.badge, \" \");\n    }\n}\nfunction CoreCoursesMyCoursesPage_div_22_ion_spinner_3_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"zc\" /* ɵɵelement */](0, \"ion-spinner\");\n        core[\"Pc\" /* ɵɵpipe */](1, \"translate\");\n    }\n    if (rf & 2) {\n        core[\"mc\" /* ɵɵattribute */](\"aria-label\", core[\"Qc\" /* ɵɵpipeBind1 */](1, 1, \"core.loading\"));\n    }\n}\nfunction CoreCoursesMyCoursesPage_div_22_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"div\", 15);\n        core[\"nd\" /* ɵɵtemplate */](1, CoreCoursesMyCoursesPage_div_22_ion_button_1_Template, 3, 4, \"ion-button\", 16);\n        core[\"nd\" /* ɵɵtemplate */](2, CoreCoursesMyCoursesPage_div_22_ion_badge_2_Template, 2, 4, \"ion-badge\", 17);\n        core[\"nd\" /* ɵɵtemplate */](3, CoreCoursesMyCoursesPage_div_22_ion_spinner_3_Template, 2, 3, \"ion-spinner\", 18);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r0 = core[\"Oc\" /* ɵɵnextContext */]();\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", !ctx_r0.myOverviewBlock.prefetchCoursesData.loading);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx_r0.myOverviewBlock.prefetchCoursesData.badge);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx_r0.myOverviewBlock.prefetchCoursesData.loading);\n    }\n}\nfunction CoreCoursesMyCoursesPage_core_block_24_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"zc\" /* ɵɵelement */](0, \"core-block\", 22);\n    }\n    if (rf & 2) {\n        const ctx_r1 = core[\"Oc\" /* ɵɵnextContext */]();\n        core[\"Vc\" /* ɵɵproperty */](\"block\", ctx_r1.loadedBlock)(\"instanceId\", ctx_r1.userId);\n    }\n}\nfunction CoreCoursesMyCoursesPage_core_block_side_blocks_button_25_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"zc\" /* ɵɵelement */](0, \"core-block-side-blocks-button\", 23);\n    }\n    if (rf & 2) {\n        const ctx_r2 = core[\"Oc\" /* ɵɵnextContext */]();\n        core[\"Vc\" /* ɵɵproperty */](\"instanceId\", ctx_r2.userId)(\"myDashboardPage\", ctx_r2.myPageCourses);\n    }\n}\nfunction CoreCoursesMyCoursesPage_core_empty_box_26_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"zc\" /* ɵɵelement */](0, \"core-empty-box\", 24);\n        core[\"Pc\" /* ɵɵpipe */](1, \"translate\");\n    }\n    if (rf & 2) {\n        core[\"Vc\" /* ɵɵproperty */](\"message\", core[\"Qc\" /* ɵɵpipeBind1 */](1, 1, \"core.course.nocontentavailable\"));\n    }\n}\n/**\n * Page that shows a my courses.\n */\nlet my_CoreCoursesMyCoursesPage = /*@__PURE__*/ (() => {\n    class CoreCoursesMyCoursesPage {\n        constructor() {\n            this.siteName = '';\n            this.downloadCoursesEnabled = false;\n            this.loaded = false;\n            this.myPageCourses = dashboard[\"b\" /* CoreCoursesDashboardProvider */].MY_PAGE_COURSES;\n            this.hasSideBlocks = false;\n            // Refresh the enabled flags if site is updated.\n            this.updateSiteObserver = events[\"b\" /* CoreEvents */].on(events[\"b\" /* CoreEvents */].SITE_UPDATED, () => {\n                this.downloadCoursesEnabled = !courses[\"a\" /* CoreCourses */].isDownloadCoursesDisabledInSite();\n                this.loadSiteName();\n            }, sites[\"b\" /* CoreSites */].getCurrentSiteId());\n            this.userId = sites[\"b\" /* CoreSites */].getCurrentSiteUserId();\n        }\n        /**\n         * @inheritdoc\n         */\n        ngOnInit() {\n            this.downloadCoursesEnabled = !courses[\"a\" /* CoreCourses */].isDownloadCoursesDisabledInSite();\n            const deepLinkManager = new deep_link_manager[\"a\" /* CoreMainMenuDeepLinkManager */]();\n            deepLinkManager.treatLink();\n            this.loadSiteName();\n            this.loadContent();\n        }\n        /**\n         * Load my overview block instance.\n         */\n        loadContent() {\n            var _a, _b, _c;\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                const available = yield dashboard[\"a\" /* CoreCoursesDashboard */].isAvailable();\n                const disabled = yield courses[\"a\" /* CoreCourses */].isMyCoursesDisabled();\n                const supportsMyParam = !!((_a = sites[\"b\" /* CoreSites */].getCurrentSite()) === null || _a === void 0 ? void 0 : _a.isVersionGreaterEqualThan('4.0'));\n                if (available && !disabled) {\n                    try {\n                        const blocks = yield dashboard[\"a\" /* CoreCoursesDashboard */].getDashboardBlocks(undefined, undefined, supportsMyParam ? this.myPageCourses : undefined);\n                        // My overview block should always be in main blocks, but check side blocks too just in case.\n                        this.loadedBlock = blocks.mainBlocks.concat(blocks.sideBlocks).find((block) => block.name == 'myoverview');\n                        this.hasSideBlocks = supportsMyParam && block_delegate[\"a\" /* CoreBlockDelegate */].hasSupportedBlock(blocks.sideBlocks);\n                        yield utils[\"a\" /* CoreUtils */].nextTicks(2);\n                        this.myOverviewBlock = (_c = (_b = this.block) === null || _b === void 0 ? void 0 : _b.dynamicComponent) === null || _c === void 0 ? void 0 : _c.instance;\n                        if (!this.loadedBlock && !supportsMyParam) {\n                            // In old sites, display the block even if not found in Dashboard.\n                            // This is because the \"My courses\" page doesn't exist in the site so it can't be configured.\n                            this.loadFallbackBlock();\n                        }\n                    }\n                    catch (error) {\n                        dom[\"a\" /* CoreDomUtils */].showErrorModal(error);\n                        // Cannot get the blocks, just show the block if needed.\n                        this.loadFallbackBlock();\n                    }\n                }\n                else if (!available) {\n                    // WS not available, show fallback block.\n                    this.loadFallbackBlock();\n                }\n                else {\n                    this.loadedBlock = undefined;\n                }\n                this.loaded = true;\n            });\n        }\n        /**\n         * Load the site name.\n         */\n        loadSiteName() {\n            this.siteName = sites[\"b\" /* CoreSites */].getRequiredCurrentSite().getSiteName() || '';\n        }\n        /**\n         * Load fallback blocks.\n         */\n        loadFallbackBlock() {\n            this.loadedBlock = {\n                name: 'myoverview',\n                visible: true,\n            };\n        }\n        /**\n         * Refresh the data.\n         *\n         * @param refresher Refresher.\n         */\n        refresh(refresher) {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                const promises = [];\n                promises.push(dashboard[\"a\" /* CoreCoursesDashboard */].invalidateDashboardBlocks(dashboard[\"b\" /* CoreCoursesDashboardProvider */].MY_PAGE_COURSES));\n                // Invalidate the blocks.\n                if (this.myOverviewBlock) {\n                    promises.push(utils[\"a\" /* CoreUtils */].ignoreErrors(this.myOverviewBlock.doRefresh()));\n                }\n                Promise.all(promises).finally(() => {\n                    this.loadContent().finally(() => {\n                        refresher === null || refresher === void 0 ? void 0 : refresher.complete();\n                    });\n                });\n            });\n        }\n        /**\n         * @inheritdoc\n         */\n        ngOnDestroy() {\n            var _a;\n            (_a = this.updateSiteObserver) === null || _a === void 0 ? void 0 : _a.off();\n        }\n    }\n    CoreCoursesMyCoursesPage.ɵfac = function CoreCoursesMyCoursesPage_Factory(t) { return new (t || CoreCoursesMyCoursesPage)(); };\n    CoreCoursesMyCoursesPage.ɵcmp = core[\"sc\" /* ɵɵdefineComponent */]({ type: CoreCoursesMyCoursesPage, selectors: [[\"page-core-courses-my\"]], viewQuery: function CoreCoursesMyCoursesPage_Query(rf, ctx) {\n            if (rf & 1) {\n                core[\"ud\" /* ɵɵviewQuery */](block[\"a\" /* CoreBlockComponent */], true);\n            }\n            if (rf & 2) {\n                var _t;\n                core[\"dd\" /* ɵɵqueryRefresh */](_t = core[\"Nc\" /* ɵɵloadQuery */]()) && (ctx.block = _t.first);\n            }\n        }, decls: 27, vars: 18, consts: [[\"slot\", \"start\"], [3, \"text\"], [\"contextLevel\", \"system\", 1, \"core-header-sitename\", 3, \"text\", \"contextInstanceId\"], [\"src\", \"assets/img/top_logo.png\", 1, \"core-header-logo\", 3, \"alt\"], [\"slot\", \"end\"], [\"slot\", \"fixed\", 3, \"disabled\", \"ionRefresh\"], [3, \"pullingText\"], [3, \"hideUntil\"], [1, \"ion-text-wrap\", \"divider\"], [1, \"big\"], [\"slot\", \"end\", 1, \"flex-row\"], [\"class\", \"core-button-spinner\", 4, \"ngIf\"], [\"contextLevel\", \"user\", 3, \"block\", \"instanceId\", 4, \"ngIf\"], [\"slot\", \"fixed\", \"contextLevel\", \"user\", 3, \"instanceId\", \"myDashboardPage\", 4, \"ngIf\"], [\"icon\", \"fas-cubes\", 3, \"message\", 4, \"ngIf\"], [1, \"core-button-spinner\"], [\"fill\", \"clear\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"core-course-download-courses-progress\", \"role\", \"progressbar\", 4, \"ngIf\"], [4, \"ngIf\"], [\"fill\", \"clear\", 3, \"click\"], [\"slot\", \"icon-only\", \"aria-hidden\", \"true\", 3, \"name\"], [\"role\", \"progressbar\", 1, \"core-course-download-courses-progress\"], [\"contextLevel\", \"user\", 3, \"block\", \"instanceId\"], [\"slot\", \"fixed\", \"contextLevel\", \"user\", 3, \"instanceId\", \"myDashboardPage\"], [\"icon\", \"fas-cubes\", 3, \"message\"]], template: function CoreCoursesMyCoursesPage_Template(rf, ctx) {\n            if (rf & 1) {\n                core[\"Ec\" /* ɵɵelementStart */](0, \"ion-header\");\n                core[\"Ec\" /* ɵɵelementStart */](1, \"ion-toolbar\");\n                core[\"Ec\" /* ɵɵelementStart */](2, \"ion-buttons\", 0);\n                core[\"zc\" /* ɵɵelement */](3, \"ion-back-button\", 1);\n                core[\"Pc\" /* ɵɵpipe */](4, \"translate\");\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Ec\" /* ɵɵelementStart */](5, \"ion-title\");\n                core[\"Ec\" /* ɵɵelementStart */](6, \"h1\");\n                core[\"zc\" /* ɵɵelement */](7, \"core-format-text\", 2);\n                core[\"zc\" /* ɵɵelement */](8, \"img\", 3);\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Ec\" /* ɵɵelementStart */](9, \"ion-buttons\", 4);\n                core[\"zc\" /* ɵɵelement */](10, \"core-user-menu-button\");\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Ec\" /* ɵɵelementStart */](11, \"ion-content\");\n                core[\"Ec\" /* ɵɵelementStart */](12, \"ion-refresher\", 5);\n                core[\"Mc\" /* ɵɵlistener */](\"ionRefresh\", function CoreCoursesMyCoursesPage_Template_ion_refresher_ionRefresh_12_listener($event) { return ctx.refresh($event.target); });\n                core[\"zc\" /* ɵɵelement */](13, \"ion-refresher-content\", 6);\n                core[\"Pc\" /* ɵɵpipe */](14, \"translate\");\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Ec\" /* ɵɵelementStart */](15, \"core-loading\", 7);\n                core[\"Ec\" /* ɵɵelementStart */](16, \"ion-item\", 8);\n                core[\"Ec\" /* ɵɵelementStart */](17, \"ion-label\");\n                core[\"Ec\" /* ɵɵelementStart */](18, \"h2\", 9);\n                core[\"pd\" /* ɵɵtext */](19);\n                core[\"Pc\" /* ɵɵpipe */](20, \"translate\");\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Ec\" /* ɵɵelementStart */](21, \"div\", 10);\n                core[\"nd\" /* ɵɵtemplate */](22, CoreCoursesMyCoursesPage_div_22_Template, 4, 3, \"div\", 11);\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Ec\" /* ɵɵelementStart */](23, \"ion-list\");\n                core[\"nd\" /* ɵɵtemplate */](24, CoreCoursesMyCoursesPage_core_block_24_Template, 1, 2, \"core-block\", 12);\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"nd\" /* ɵɵtemplate */](25, CoreCoursesMyCoursesPage_core_block_side_blocks_button_25_Template, 1, 2, \"core-block-side-blocks-button\", 13);\n                core[\"nd\" /* ɵɵtemplate */](26, CoreCoursesMyCoursesPage_core_empty_box_26_Template, 2, 3, \"core-empty-box\", 14);\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n            }\n            if (rf & 2) {\n                core[\"lc\" /* ɵɵadvance */](3);\n                core[\"Vc\" /* ɵɵproperty */](\"text\", core[\"Qc\" /* ɵɵpipeBind1 */](4, 12, \"core.back\"));\n                core[\"lc\" /* ɵɵadvance */](4);\n                core[\"Vc\" /* ɵɵproperty */](\"text\", ctx.siteName)(\"contextInstanceId\", 0);\n                core[\"lc\" /* ɵɵadvance */](1);\n                core[\"Vc\" /* ɵɵproperty */](\"alt\", ctx.siteName);\n                core[\"lc\" /* ɵɵadvance */](4);\n                core[\"Vc\" /* ɵɵproperty */](\"disabled\", !ctx.loaded);\n                core[\"lc\" /* ɵɵadvance */](1);\n                core[\"Wc\" /* ɵɵpropertyInterpolate */](\"pullingText\", core[\"Qc\" /* ɵɵpipeBind1 */](14, 14, \"core.pulltorefresh\"));\n                core[\"lc\" /* ɵɵadvance */](2);\n                core[\"Vc\" /* ɵɵproperty */](\"hideUntil\", ctx.loaded);\n                core[\"lc\" /* ɵɵadvance */](4);\n                core[\"qd\" /* ɵɵtextInterpolate */](core[\"Qc\" /* ɵɵpipeBind1 */](20, 16, \"core.courses.mycourses\"));\n                core[\"lc\" /* ɵɵadvance */](3);\n                core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx.downloadCoursesEnabled && ctx.myOverviewBlock && ctx.myOverviewBlock.filteredCourses.length > 0);\n                core[\"lc\" /* ɵɵadvance */](2);\n                core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx.loadedBlock == null ? null : ctx.loadedBlock.visible);\n                core[\"lc\" /* ɵɵadvance */](1);\n                core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx.hasSideBlocks);\n                core[\"lc\" /* ɵɵadvance */](1);\n                core[\"Vc\" /* ɵɵproperty */](\"ngIf\", !ctx.loadedBlock);\n            }\n        }, directives: [ionic_angular[\"C\" /* IonHeader */], ionic_angular[\"Ab\" /* IonToolbar */], ionic_angular[\"m\" /* IonButtons */], ionic_angular[\"h\" /* IonBackButton */], ionic_angular[\"i\" /* IonBackButtonDelegate */], ionic_angular[\"yb\" /* IonTitle */], format_text[\"a\" /* CoreFormatTextDirective */], user_menu_button[\"a\" /* CoreMainMenuUserButtonComponent */], content[\"a\" /* CoreContentDirective */], ionic_angular[\"v\" /* IonContent */], ionic_angular[\"bb\" /* IonRefresher */], ionic_angular[\"cb\" /* IonRefresherContent */], loading[\"a\" /* CoreLoadingComponent */], ionic_angular[\"I\" /* IonItem */], ionic_angular[\"O\" /* IonLabel */], common[\"t\" /* NgIf */], ionic_angular[\"P\" /* IonList */], update_non_reactive_attributes[\"a\" /* CoreUpdateNonReactiveAttributesDirective */], ionic_angular[\"l\" /* IonButton */], ionic_angular[\"D\" /* IonIcon */], fa_icon[\"a\" /* CoreFaIconDirective */], ionic_angular[\"k\" /* IonBadge */], ionic_angular[\"qb\" /* IonSpinner */], block[\"a\" /* CoreBlockComponent */], side_blocks_button[\"a\" /* CoreBlockSideBlocksButtonComponent */], empty_box[\"a\" /* CoreEmptyBoxComponent */]], pipes: [ngx_translate_core[\"d\" /* TranslatePipe */]], styles: [\"[_nghost-%COMP%]     ion-item-divider{display:none!important}[_nghost-%COMP%]     core-loading{--internal-loading-inline-min-height:calc(100vh - var(--core-header-toolbar-height))}ion-tabs.placement-bottom[_nghost-%COMP%]     core-loading, ion-tabs.placement-bottom   [_nghost-%COMP%]     core-loading{--internal-loading-inline-min-height:calc(100vh - var(--core-header-toolbar-height) - var(--bottom-tabs-size) - 2px)}core-block[_ngcontent-%COMP%]     ion-card.addon-block-myoverview{--border-width:0;--background:transparent;margin:0}\"] });\n    return CoreCoursesMyCoursesPage;\n})();\n\n// EXTERNAL MODULE: ./src/core/features/mainmenu/components/components.module.ts\nvar components_components_module = __webpack_require__(\"dQ3M\");\n\n// CONCATENATED MODULE: ./src/core/features/courses/pages/my/my.module.ts\n// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n\n\n\n\n\n\nconst routes = [\n    {\n        path: '',\n        component: my_CoreCoursesMyCoursesPage,\n    },\n];\nlet my_module_CoreCoursesMyCoursesPageModule = /*@__PURE__*/ (() => {\n    class CoreCoursesMyCoursesPageModule {\n    }\n    CoreCoursesMyCoursesPageModule.ɵmod = core[\"wc\" /* ɵɵdefineNgModule */]({ type: CoreCoursesMyCoursesPageModule });\n    CoreCoursesMyCoursesPageModule.ɵinj = core[\"vc\" /* ɵɵdefineInjector */]({ factory: function CoreCoursesMyCoursesPageModule_Factory(t) { return new (t || CoreCoursesMyCoursesPageModule)(); }, imports: [[\n                router[\"m\" /* RouterModule */].forChild(routes),\n                shared_module[\"a\" /* CoreSharedModule */],\n                components_module[\"a\" /* CoreBlockComponentsModule */],\n                components_components_module[\"a\" /* CoreMainMenuComponentsModule */],\n            ], router[\"m\" /* RouterModule */]] });\n    return CoreCoursesMyCoursesPageModule;\n})();\n(function () {\n    (typeof ngJitMode === \"undefined\" || ngJitMode) && core[\"kd\" /* ɵɵsetNgModuleScope */](my_module_CoreCoursesMyCoursesPageModule, { declarations: [my_CoreCoursesMyCoursesPage], imports: [router[\"m\" /* RouterModule */], shared_module[\"a\" /* CoreSharedModule */],\n            components_module[\"a\" /* CoreBlockComponentsModule */],\n            components_components_module[\"a\" /* CoreMainMenuComponentsModule */]], exports: [router[\"m\" /* RouterModule */]] });\n})();\n\n\n/***/ })\n\n}]);","inputSourceMap":null}