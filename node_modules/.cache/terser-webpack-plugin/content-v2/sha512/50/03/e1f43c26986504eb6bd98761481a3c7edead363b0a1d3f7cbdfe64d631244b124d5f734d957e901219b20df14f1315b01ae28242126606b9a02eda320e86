{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[107],{uFKL:function(n,e,t){\"use strict\";t.r(e),t.d(e,\"CoreLoginSitePageModule\",(function(){return V}));var i=t(\"tyNb\"),o=t(\"L3Fv\"),c=t(\"mrSG\"),r=t(\"nvXB\"),a=t(\"BBqZ\"),l=t(\"9+EE\"),s=t(\"bFG1\"),g=t(\"3LXp\"),_=t(\"mv9v\"),d=t(\"kxYv\"),m=t(\"93ts\"),u=t(\"BaYo\"),h=t(\"j3ag\"),p=t(\"oZnq\"),f=t(\"mvS9\"),C=t(\"JpIC\"),P=t(\"m2Ry\"),O=t(\"pHTc\"),M=t(\"y9BN\"),S=t(\"vuGA\"),b=t(\"4reR\"),v=t(\"fXoL\"),L=t(\"3Pt+\"),y=t(\"TEn/\"),x=t(\"ACYt\"),w=t(\"3CSS\"),E=t(\"nt/U\"),T=t(\"ofXK\"),k=t(\"6uVz\"),D=t(\"sYmb\");const I=[\"siteFormEl\"];function CoreLoginSitePage_form_17_ng_container_2_Template(n,e){if(1&n&&(v.Cc(0),v.Ec(1,\"ion-item\"),v.Ec(2,\"ion-label\",15),v.Ec(3,\"h2\"),v.pd(4),v.Pc(5,\"translate\"),v.Dc(),v.Dc(),v.zc(6,\"ion-input\",16),v.Pc(7,\"translate\"),v.Dc(),v.Bc()),2&n){const n=v.Oc(2);v.lc(4),v.qd(v.Qc(5,3,\"core.login.siteaddress\")),v.lc(2),v.Wc(\"placeholder\",v.Qc(7,5,\"core.login.siteaddressplaceholder\")),v.Vc(\"core-auto-focus\",n.showKeyboard&&!n.showScanQR)}}function CoreLoginSitePage_form_17_ng_container_3_ion_item_14_Template(n,e){if(1&n){const n=v.Fc();v.Ec(0,\"ion-item\",27),v.Mc(\"click\",(function CoreLoginSitePage_form_17_ng_container_3_ion_item_14_Template_ion_item_click_0_listener(e){v.fd(n);const t=v.Oc(3);return t.connect(e,t.enteredSiteUrl.url)})),v.Pc(1,\"translate\"),v.Ec(2,\"ion-thumbnail\",28),v.zc(3,\"ion-icon\",29),v.Dc(),v.Ec(4,\"ion-label\"),v.Ec(5,\"h2\",30),v.pd(6),v.Pc(7,\"translate\"),v.Dc(),v.Ec(8,\"p\"),v.pd(9),v.Dc(),v.Dc(),v.Dc()}if(2&n){const n=v.Oc(3);v.mc(\"aria-label\",v.Qc(1,3,\"core.login.connect\")),v.lc(6),v.qd(v.Qc(7,5,\"core.login.yourenteredsite\")),v.lc(3),v.qd(n.enteredSiteUrl.noProtocolUrl)}}function CoreLoginSitePage_form_17_ng_container_3_div_16_Template(n,e){1&n&&(v.Ec(0,\"div\",31),v.zc(1,\"ion-spinner\"),v.Pc(2,\"translate\"),v.Dc()),2&n&&(v.lc(1),v.mc(\"aria-label\",v.Qc(2,1,\"core.loading\")))}function CoreLoginSitePage_form_17_ng_container_3_ng_container_17_ng_container_1_Template(n,e){1&n&&v.Ac(0)}const _c1=function(n){return{site:n}};function CoreLoginSitePage_form_17_ng_container_3_ng_container_17_Template(n,e){if(1&n&&(v.Cc(0),v.nd(1,CoreLoginSitePage_form_17_ng_container_3_ng_container_17_ng_container_1_Template,1,0,\"ng-container\",32),v.Bc()),2&n){const n=e.$implicit;v.Oc(3);const t=v.ed(24);v.lc(1),v.Vc(\"ngTemplateOutlet\",t)(\"ngTemplateOutletContext\",v.ad(2,_c1,n))}}function CoreLoginSitePage_form_17_ng_container_3_div_18_Template(n,e){1&n&&(v.Ec(0,\"div\",33),v.zc(1,\"ion-spinner\"),v.Pc(2,\"translate\"),v.Dc()),2&n&&(v.lc(1),v.mc(\"aria-label\",v.Qc(2,1,\"core.loading\")))}function CoreLoginSitePage_form_17_ng_container_3_Template(n,e){if(1&n){const n=v.Fc();v.Cc(0),v.Ec(1,\"ion-item\"),v.Ec(2,\"ion-label\",17),v.Ec(3,\"h2\"),v.pd(4),v.Pc(5,\"translate\"),v.Dc(),v.Dc(),v.Ec(6,\"ion-input\",18),v.Mc(\"ionChange\",(function CoreLoginSitePage_form_17_ng_container_3_Template_ion_input_ionChange_6_listener(e){v.fd(n);const t=v.Oc(2);return t.searchSite(e,t.siteForm.value.siteUrl)})),v.Pc(7,\"translate\"),v.Dc(),v.Dc(),v.Ec(8,\"ion-list\",19),v.Ec(9,\"ion-item\",20),v.Ec(10,\"ion-label\"),v.Ec(11,\"h2\",21),v.pd(12),v.Pc(13,\"translate\"),v.Dc(),v.Dc(),v.Dc(),v.nd(14,CoreLoginSitePage_form_17_ng_container_3_ion_item_14_Template,10,7,\"ion-item\",22),v.Ec(15,\"div\",23),v.nd(16,CoreLoginSitePage_form_17_ng_container_3_div_16_Template,3,3,\"div\",24),v.nd(17,CoreLoginSitePage_form_17_ng_container_3_ng_container_17_Template,2,4,\"ng-container\",25),v.Dc(),v.Dc(),v.nd(18,CoreLoginSitePage_form_17_ng_container_3_div_18_Template,3,3,\"div\",26),v.Bc()}if(2&n){const n=v.Oc(2);v.lc(4),v.qd(v.Qc(5,14,\"core.login.siteaddress\")),v.lc(2),v.Wc(\"placeholder\",v.Qc(7,16,\"core.login.siteaddressplaceholder\")),v.Vc(\"core-auto-focus\",n.showKeyboard&&!n.showScanQR),v.lc(2),v.qc(\"hidden\",!n.hasSites&&!n.enteredSiteUrl),v.lc(4),v.qd(v.Qc(13,18,\"core.login.selectsite\")),v.lc(2),v.Vc(\"ngIf\",n.enteredSiteUrl),v.lc(1),v.qc(\"hidden\",!n.hasSites)(\"dimmed\",n.loadingSites),v.lc(1),v.Vc(\"ngIf\",n.loadingSites),v.lc(1),v.Vc(\"ngForOf\",n.sites),v.lc(1),v.Vc(\"ngIf\",!n.hasSites&&n.loadingSites)}}function CoreLoginSitePage_form_17_ion_item_4_Template(n,e){if(1&n&&(v.Ec(0,\"ion-item\"),v.Ec(1,\"ion-label\"),v.Ec(2,\"ion-button\",34),v.pd(3),v.Pc(4,\"translate\"),v.Dc(),v.Dc(),v.Dc()),2&n){const n=v.Oc(2);v.lc(2),v.Vc(\"disabled\",!n.siteForm.valid),v.lc(1),v.rd(\" \",v.Qc(4,2,\"core.login.connect\"),\" \")}}function CoreLoginSitePage_form_17_Template(n,e){if(1&n){const n=v.Fc();v.Ec(0,\"form\",13,14),v.Mc(\"ngSubmit\",(function CoreLoginSitePage_form_17_Template_form_ngSubmit_0_listener(e){v.fd(n);const t=v.Oc();return t.connect(e,t.siteForm.value.siteUrl)})),v.nd(2,CoreLoginSitePage_form_17_ng_container_2_Template,8,7,\"ng-container\",10),v.nd(3,CoreLoginSitePage_form_17_ng_container_3_Template,19,20,\"ng-container\",10),v.nd(4,CoreLoginSitePage_form_17_ion_item_4_Template,5,4,\"ion-item\",10),v.Dc()}if(2&n){const n=v.Oc();v.Vc(\"formGroup\",n.siteForm),v.lc(2),v.Vc(\"ngIf\",\"url\"==n.siteSelector),v.lc(1),v.Vc(\"ngIf\",\"url\"!=n.siteSelector),v.lc(1),v.Vc(\"ngIf\",\"url\"==n.siteSelector)}}function CoreLoginSitePage_ng_container_18_ion_list_1_ion_searchbar_6_Template(n,e){if(1&n){const n=v.Fc();v.Ec(0,\"ion-searchbar\",36),v.Mc(\"ngModelChange\",(function CoreLoginSitePage_ng_container_18_ion_list_1_ion_searchbar_6_Template_ion_searchbar_ngModelChange_0_listener(e){v.fd(n);return v.Oc(3).filter=e}))(\"ionInput\",(function CoreLoginSitePage_ng_container_18_ion_list_1_ion_searchbar_6_Template_ion_searchbar_ionInput_0_listener(e){v.fd(n);return v.Oc(3).filterChanged(e)}))(\"ionCancel\",(function CoreLoginSitePage_ng_container_18_ion_list_1_ion_searchbar_6_Template_ion_searchbar_ionCancel_0_listener(){v.fd(n);return v.Oc(3).filterChanged()})),v.Pc(1,\"translate\"),v.Dc()}if(2&n){const n=v.Oc(3);v.Vc(\"ngModel\",n.filter)(\"placeholder\",v.Qc(1,2,\"core.login.findyoursite\"))}}function CoreLoginSitePage_ng_container_18_ion_list_1_ng_container_7_ng_container_1_Template(n,e){1&n&&v.Ac(0)}function CoreLoginSitePage_ng_container_18_ion_list_1_ng_container_7_Template(n,e){if(1&n&&(v.Cc(0),v.nd(1,CoreLoginSitePage_ng_container_18_ion_list_1_ng_container_7_ng_container_1_Template,1,0,\"ng-container\",32),v.Bc()),2&n){const n=e.$implicit;v.Oc(3);const t=v.ed(24);v.lc(1),v.Vc(\"ngTemplateOutlet\",t)(\"ngTemplateOutletContext\",v.ad(2,_c1,n))}}function CoreLoginSitePage_ng_container_18_ion_list_1_Template(n,e){if(1&n&&(v.Ec(0,\"ion-list\"),v.Ec(1,\"ion-item\"),v.Ec(2,\"ion-label\"),v.Ec(3,\"h2\",21),v.pd(4),v.Pc(5,\"translate\"),v.Dc(),v.Dc(),v.Dc(),v.nd(6,CoreLoginSitePage_ng_container_18_ion_list_1_ion_searchbar_6_Template,2,4,\"ion-searchbar\",35),v.nd(7,CoreLoginSitePage_ng_container_18_ion_list_1_ng_container_7_Template,2,4,\"ng-container\",25),v.Dc()),2&n){const n=v.Oc(2);v.lc(4),v.qd(v.Qc(5,3,\"core.login.selectsite\")),v.lc(2),v.Vc(\"ngIf\",n.fixedSites.length>4),v.lc(1),v.Vc(\"ngForOf\",n.filteredSites)}}function CoreLoginSitePage_ng_container_18_Template(n,e){if(1&n&&(v.Cc(0),v.nd(1,CoreLoginSitePage_ng_container_18_ion_list_1_Template,8,5,\"ion-list\",10),v.Bc()),2&n){const n=v.Oc();v.lc(1),v.Vc(\"ngIf\",\"list\"==n.siteSelector)}}function CoreLoginSitePage_ng_container_19_Template(n,e){if(1&n){const n=v.Fc();v.Cc(0),v.Ec(1,\"div\",37),v.pd(2),v.Pc(3,\"translate\"),v.Dc(),v.Ec(4,\"ion-button\",38),v.Mc(\"click\",(function CoreLoginSitePage_ng_container_19_Template_ion_button_click_4_listener(){v.fd(n);return v.Oc().showInstructionsAndScanQR()})),v.zc(5,\"ion-icon\",39),v.pd(6),v.Pc(7,\"translate\"),v.Dc(),v.Bc()}2&n&&(v.lc(2),v.qd(v.Qc(3,2,\"core.login.or\")),v.lc(4),v.rd(\" \",v.Qc(7,4,\"core.scanqr\"),\" \"))}function CoreLoginSitePage_ng_template_23_ion_thumbnail_1_img_1_Template(n,e){if(1&n&&v.zc(0,\"img\",45),2&n){const n=v.Oc(2).site;v.Vc(\"src\",n.imageurl,v.id)}}function CoreLoginSitePage_ng_template_23_ion_thumbnail_1_img_2_Template(n,e){1&n&&v.zc(0,\"img\",46)}function CoreLoginSitePage_ng_template_23_ion_thumbnail_1_Template(n,e){if(1&n&&(v.Ec(0,\"ion-thumbnail\",0),v.nd(1,CoreLoginSitePage_ng_template_23_ion_thumbnail_1_img_1_Template,1,1,\"img\",43),v.nd(2,CoreLoginSitePage_ng_template_23_ion_thumbnail_1_img_2_Template,1,0,\"img\",44),v.Dc()),2&n){const n=v.Oc().site;v.lc(1),v.Vc(\"ngIf\",n.imageurl),v.lc(1),v.Vc(\"ngIf\",!n.imageurl)}}function CoreLoginSitePage_ng_template_23_p_3_Template(n,e){if(1&n&&(v.Ec(0,\"p\",47),v.pd(1),v.Dc()),2&n){const n=v.Oc().site;v.lc(1),v.qd(n.title)}}function CoreLoginSitePage_ng_template_23_p_4_Template(n,e){if(1&n&&(v.Ec(0,\"p\"),v.pd(1),v.Dc()),2&n){const n=v.Oc().site;v.lc(1),v.qd(n.noProtocolUrl)}}function CoreLoginSitePage_ng_template_23_p_5_Template(n,e){if(1&n&&(v.Ec(0,\"p\"),v.pd(1),v.Dc()),2&n){const n=v.Oc().site;v.lc(1),v.qd(n.location)}}function CoreLoginSitePage_ng_template_23_Template(n,e){if(1&n){const n=v.Fc();v.Ec(0,\"ion-item\",40),v.Mc(\"click\",(function CoreLoginSitePage_ng_template_23_Template_ion_item_click_0_listener(t){v.fd(n);const i=e.site;return v.Oc().connect(t,i.url,i)})),v.nd(1,CoreLoginSitePage_ng_template_23_ion_thumbnail_1_Template,3,2,\"ion-thumbnail\",41),v.Ec(2,\"ion-label\"),v.nd(3,CoreLoginSitePage_ng_template_23_p_3_Template,2,1,\"p\",42),v.nd(4,CoreLoginSitePage_ng_template_23_p_4_Template,2,1,\"p\",10),v.nd(5,CoreLoginSitePage_ng_template_23_p_5_Template,2,1,\"p\",10),v.Dc(),v.Dc()}if(2&n){const n=e.site,t=v.Oc();v.mc(\"aria-label\",n.name),v.lc(1),v.Vc(\"ngIf\",t.siteFinderSettings.displayimage),v.lc(2),v.Vc(\"ngIf\",n.title),v.lc(1),v.Vc(\"ngIf\",n.noProtocolUrl),v.lc(1),v.Vc(\"ngIf\",n.location)}}let U=(()=>{class CoreLoginSitePage{constructor(n){this.formBuilder=n,this.siteSelector=\"sitefinder\",this.showKeyboard=!1,this.filter=\"\",this.sites=[],this.hasSites=!1,this.loadingSites=!1;let e=\"\";this.siteSelector=u.a.CONFIG.multisitesdisplay;this.siteFinderSettings=Object.assign({displaysitename:!0,displayimage:!0,displayalias:!0,displaycity:!0,displaycountry:!0,displayurl:!0},u.a.CONFIG.sitefindersettings||{}),_.a.hasSeveralFixedSites()?e=this.initSiteSelector():u.a.CONFIG.enableonboarding&&!r.a.isIOS()&&this.initOnboarding(),this.showScanQR=_.a.displayQRInSiteScreen(),this.siteForm=this.formBuilder.group({siteUrl:[e,this.moodleUrlValidator()]}),this.searchFunction=s.a.debounce((n=>Object(c.a)(this,void 0,void 0,(function*(){if((n=n.trim()).length>=3){const e=yield l.b.findSites(n);this.sites=this.extendCoreLoginSiteInfo(e),this.hasSites=!!this.sites.length}else this.hasSites=!1;this.loadingSites=!1}))),1e3)}ngOnInit(){this.showKeyboard=!!O.a.getRouteBooleanParam(\"showKeyboard\")}initSiteSelector(){return this.fixedSites=this.extendCoreLoginSiteInfo(_.a.getFixedSites()),this.siteSelector=\"list\",this.fixedSites.some((n=>!!n.imageurl))||(this.siteFinderSettings.displayimage=!1),this.filteredSites=this.fixedSites,this.fixedSites[0].url}initOnboarding(){return Object(c.a)(this,void 0,void 0,(function*(){(yield a.a.get(_.b.ONBOARDING_DONE,!1))||this.showOnboarding()}))}extendCoreLoginSiteInfo(n){return n.map((n=>{n.noProtocolUrl=this.siteFinderSettings.displayurl&&n.url?p.a.removeProtocol(n.url):\"\";const e=this.siteFinderSettings.displaysitename?n.name:\"\",t=this.siteFinderSettings.displayalias&&n.alias?n.alias:\"\";n.title=e&&t?e+\" (\"+t+\")\":e+t;const i=this.siteFinderSettings.displaycountry&&n.countrycode?s.a.getCountryName(n.countrycode):\"\",o=this.siteFinderSettings.displaycity&&n.city?n.city:\"\";return n.location=o&&i?o+\" - \"+i:o+i,n}))}moodleUrlValidator(){return n=>{const e=n.value.trim();let t=e.length>=3&&p.a.isValidMoodleUrl(e);if(!t){!!l.b.getDemoSiteData(e)&&(t=!0)}return t?null:{siteUrl:{value:n.value}}}}showHelp(){return Object(c.a)(this,void 0,void 0,(function*(){yield g.a.openModal({component:C.a,cssClass:\"core-modal-fullscreen\"})}))}showOnboarding(){return Object(c.a)(this,void 0,void 0,(function*(){yield g.a.openModal({component:P.a,cssClass:\"core-modal-fullscreen\"})}))}connect(n,e,t){return Object(c.a)(this,void 0,void 0,(function*(){if(n.preventDefault(),n.stopPropagation(),r.a.closeKeyboard(),!e)return g.a.showErrorModal(\"core.login.siteurlrequired\",!0),void 0;if(!r.a.isOnline())return g.a.showErrorModal(\"core.networkerrormsg\",!0),void 0;if((e=e.trim()).match(/^(https?:\\/\\/)?campus\\.example\\.edu/))return this.showLoginIssue(null,new m.a(h.M.instant(\"core.login.errorexampleurl\"))),void 0;const i=l.b.getDemoSiteData(e);if(i)yield this.loginDemoSite(i);else{const n=yield g.a.showModalLoading();let i;try{i=yield l.b.checkSite(e)}catch(t){const o=p.a.guessMoodleDomain(e);if(!o||o==e)return n.dismiss(),this.showLoginIssue(e,t);try{i=yield l.b.checkSite(o)}catch(i){return n.dismiss(),this.showLoginIssue(e,t||i)}}yield this.login(i,t),n.dismiss()}}))}loginDemoSite(n){return Object(c.a)(this,void 0,void 0,(function*(){const e=yield g.a.showModalLoading();try{const t=yield l.b.getUserToken(n.url,n.username,n.password);return yield l.b.newSite(t.siteUrl,t.token,t.privateToken),b.a.triggerFormSubmittedEvent(this.formElement,!0),yield O.a.navigateToSiteHome(),void 0}catch(e){_.a.treatUserTokenError(n.url,e,n.username,n.password),e.loggedout&&O.a.navigate(\"/login/sites\",{reset:!0})}finally{e.dismiss()}}))}login(n,e){var t;return Object(c.a)(this,void 0,void 0,(function*(){try{if(yield l.b.checkApplication(n.config),b.a.triggerFormSubmittedEvent(this.formElement,!0),_.a.isSSOLoginNeeded(n.code))_.a.confirmAndOpenBrowserForSSOLogin(n.siteUrl,n.code,n.service,null===(t=n.config)||void 0===t?void 0:t.launchurl);else{const t={siteUrl:n.siteUrl,siteConfig:n.config};e&&!this.fixedSites&&(t.siteName=e.name,t.logoUrl=e.imageurl),O.a.navigate(\"/login/credentials\",{params:t})}}catch(n){}}))}showLoginIssue(n,e){let t=g.a.getErrorMessage(e);if(t==h.M.instant(\"core.cannotconnecttrouble\")){this.sites.find((e=>e.url==n))||(t+=\" \"+h.M.instant(\"core.cannotconnectverify\"))}let i=\"<p>\"+t+\"</p>\";if(n){i+='<p padding><a href=\"'+(f.a.isAbsoluteURL(n)?n:\"https://\"+n)+'\" core-link>'+n+\"</a></p>\"}const o=[{text:h.M.instant(\"core.needhelp\"),cssClass:\"core-login-need-help\",handler:()=>{this.showHelp()}},{text:h.M.instant(\"core.tryagain\"),role:\"cancel\"}];g.a.showAlertWithOptions({header:h.M.instant(\"core.cannotconnect\",{$a:d.a.MINIMUM_MOODLE_VERSION}),message:i,buttons:o})}filterChanged(n){var e;const t=null===(e=null==n?void 0:n.target.value)||void 0===e?void 0:e.trim().toLowerCase();this.filteredSites=t&&this.fixedSites?this.fixedSites.filter((n=>n.title.toLowerCase().indexOf(t)>-1||n.noProtocolUrl.toLowerCase().indexOf(t)>-1||n.location.toLowerCase().indexOf(t)>-1)):this.fixedSites}searchSite(n,e){this.loadingSites=!0,e=e.trim(),this.enteredSiteUrl=this.siteForm.valid&&e.length>=3?{url:e,name:\"connect\",title:\"\",location:\"\",noProtocolUrl:p.a.removeProtocol(e)}:void 0,this.searchFunction(e.trim())}showInstructionsAndScanQR(){return Object(c.a)(this,void 0,void 0,(function*(){try{yield _.a.showScanQRInstructions(),yield this.scanQR()}catch(n){}}))}scanQR(){return Object(c.a)(this,void 0,void 0,(function*(){const n=yield s.a.scanQR();if(!n)return;if(M.a.isCustomURL(n)){try{yield M.a.handleCustomURL(n)}catch(e){e&&e.data&&e.data.isAuthenticationURL&&e.data.siteUrl?this.treatErrorInAuthenticationCustomURL(n,e):M.a.treatHandleCustomURLError(e)}return}const e=f.a.getUrlProtocol(n);if(e&&\"http\"!=e&&\"https\"!=e)return g.a.showErrorModal(h.M.instant(\"core.errorurlschemeinvalidscheme\",{$a:n})),void 0;(yield _.a.isSiteUrlAllowed(n))?(this.siteForm.controls.siteUrl.setValue(n),this.connect(new Event(\"click\"),n)):g.a.showErrorModal(\"core.errorurlschemeinvalidsite\",!0)}))}treatErrorInAuthenticationCustomURL(n,e){var t;return Object(c.a)(this,void 0,void 0,(function*(){const n=(null===(t=e.data)||void 0===t?void 0:t.siteUrl)||\"\",i=yield g.a.showModalLoading();this.siteForm.controls.siteUrl.setValue(n);try{const e=yield l.b.checkSite(n);yield l.b.checkApplication(e.config),_.a.isSSOLoginNeeded(e.code)||(yield O.a.navigate(\"/login/credentials\",{params:{siteUrl:e.siteUrl,siteConfig:e.config}}))}catch(n){}finally{i.dismiss()}e.error=S.a.addTextToError(e.error,\"<br><br>\"+h.M.instant(\"core.login.youcanstillconnectwithcredentials\")),M.a.treatHandleCustomURLError(e)}))}openSettings(){O.a.navigate(\"/settings\")}}return CoreLoginSitePage.ɵfac=function CoreLoginSitePage_Factory(n){return new(n||CoreLoginSitePage)(v.yc(L.f))},CoreLoginSitePage.ɵcmp=v.sc({type:CoreLoginSitePage,selectors:[[\"page-core-login-site\"]],viewQuery:function CoreLoginSitePage_Query(n,e){var t;(1&n&&v.ud(I,!0),2&n)&&(v.dd(t=v.Nc())&&(e.formElement=t.first))},decls:25,vars:17,consts:[[\"slot\",\"start\"],[3,\"text\"],[\"slot\",\"end\"],[\"fill\",\"clear\",3,\"click\"],[\"slot\",\"icon-only\",\"name\",\"fas-cog\",\"aria-hidden\",\"true\"],[1,\"ion-padding\"],[1,\"list-item-limited-width\"],[1,\"ion-text-center\",\"ion-padding\",\"ion-margin-bottom\",\"core-login-site-logo\"],[\"src\",\"assets/img/login_logo.png\",\"role\",\"presentation\",\"alt\",\"\",1,\"avatar-full\",\"login-logo\"],[3,\"formGroup\",\"ngSubmit\",4,\"ngIf\"],[4,\"ngIf\"],[\"aria-haspopup\",\"dialog\",\"expand\",\"block\",\"fill\",\"clear\",1,\"ion-margin-top\",\"core-login-need-help\",\"core-button-as-link\",\"ion-text-wrap\",3,\"click\"],[\"sitelisting\",\"\"],[3,\"formGroup\",\"ngSubmit\"],[\"siteFormEl\",\"\"],[\"position\",\" stacked\"],[\"name\",\"url\",\"type\",\"url\",\"formControlName\",\"siteUrl\",3,\"placeholder\",\"core-auto-focus\"],[\"position\",\"stacked\"],[\"name\",\"url\",\"formControlName\",\"siteUrl\",3,\"placeholder\",\"core-auto-focus\",\"ionChange\"],[1,\"core-login-site-list\"],[1,\"core-login-site-list-title\"],[1,\"item-heading\"],[\"button\",\"\",\"detail\",\"true\",\"class\",\"core-login-entered-site\",3,\"click\",4,\"ngIf\"],[1,\"core-login-site-list-found\"],[\"class\",\"core-login-site-list-loading\",4,\"ngIf\"],[4,\"ngFor\",\"ngForOf\"],[\"class\",\"core-login-site-nolist-loading\",4,\"ngIf\"],[\"button\",\"\",\"detail\",\"true\",1,\"core-login-entered-site\",3,\"click\"],[\"slot\",\"start\",\"aria-hidden\",\"true\"],[\"name\",\"fas-pen\",\"aria-hidden\",\"true\"],[1,\"ion-text-wrap\"],[1,\"core-login-site-list-loading\"],[4,\"ngTemplateOutlet\",\"ngTemplateOutletContext\"],[1,\"core-login-site-nolist-loading\"],[\"expand\",\"block\",\"type\",\"submit\",1,\"ion-text-wrap\",3,\"disabled\"],[3,\"ngModel\",\"placeholder\",\"ngModelChange\",\"ionInput\",\"ionCancel\",4,\"ngIf\"],[3,\"ngModel\",\"placeholder\",\"ngModelChange\",\"ionInput\",\"ionCancel\"],[1,\"ion-text-center\",\"ion-padding\",\"ion-margin-top\"],[\"expand\",\"block\",\"fill\",\"outline\",\"aria-haspopup\",\"dialog\",1,\"ion-margin\",3,\"click\"],[\"slot\",\"start\",\"name\",\"fas-qrcode\",\"aria-hidden\",\"true\"],[\"button\",\"\",\"detail\",\"true\",3,\"click\"],[\"slot\",\"start\",4,\"ngIf\"],[\"class\",\"item-heading ion-text-wrap\",4,\"ngIf\"],[\"onError\",\"this.src='assets/icon/icon.png'\",\"alt\",\"\",\"role\",\"presentation\",3,\"src\",4,\"ngIf\"],[\"src\",\"assets/icon/icon.png\",\"class\",\"core-login-default-icon\",\"alt\",\"\",\"role\",\"presentation\",4,\"ngIf\"],[\"onError\",\"this.src='assets/icon/icon.png'\",\"alt\",\"\",\"role\",\"presentation\",3,\"src\"],[\"src\",\"assets/icon/icon.png\",\"alt\",\"\",\"role\",\"presentation\",1,\"core-login-default-icon\"],[1,\"item-heading\",\"ion-text-wrap\"]],template:function CoreLoginSitePage_Template(n,e){1&n&&(v.Ec(0,\"ion-header\"),v.Ec(1,\"ion-toolbar\"),v.Ec(2,\"ion-buttons\",0),v.zc(3,\"ion-back-button\",1),v.Pc(4,\"translate\"),v.Dc(),v.Ec(5,\"ion-title\"),v.Ec(6,\"h1\"),v.pd(7),v.Pc(8,\"translate\"),v.Dc(),v.Dc(),v.Ec(9,\"ion-buttons\",2),v.Ec(10,\"ion-button\",3),v.Mc(\"click\",(function CoreLoginSitePage_Template_ion_button_click_10_listener(){return e.openSettings()})),v.Pc(11,\"translate\"),v.zc(12,\"ion-icon\",4),v.Dc(),v.Dc(),v.Dc(),v.Dc(),v.Ec(13,\"ion-content\",5),v.Ec(14,\"div\",6),v.Ec(15,\"div\",7),v.zc(16,\"img\",8),v.Dc(),v.nd(17,CoreLoginSitePage_form_17_Template,5,4,\"form\",9),v.nd(18,CoreLoginSitePage_ng_container_18_Template,2,1,\"ng-container\",10),v.nd(19,CoreLoginSitePage_ng_container_19_Template,8,6,\"ng-container\",10),v.Ec(20,\"ion-button\",11),v.Mc(\"click\",(function CoreLoginSitePage_Template_ion_button_click_20_listener(){return e.showHelp()})),v.pd(21),v.Pc(22,\"translate\"),v.Dc(),v.Dc(),v.Dc(),v.nd(23,CoreLoginSitePage_ng_template_23_Template,6,5,\"ng-template\",null,12,v.od)),2&n&&(v.lc(3),v.Vc(\"text\",v.Qc(4,9,\"core.back\")),v.lc(4),v.qd(v.Qc(8,11,\"core.login.connecttomoodle\")),v.lc(3),v.mc(\"aria-label\",v.Qc(11,13,\"core.settings.appsettings\")),v.lc(5),v.qc(\"hidden\",e.hasSites||e.enteredSiteUrl),v.lc(2),v.Vc(\"ngIf\",!e.fixedSites),v.lc(1),v.Vc(\"ngIf\",e.fixedSites),v.lc(1),v.Vc(\"ngIf\",e.showScanQR&&!e.hasSites&&!e.enteredSiteUrl),v.lc(2),v.rd(\" \",v.Qc(22,15,\"core.needhelp\"),\" \"))},directives:[y.C,y.Ab,y.m,y.h,y.i,y.yb,x.a,y.l,y.D,w.a,E.a,y.v,T.t,L.H,L.s,L.k,y.I,y.O,y.H,y.Pb,L.r,L.i,k.a,y.P,T.s,y.xb,y.qb,T.A,y.ib,L.u],pipes:[D.d],styles:[\"[_nghost-%COMP%]{--list-item-max-width:600px}.item-input[_ngcontent-%COMP%]:last-child{margin-bottom:20px}.item.core-login-need-help[_ngcontent-%COMP%]{margin-top:16px}.item.core-login-site-qrcode[_ngcontent-%COMP%]   .item-inner[_ngcontent-%COMP%]{border-bottom:0}.core-login-site-connect[_ngcontent-%COMP%]{margin-top:1.4rem}.item[_ngcontent-%COMP%]   ion-thumbnail[_ngcontent-%COMP%]{min-width:50px;min-height:50px;width:50px;height:50px;border-radius:20%;box-shadow:0 0 4px var(--gray-200);text-align:center;overflow:hidden}.item[_ngcontent-%COMP%]   ion-thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:50px;max-width:-webkit-fit-content;max-width:fit-content;width:auto;height:auto;margin:0 auto 0 50%;transform:translate3d(-50%,0,0);object-fit:cover;object-position:50% 50%}[dir=rtl][_nghost-%COMP%]   .item[_ngcontent-%COMP%]   ion-thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .item[_ngcontent-%COMP%]   ion-thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], [dir=rtl][_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   ion-thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:translate3d(calc(-1 * -50%),0,0)}.item[_ngcontent-%COMP%]   ion-thumbnail[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin:0 auto;font-size:35px;height:50px}[dir=rtl][_nghost-%COMP%]   .item[_ngcontent-%COMP%]   ion-thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .item[_ngcontent-%COMP%]   ion-thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:0;margin-right:50%}.core-login-site-list[_ngcontent-%COMP%], .core-login-site-list-found[_ngcontent-%COMP%], .core-login-site-logo[_ngcontent-%COMP%]{transition-delay:0s;visibility:visible;opacity:1;transition:all .7s ease-in-out;max-height:9999px}.core-login-site-list-found.hidden[_ngcontent-%COMP%], .core-login-site-list.hidden[_ngcontent-%COMP%], .core-login-site-logo.hidden[_ngcontent-%COMP%]{opacity:0;visibility:hidden;margin-top:0;margin-bottom:0;padding:0;max-height:0}.core-login-site-list-found.dimmed[_ngcontent-%COMP%]{pointer-events:none;position:relative}.core-login-site-list-loading[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:0;right:0;width:100%;height:100%;display:flex;align-content:center;align-items:center;background-color:hsla(0,0%,100%,.5);z-index:1}.core-login-site-list-loading[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{margin:0 auto}.core-login-site-nolist-loading[_ngcontent-%COMP%]{margin-top:16px;text-align:center}.item.core-login-site-list-title[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%], .item.core-login-site-list-title[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h2.item-heading[_ngcontent-%COMP%]{margin-top:0}@media (min-width:768px){ion-content[_ngcontent-%COMP%]   .core-login-site-logo[_ngcontent-%COMP%]{margin-top:20%}ion-content[_ngcontent-%COMP%]   .core-login-site-logo.hidden[_ngcontent-%COMP%]{margin-top:0}}.core-login-entered-site[_ngcontent-%COMP%]{background-color:var(--light)}.core-login-entered-site[_ngcontent-%COMP%]   ion-thumbnail[_ngcontent-%COMP%]{box-shadow:0 0 4px var(--gray-300)}.core-login-default-icon[_ngcontent-%COMP%]{filter:grayscale(100%)}\",\"[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%], [_nghost-%COMP%]   ion-list[_ngcontent-%COMP%]{--background:var(--core-login-background);--ion-item-background:var(--core-login-background)}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%], [_nghost-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%], [_nghost-%COMP%]   ion-list[_ngcontent-%COMP%]{--color:var(--core-login-text-color)}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], [_nghost-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   .core-oauth-icon[_ngcontent-%COMP%], [_nghost-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], [_nghost-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], [_nghost-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--color)}[_nghost-%COMP%]   ion-button.core-button-as-link[_ngcontent-%COMP%]{--color:var(--core-login-text-color);-webkit-text-decoration-color:var(--core-login-text-color);text-decoration-color:var(--core-login-text-color)}[_nghost-%COMP%]   ion-button.core-button-as-link[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{color:var(--core-login-text-color)}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   .core-username.item[_ngcontent-%COMP%], [_nghost-%COMP%]   form[_ngcontent-%COMP%]   .item.item-input[_ngcontent-%COMP%]{margin-bottom:16px}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   .core-username.ios[_ngcontent-%COMP%]{--inner-border-width:0 0 1px 0}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%], [_nghost-%COMP%]   form[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{--background:var(--core-login-input-background);--color:var(--core-login-input-color)}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   .core-username.item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   .core-username.item.md[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding-left:8px}@supports ((-webkit-margin-start:0) or (margin-inline-start:0)) or (-webkit-margin-start:0){[_nghost-%COMP%]   form[_ngcontent-%COMP%]   .core-username.item.md[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding-left:unset;-webkit-padding-start:8px;padding-inline-start:8px}}[_nghost-%COMP%]   .core-login-site-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%}[_nghost-%COMP%]   .core-sitename[_ngcontent-%COMP%] + .core-siteurl[_ngcontent-%COMP%]{margin-top:0}[_nghost-%COMP%]   .core-sitename[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:0}[_nghost-%COMP%]   .core-login-site-logo[_ngcontent-%COMP%]{width:90%;max-width:300px;margin:5px auto}[_nghost-%COMP%]   .core-login-forgotten-password[_ngcontent-%COMP%]{text-decoration:underline}body.dark[_nghost-%COMP%]   core-loading[_ngcontent-%COMP%], body.dark   [_nghost-%COMP%]   core-loading[_ngcontent-%COMP%]{--loading-background:var(--core-login-background-dark);--loading-text-color:#fff;--loading-spinner:#fff}\"]}),CoreLoginSitePage})();const F=[{path:\"\",component:U}];let V=(()=>{class CoreLoginSitePageModule{}return CoreLoginSitePageModule.ɵmod=v.wc({type:CoreLoginSitePageModule}),CoreLoginSitePageModule.ɵinj=v.vc({factory:function CoreLoginSitePageModule_Factory(n){return new(n||CoreLoginSitePageModule)},imports:[[i.m.forChild(F),o.a],i.m]}),CoreLoginSitePageModule})();void((\"undefined\"==typeof ngJitMode||ngJitMode)&&v.kd(V,{declarations:[U],imports:[i.m,o.a],exports:[i.m]}))}}]);","name":"107.bc2fa94888df974f508a.js","input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[107],{\n\n/***/ \"uFKL\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"CoreLoginSitePageModule\", function() { return /* binding */ site_module_CoreLoginSitePageModule; });\n\n// EXTERNAL MODULE: ./node_modules/@angular/router/__ivy_ngcc__/fesm2015/router.js + 14 modules\nvar router = __webpack_require__(\"tyNb\");\n\n// EXTERNAL MODULE: ./src/core/shared.module.ts + 3 modules\nvar shared_module = __webpack_require__(\"L3Fv\");\n\n// EXTERNAL MODULE: ./node_modules/tslib/tslib.es6.js\nvar tslib_es6 = __webpack_require__(\"mrSG\");\n\n// EXTERNAL MODULE: ./src/core/services/app.ts + 1 modules\nvar app = __webpack_require__(\"nvXB\");\n\n// EXTERNAL MODULE: ./src/core/services/config.ts + 1 modules\nvar config = __webpack_require__(\"BBqZ\");\n\n// EXTERNAL MODULE: ./src/core/services/sites.ts\nvar services_sites = __webpack_require__(\"9+EE\");\n\n// EXTERNAL MODULE: ./src/core/services/utils/utils.ts\nvar utils = __webpack_require__(\"bFG1\");\n\n// EXTERNAL MODULE: ./src/core/services/utils/dom.ts + 2 modules\nvar dom = __webpack_require__(\"3LXp\");\n\n// EXTERNAL MODULE: ./src/core/features/login/services/login-helper.ts\nvar login_helper = __webpack_require__(\"mv9v\");\n\n// EXTERNAL MODULE: ./src/core/classes/site.ts\nvar classes_site = __webpack_require__(\"kxYv\");\n\n// EXTERNAL MODULE: ./src/core/classes/errors/error.ts\nvar errors_error = __webpack_require__(\"93ts\");\n\n// EXTERNAL MODULE: ./src/core/constants.ts\nvar constants = __webpack_require__(\"BaYo\");\n\n// EXTERNAL MODULE: ./src/core/singletons/index.ts\nvar singletons = __webpack_require__(\"j3ag\");\n\n// EXTERNAL MODULE: ./src/core/singletons/url.ts\nvar singletons_url = __webpack_require__(\"oZnq\");\n\n// EXTERNAL MODULE: ./src/core/services/utils/url.ts\nvar utils_url = __webpack_require__(\"mvS9\");\n\n// EXTERNAL MODULE: ./src/core/features/login/components/site-help/site-help.ts\nvar site_help = __webpack_require__(\"JpIC\");\n\n// EXTERNAL MODULE: ./src/core/features/login/components/site-onboarding/site-onboarding.ts\nvar site_onboarding = __webpack_require__(\"m2Ry\");\n\n// EXTERNAL MODULE: ./src/core/services/navigator.ts\nvar services_navigator = __webpack_require__(\"pHTc\");\n\n// EXTERNAL MODULE: ./src/core/services/urlschemes.ts\nvar urlschemes = __webpack_require__(\"y9BN\");\n\n// EXTERNAL MODULE: ./src/core/services/utils/text.ts + 1 modules\nvar utils_text = __webpack_require__(\"vuGA\");\n\n// EXTERNAL MODULE: ./src/core/singletons/form.ts\nvar singletons_form = __webpack_require__(\"4reR\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js + 4 modules\nvar core = __webpack_require__(\"fXoL\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/forms/__ivy_ngcc__/fesm2015/forms.js\nvar fesm2015_forms = __webpack_require__(\"3Pt+\");\n\n// EXTERNAL MODULE: ./node_modules/@ionic/angular/__ivy_ngcc__/fesm2015/ionic-angular.js + 5 modules\nvar ionic_angular = __webpack_require__(\"TEn/\");\n\n// EXTERNAL MODULE: ./src/core/directives/update-non-reactive-attributes.ts\nvar update_non_reactive_attributes = __webpack_require__(\"ACYt\");\n\n// EXTERNAL MODULE: ./src/core/directives/fa-icon.ts\nvar fa_icon = __webpack_require__(\"3CSS\");\n\n// EXTERNAL MODULE: ./src/core/directives/content.ts\nvar content = __webpack_require__(\"nt/U\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/common/__ivy_ngcc__/fesm2015/common.js\nvar common = __webpack_require__(\"ofXK\");\n\n// EXTERNAL MODULE: ./src/core/directives/auto-focus.ts\nvar auto_focus = __webpack_require__(\"6uVz\");\n\n// EXTERNAL MODULE: ./node_modules/@ngx-translate/core/__ivy_ngcc__/fesm2015/ngx-translate-core.js + 8 modules\nvar ngx_translate_core = __webpack_require__(\"sYmb\");\n\n// CONCATENATED MODULE: ./src/core/features/login/pages/site/site.ts\n\n// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst _c0 = [\"siteFormEl\"];\nfunction CoreLoginSitePage_form_17_ng_container_2_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Cc\" /* ɵɵelementContainerStart */](0);\n        core[\"Ec\" /* ɵɵelementStart */](1, \"ion-item\");\n        core[\"Ec\" /* ɵɵelementStart */](2, \"ion-label\", 15);\n        core[\"Ec\" /* ɵɵelementStart */](3, \"h2\");\n        core[\"pd\" /* ɵɵtext */](4);\n        core[\"Pc\" /* ɵɵpipe */](5, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"zc\" /* ɵɵelement */](6, \"ion-input\", 16);\n        core[\"Pc\" /* ɵɵpipe */](7, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Bc\" /* ɵɵelementContainerEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r6 = core[\"Oc\" /* ɵɵnextContext */](2);\n        core[\"lc\" /* ɵɵadvance */](4);\n        core[\"qd\" /* ɵɵtextInterpolate */](core[\"Qc\" /* ɵɵpipeBind1 */](5, 3, \"core.login.siteaddress\"));\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"Wc\" /* ɵɵpropertyInterpolate */](\"placeholder\", core[\"Qc\" /* ɵɵpipeBind1 */](7, 5, \"core.login.siteaddressplaceholder\"));\n        core[\"Vc\" /* ɵɵproperty */](\"core-auto-focus\", ctx_r6.showKeyboard && !ctx_r6.showScanQR);\n    }\n}\nfunction CoreLoginSitePage_form_17_ng_container_3_ion_item_14_Template(rf, ctx) {\n    if (rf & 1) {\n        const _r14 = core[\"Fc\" /* ɵɵgetCurrentView */]();\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-item\", 27);\n        core[\"Mc\" /* ɵɵlistener */](\"click\", function CoreLoginSitePage_form_17_ng_container_3_ion_item_14_Template_ion_item_click_0_listener($event) { core[\"fd\" /* ɵɵrestoreView */](_r14); const ctx_r13 = core[\"Oc\" /* ɵɵnextContext */](3); return ctx_r13.connect($event, ctx_r13.enteredSiteUrl.url); });\n        core[\"Pc\" /* ɵɵpipe */](1, \"translate\");\n        core[\"Ec\" /* ɵɵelementStart */](2, \"ion-thumbnail\", 28);\n        core[\"zc\" /* ɵɵelement */](3, \"ion-icon\", 29);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Ec\" /* ɵɵelementStart */](4, \"ion-label\");\n        core[\"Ec\" /* ɵɵelementStart */](5, \"h2\", 30);\n        core[\"pd\" /* ɵɵtext */](6);\n        core[\"Pc\" /* ɵɵpipe */](7, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Ec\" /* ɵɵelementStart */](8, \"p\");\n        core[\"pd\" /* ɵɵtext */](9);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r9 = core[\"Oc\" /* ɵɵnextContext */](3);\n        core[\"mc\" /* ɵɵattribute */](\"aria-label\", core[\"Qc\" /* ɵɵpipeBind1 */](1, 3, \"core.login.connect\"));\n        core[\"lc\" /* ɵɵadvance */](6);\n        core[\"qd\" /* ɵɵtextInterpolate */](core[\"Qc\" /* ɵɵpipeBind1 */](7, 5, \"core.login.yourenteredsite\"));\n        core[\"lc\" /* ɵɵadvance */](3);\n        core[\"qd\" /* ɵɵtextInterpolate */](ctx_r9.enteredSiteUrl.noProtocolUrl);\n    }\n}\nfunction CoreLoginSitePage_form_17_ng_container_3_div_16_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"div\", 31);\n        core[\"zc\" /* ɵɵelement */](1, \"ion-spinner\");\n        core[\"Pc\" /* ɵɵpipe */](2, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"mc\" /* ɵɵattribute */](\"aria-label\", core[\"Qc\" /* ɵɵpipeBind1 */](2, 1, \"core.loading\"));\n    }\n}\nfunction CoreLoginSitePage_form_17_ng_container_3_ng_container_17_ng_container_1_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ac\" /* ɵɵelementContainer */](0);\n    }\n}\nconst _c1 = function (a0) { return { site: a0 }; };\nfunction CoreLoginSitePage_form_17_ng_container_3_ng_container_17_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Cc\" /* ɵɵelementContainerStart */](0);\n        core[\"nd\" /* ɵɵtemplate */](1, CoreLoginSitePage_form_17_ng_container_3_ng_container_17_ng_container_1_Template, 1, 0, \"ng-container\", 32);\n        core[\"Bc\" /* ɵɵelementContainerEnd */]();\n    }\n    if (rf & 2) {\n        const site_r15 = ctx.$implicit;\n        core[\"Oc\" /* ɵɵnextContext */](3);\n        const _r3 = core[\"ed\" /* ɵɵreference */](24);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngTemplateOutlet\", _r3)(\"ngTemplateOutletContext\", core[\"ad\" /* ɵɵpureFunction1 */](2, _c1, site_r15));\n    }\n}\nfunction CoreLoginSitePage_form_17_ng_container_3_div_18_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"div\", 33);\n        core[\"zc\" /* ɵɵelement */](1, \"ion-spinner\");\n        core[\"Pc\" /* ɵɵpipe */](2, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"mc\" /* ɵɵattribute */](\"aria-label\", core[\"Qc\" /* ɵɵpipeBind1 */](2, 1, \"core.loading\"));\n    }\n}\nfunction CoreLoginSitePage_form_17_ng_container_3_Template(rf, ctx) {\n    if (rf & 1) {\n        const _r18 = core[\"Fc\" /* ɵɵgetCurrentView */]();\n        core[\"Cc\" /* ɵɵelementContainerStart */](0);\n        core[\"Ec\" /* ɵɵelementStart */](1, \"ion-item\");\n        core[\"Ec\" /* ɵɵelementStart */](2, \"ion-label\", 17);\n        core[\"Ec\" /* ɵɵelementStart */](3, \"h2\");\n        core[\"pd\" /* ɵɵtext */](4);\n        core[\"Pc\" /* ɵɵpipe */](5, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Ec\" /* ɵɵelementStart */](6, \"ion-input\", 18);\n        core[\"Mc\" /* ɵɵlistener */](\"ionChange\", function CoreLoginSitePage_form_17_ng_container_3_Template_ion_input_ionChange_6_listener($event) { core[\"fd\" /* ɵɵrestoreView */](_r18); const ctx_r17 = core[\"Oc\" /* ɵɵnextContext */](2); return ctx_r17.searchSite($event, ctx_r17.siteForm.value.siteUrl); });\n        core[\"Pc\" /* ɵɵpipe */](7, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Ec\" /* ɵɵelementStart */](8, \"ion-list\", 19);\n        core[\"Ec\" /* ɵɵelementStart */](9, \"ion-item\", 20);\n        core[\"Ec\" /* ɵɵelementStart */](10, \"ion-label\");\n        core[\"Ec\" /* ɵɵelementStart */](11, \"h2\", 21);\n        core[\"pd\" /* ɵɵtext */](12);\n        core[\"Pc\" /* ɵɵpipe */](13, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"nd\" /* ɵɵtemplate */](14, CoreLoginSitePage_form_17_ng_container_3_ion_item_14_Template, 10, 7, \"ion-item\", 22);\n        core[\"Ec\" /* ɵɵelementStart */](15, \"div\", 23);\n        core[\"nd\" /* ɵɵtemplate */](16, CoreLoginSitePage_form_17_ng_container_3_div_16_Template, 3, 3, \"div\", 24);\n        core[\"nd\" /* ɵɵtemplate */](17, CoreLoginSitePage_form_17_ng_container_3_ng_container_17_Template, 2, 4, \"ng-container\", 25);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"nd\" /* ɵɵtemplate */](18, CoreLoginSitePage_form_17_ng_container_3_div_18_Template, 3, 3, \"div\", 26);\n        core[\"Bc\" /* ɵɵelementContainerEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r7 = core[\"Oc\" /* ɵɵnextContext */](2);\n        core[\"lc\" /* ɵɵadvance */](4);\n        core[\"qd\" /* ɵɵtextInterpolate */](core[\"Qc\" /* ɵɵpipeBind1 */](5, 14, \"core.login.siteaddress\"));\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"Wc\" /* ɵɵpropertyInterpolate */](\"placeholder\", core[\"Qc\" /* ɵɵpipeBind1 */](7, 16, \"core.login.siteaddressplaceholder\"));\n        core[\"Vc\" /* ɵɵproperty */](\"core-auto-focus\", ctx_r7.showKeyboard && !ctx_r7.showScanQR);\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"qc\" /* ɵɵclassProp */](\"hidden\", !ctx_r7.hasSites && !ctx_r7.enteredSiteUrl);\n        core[\"lc\" /* ɵɵadvance */](4);\n        core[\"qd\" /* ɵɵtextInterpolate */](core[\"Qc\" /* ɵɵpipeBind1 */](13, 18, \"core.login.selectsite\"));\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx_r7.enteredSiteUrl);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"qc\" /* ɵɵclassProp */](\"hidden\", !ctx_r7.hasSites)(\"dimmed\", ctx_r7.loadingSites);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx_r7.loadingSites);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngForOf\", ctx_r7.sites);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", !ctx_r7.hasSites && ctx_r7.loadingSites);\n    }\n}\nfunction CoreLoginSitePage_form_17_ion_item_4_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-item\");\n        core[\"Ec\" /* ɵɵelementStart */](1, \"ion-label\");\n        core[\"Ec\" /* ɵɵelementStart */](2, \"ion-button\", 34);\n        core[\"pd\" /* ɵɵtext */](3);\n        core[\"Pc\" /* ɵɵpipe */](4, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r8 = core[\"Oc\" /* ɵɵnextContext */](2);\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"Vc\" /* ɵɵproperty */](\"disabled\", !ctx_r8.siteForm.valid);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"rd\" /* ɵɵtextInterpolate1 */](\" \", core[\"Qc\" /* ɵɵpipeBind1 */](4, 2, \"core.login.connect\"), \" \");\n    }\n}\nfunction CoreLoginSitePage_form_17_Template(rf, ctx) {\n    if (rf & 1) {\n        const _r20 = core[\"Fc\" /* ɵɵgetCurrentView */]();\n        core[\"Ec\" /* ɵɵelementStart */](0, \"form\", 13, 14);\n        core[\"Mc\" /* ɵɵlistener */](\"ngSubmit\", function CoreLoginSitePage_form_17_Template_form_ngSubmit_0_listener($event) { core[\"fd\" /* ɵɵrestoreView */](_r20); const ctx_r19 = core[\"Oc\" /* ɵɵnextContext */](); return ctx_r19.connect($event, ctx_r19.siteForm.value.siteUrl); });\n        core[\"nd\" /* ɵɵtemplate */](2, CoreLoginSitePage_form_17_ng_container_2_Template, 8, 7, \"ng-container\", 10);\n        core[\"nd\" /* ɵɵtemplate */](3, CoreLoginSitePage_form_17_ng_container_3_Template, 19, 20, \"ng-container\", 10);\n        core[\"nd\" /* ɵɵtemplate */](4, CoreLoginSitePage_form_17_ion_item_4_Template, 5, 4, \"ion-item\", 10);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r0 = core[\"Oc\" /* ɵɵnextContext */]();\n        core[\"Vc\" /* ɵɵproperty */](\"formGroup\", ctx_r0.siteForm);\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx_r0.siteSelector == \"url\");\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx_r0.siteSelector != \"url\");\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx_r0.siteSelector == \"url\");\n    }\n}\nfunction CoreLoginSitePage_ng_container_18_ion_list_1_ion_searchbar_6_Template(rf, ctx) {\n    if (rf & 1) {\n        const _r25 = core[\"Fc\" /* ɵɵgetCurrentView */]();\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-searchbar\", 36);\n        core[\"Mc\" /* ɵɵlistener */](\"ngModelChange\", function CoreLoginSitePage_ng_container_18_ion_list_1_ion_searchbar_6_Template_ion_searchbar_ngModelChange_0_listener($event) { core[\"fd\" /* ɵɵrestoreView */](_r25); const ctx_r24 = core[\"Oc\" /* ɵɵnextContext */](3); return ctx_r24.filter = $event; })(\"ionInput\", function CoreLoginSitePage_ng_container_18_ion_list_1_ion_searchbar_6_Template_ion_searchbar_ionInput_0_listener($event) { core[\"fd\" /* ɵɵrestoreView */](_r25); const ctx_r26 = core[\"Oc\" /* ɵɵnextContext */](3); return ctx_r26.filterChanged($event); })(\"ionCancel\", function CoreLoginSitePage_ng_container_18_ion_list_1_ion_searchbar_6_Template_ion_searchbar_ionCancel_0_listener() { core[\"fd\" /* ɵɵrestoreView */](_r25); const ctx_r27 = core[\"Oc\" /* ɵɵnextContext */](3); return ctx_r27.filterChanged(); });\n        core[\"Pc\" /* ɵɵpipe */](1, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r22 = core[\"Oc\" /* ɵɵnextContext */](3);\n        core[\"Vc\" /* ɵɵproperty */](\"ngModel\", ctx_r22.filter)(\"placeholder\", core[\"Qc\" /* ɵɵpipeBind1 */](1, 2, \"core.login.findyoursite\"));\n    }\n}\nfunction CoreLoginSitePage_ng_container_18_ion_list_1_ng_container_7_ng_container_1_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ac\" /* ɵɵelementContainer */](0);\n    }\n}\nfunction CoreLoginSitePage_ng_container_18_ion_list_1_ng_container_7_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Cc\" /* ɵɵelementContainerStart */](0);\n        core[\"nd\" /* ɵɵtemplate */](1, CoreLoginSitePage_ng_container_18_ion_list_1_ng_container_7_ng_container_1_Template, 1, 0, \"ng-container\", 32);\n        core[\"Bc\" /* ɵɵelementContainerEnd */]();\n    }\n    if (rf & 2) {\n        const site_r28 = ctx.$implicit;\n        core[\"Oc\" /* ɵɵnextContext */](3);\n        const _r3 = core[\"ed\" /* ɵɵreference */](24);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngTemplateOutlet\", _r3)(\"ngTemplateOutletContext\", core[\"ad\" /* ɵɵpureFunction1 */](2, _c1, site_r28));\n    }\n}\nfunction CoreLoginSitePage_ng_container_18_ion_list_1_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-list\");\n        core[\"Ec\" /* ɵɵelementStart */](1, \"ion-item\");\n        core[\"Ec\" /* ɵɵelementStart */](2, \"ion-label\");\n        core[\"Ec\" /* ɵɵelementStart */](3, \"h2\", 21);\n        core[\"pd\" /* ɵɵtext */](4);\n        core[\"Pc\" /* ɵɵpipe */](5, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"nd\" /* ɵɵtemplate */](6, CoreLoginSitePage_ng_container_18_ion_list_1_ion_searchbar_6_Template, 2, 4, \"ion-searchbar\", 35);\n        core[\"nd\" /* ɵɵtemplate */](7, CoreLoginSitePage_ng_container_18_ion_list_1_ng_container_7_Template, 2, 4, \"ng-container\", 25);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r21 = core[\"Oc\" /* ɵɵnextContext */](2);\n        core[\"lc\" /* ɵɵadvance */](4);\n        core[\"qd\" /* ɵɵtextInterpolate */](core[\"Qc\" /* ɵɵpipeBind1 */](5, 3, \"core.login.selectsite\"));\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx_r21.fixedSites.length > 4);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngForOf\", ctx_r21.filteredSites);\n    }\n}\nfunction CoreLoginSitePage_ng_container_18_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Cc\" /* ɵɵelementContainerStart */](0);\n        core[\"nd\" /* ɵɵtemplate */](1, CoreLoginSitePage_ng_container_18_ion_list_1_Template, 8, 5, \"ion-list\", 10);\n        core[\"Bc\" /* ɵɵelementContainerEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r1 = core[\"Oc\" /* ɵɵnextContext */]();\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx_r1.siteSelector == \"list\");\n    }\n}\nfunction CoreLoginSitePage_ng_container_19_Template(rf, ctx) {\n    if (rf & 1) {\n        const _r31 = core[\"Fc\" /* ɵɵgetCurrentView */]();\n        core[\"Cc\" /* ɵɵelementContainerStart */](0);\n        core[\"Ec\" /* ɵɵelementStart */](1, \"div\", 37);\n        core[\"pd\" /* ɵɵtext */](2);\n        core[\"Pc\" /* ɵɵpipe */](3, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Ec\" /* ɵɵelementStart */](4, \"ion-button\", 38);\n        core[\"Mc\" /* ɵɵlistener */](\"click\", function CoreLoginSitePage_ng_container_19_Template_ion_button_click_4_listener() { core[\"fd\" /* ɵɵrestoreView */](_r31); const ctx_r30 = core[\"Oc\" /* ɵɵnextContext */](); return ctx_r30.showInstructionsAndScanQR(); });\n        core[\"zc\" /* ɵɵelement */](5, \"ion-icon\", 39);\n        core[\"pd\" /* ɵɵtext */](6);\n        core[\"Pc\" /* ɵɵpipe */](7, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Bc\" /* ɵɵelementContainerEnd */]();\n    }\n    if (rf & 2) {\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"qd\" /* ɵɵtextInterpolate */](core[\"Qc\" /* ɵɵpipeBind1 */](3, 2, \"core.login.or\"));\n        core[\"lc\" /* ɵɵadvance */](4);\n        core[\"rd\" /* ɵɵtextInterpolate1 */](\" \", core[\"Qc\" /* ɵɵpipeBind1 */](7, 4, \"core.scanqr\"), \" \");\n    }\n}\nfunction CoreLoginSitePage_ng_template_23_ion_thumbnail_1_img_1_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"zc\" /* ɵɵelement */](0, \"img\", 45);\n    }\n    if (rf & 2) {\n        const site_r32 = core[\"Oc\" /* ɵɵnextContext */](2).site;\n        core[\"Vc\" /* ɵɵproperty */](\"src\", site_r32.imageurl, core[\"id\" /* ɵɵsanitizeUrl */]);\n    }\n}\nfunction CoreLoginSitePage_ng_template_23_ion_thumbnail_1_img_2_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"zc\" /* ɵɵelement */](0, \"img\", 46);\n    }\n}\nfunction CoreLoginSitePage_ng_template_23_ion_thumbnail_1_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-thumbnail\", 0);\n        core[\"nd\" /* ɵɵtemplate */](1, CoreLoginSitePage_ng_template_23_ion_thumbnail_1_img_1_Template, 1, 1, \"img\", 43);\n        core[\"nd\" /* ɵɵtemplate */](2, CoreLoginSitePage_ng_template_23_ion_thumbnail_1_img_2_Template, 1, 0, \"img\", 44);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const site_r32 = core[\"Oc\" /* ɵɵnextContext */]().site;\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", site_r32.imageurl);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", !site_r32.imageurl);\n    }\n}\nfunction CoreLoginSitePage_ng_template_23_p_3_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"p\", 47);\n        core[\"pd\" /* ɵɵtext */](1);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const site_r32 = core[\"Oc\" /* ɵɵnextContext */]().site;\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"qd\" /* ɵɵtextInterpolate */](site_r32.title);\n    }\n}\nfunction CoreLoginSitePage_ng_template_23_p_4_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"p\");\n        core[\"pd\" /* ɵɵtext */](1);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const site_r32 = core[\"Oc\" /* ɵɵnextContext */]().site;\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"qd\" /* ɵɵtextInterpolate */](site_r32.noProtocolUrl);\n    }\n}\nfunction CoreLoginSitePage_ng_template_23_p_5_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"p\");\n        core[\"pd\" /* ɵɵtext */](1);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const site_r32 = core[\"Oc\" /* ɵɵnextContext */]().site;\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"qd\" /* ɵɵtextInterpolate */](site_r32.location);\n    }\n}\nfunction CoreLoginSitePage_ng_template_23_Template(rf, ctx) {\n    if (rf & 1) {\n        const _r45 = core[\"Fc\" /* ɵɵgetCurrentView */]();\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-item\", 40);\n        core[\"Mc\" /* ɵɵlistener */](\"click\", function CoreLoginSitePage_ng_template_23_Template_ion_item_click_0_listener($event) { core[\"fd\" /* ɵɵrestoreView */](_r45); const site_r32 = ctx.site; const ctx_r44 = core[\"Oc\" /* ɵɵnextContext */](); return ctx_r44.connect($event, site_r32.url, site_r32); });\n        core[\"nd\" /* ɵɵtemplate */](1, CoreLoginSitePage_ng_template_23_ion_thumbnail_1_Template, 3, 2, \"ion-thumbnail\", 41);\n        core[\"Ec\" /* ɵɵelementStart */](2, \"ion-label\");\n        core[\"nd\" /* ɵɵtemplate */](3, CoreLoginSitePage_ng_template_23_p_3_Template, 2, 1, \"p\", 42);\n        core[\"nd\" /* ɵɵtemplate */](4, CoreLoginSitePage_ng_template_23_p_4_Template, 2, 1, \"p\", 10);\n        core[\"nd\" /* ɵɵtemplate */](5, CoreLoginSitePage_ng_template_23_p_5_Template, 2, 1, \"p\", 10);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const site_r32 = ctx.site;\n        const ctx_r4 = core[\"Oc\" /* ɵɵnextContext */]();\n        core[\"mc\" /* ɵɵattribute */](\"aria-label\", site_r32.name);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx_r4.siteFinderSettings.displayimage);\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", site_r32.title);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", site_r32.noProtocolUrl);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", site_r32.location);\n    }\n}\n/**\n * Site (url) chooser when adding a new site.\n */\nlet site_CoreLoginSitePage = /*@__PURE__*/ (() => {\n    class CoreLoginSitePage {\n        constructor(formBuilder) {\n            this.formBuilder = formBuilder;\n            this.siteSelector = 'sitefinder';\n            this.showKeyboard = false;\n            this.filter = '';\n            this.sites = [];\n            this.hasSites = false;\n            this.loadingSites = false;\n            let url = '';\n            this.siteSelector = constants[\"a\" /* CoreConstants */].CONFIG.multisitesdisplay;\n            const siteFinderSettings = constants[\"a\" /* CoreConstants */].CONFIG.sitefindersettings || {};\n            this.siteFinderSettings = Object.assign({ displaysitename: true, displayimage: true, displayalias: true, displaycity: true, displaycountry: true, displayurl: true }, siteFinderSettings);\n            // Load fixed sites if they're set.\n            if (login_helper[\"a\" /* CoreLoginHelper */].hasSeveralFixedSites()) {\n                url = this.initSiteSelector();\n            }\n            else if (constants[\"a\" /* CoreConstants */].CONFIG.enableonboarding && !app[\"a\" /* CoreApp */].isIOS()) {\n                this.initOnboarding();\n            }\n            this.showScanQR = login_helper[\"a\" /* CoreLoginHelper */].displayQRInSiteScreen();\n            this.siteForm = this.formBuilder.group({\n                siteUrl: [url, this.moodleUrlValidator()],\n            });\n            this.searchFunction = utils[\"a\" /* CoreUtils */].debounce((search) => Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                search = search.trim();\n                if (search.length >= 3) {\n                    // Update the sites list.\n                    const sites = yield services_sites[\"b\" /* CoreSites */].findSites(search);\n                    // Add UI tweaks.\n                    this.sites = this.extendCoreLoginSiteInfo(sites);\n                    this.hasSites = !!this.sites.length;\n                }\n                else {\n                    // Not reseting the array to allow animation to be displayed.\n                    this.hasSites = false;\n                }\n                this.loadingSites = false;\n            }), 1000);\n        }\n        /**\n         * Initialize the component.\n         */\n        ngOnInit() {\n            this.showKeyboard = !!services_navigator[\"a\" /* CoreNavigator */].getRouteBooleanParam('showKeyboard');\n        }\n        /**\n         * Initialize the site selector.\n         *\n         * @return URL of the first site.\n         */\n        initSiteSelector() {\n            this.fixedSites = this.extendCoreLoginSiteInfo(login_helper[\"a\" /* CoreLoginHelper */].getFixedSites());\n            this.siteSelector = 'list'; // In case it's not defined\n            // Do not show images if none are set.\n            if (!this.fixedSites.some((site) => !!site.imageurl)) {\n                this.siteFinderSettings.displayimage = false;\n            }\n            this.filteredSites = this.fixedSites;\n            return this.fixedSites[0].url;\n        }\n        /**\n         * Initialize and show onboarding if needed.\n         *\n         * @return Promise resolved when done.\n         */\n        initOnboarding() {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                const onboardingDone = yield config[\"a\" /* CoreConfig */].get(login_helper[\"b\" /* CoreLoginHelperProvider */].ONBOARDING_DONE, false);\n                if (!onboardingDone) {\n                    // Check onboarding.\n                    this.showOnboarding();\n                }\n            });\n        }\n        /**\n         * Extend info of Login Site Info to get UI tweaks.\n         *\n         * @param sites Sites list.\n         * @return Sites list with extended info.\n         */\n        extendCoreLoginSiteInfo(sites) {\n            return sites.map((site) => {\n                site.noProtocolUrl = this.siteFinderSettings.displayurl && site.url ? singletons_url[\"a\" /* CoreUrl */].removeProtocol(site.url) : '';\n                const name = this.siteFinderSettings.displaysitename ? site.name : '';\n                const alias = this.siteFinderSettings.displayalias && site.alias ? site.alias : '';\n                // Set title with parenthesis if both name and alias are present.\n                site.title = name && alias ? name + ' (' + alias + ')' : name + alias;\n                const country = this.siteFinderSettings.displaycountry && site.countrycode ?\n                    utils[\"a\" /* CoreUtils */].getCountryName(site.countrycode) : '';\n                const city = this.siteFinderSettings.displaycity && site.city ?\n                    site.city : '';\n                // Separate location with hiphen if both country and city are present.\n                site.location = city && country ? city + ' - ' + country : city + country;\n                return site;\n            });\n        }\n        /**\n         * Validate Url.\n         *\n         * @return {ValidatorFn} Validation results.\n         */\n        moodleUrlValidator() {\n            return (control) => {\n                const value = control.value.trim();\n                let valid = value.length >= 3 && singletons_url[\"a\" /* CoreUrl */].isValidMoodleUrl(value);\n                if (!valid) {\n                    const demo = !!services_sites[\"b\" /* CoreSites */].getDemoSiteData(value);\n                    if (demo) {\n                        valid = true;\n                    }\n                }\n                return valid ? null : { siteUrl: { value: control.value } };\n            };\n        }\n        /**\n         * Show a help modal.\n         */\n        showHelp() {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                yield dom[\"a\" /* CoreDomUtils */].openModal({\n                    component: site_help[\"a\" /* CoreLoginSiteHelpComponent */],\n                    cssClass: 'core-modal-fullscreen',\n                });\n            });\n        }\n        /**\n         * Show an onboarding modal.\n         */\n        showOnboarding() {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                yield dom[\"a\" /* CoreDomUtils */].openModal({\n                    component: site_onboarding[\"a\" /* CoreLoginSiteOnboardingComponent */],\n                    cssClass: 'core-modal-fullscreen',\n                });\n            });\n        }\n        /**\n         * Try to connect to a site.\n         *\n         * @param e Event.\n         * @param url The URL to connect to.\n         * @param foundSite The site clicked, if any, from the found sites list.\n         * @return Promise resolved when done.\n         */\n        connect(e, url, foundSite) {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                e.preventDefault();\n                e.stopPropagation();\n                app[\"a\" /* CoreApp */].closeKeyboard();\n                if (!url) {\n                    dom[\"a\" /* CoreDomUtils */].showErrorModal('core.login.siteurlrequired', true);\n                    return;\n                }\n                if (!app[\"a\" /* CoreApp */].isOnline()) {\n                    dom[\"a\" /* CoreDomUtils */].showErrorModal('core.networkerrormsg', true);\n                    return;\n                }\n                url = url.trim();\n                if (url.match(/^(https?:\\/\\/)?campus\\.example\\.edu/)) {\n                    this.showLoginIssue(null, new errors_error[\"a\" /* CoreError */](singletons[\"M\" /* Translate */].instant('core.login.errorexampleurl')));\n                    return;\n                }\n                const siteData = services_sites[\"b\" /* CoreSites */].getDemoSiteData(url);\n                if (siteData) {\n                    // It's a demo site.\n                    yield this.loginDemoSite(siteData);\n                }\n                else {\n                    // Not a demo site.\n                    const modal = yield dom[\"a\" /* CoreDomUtils */].showModalLoading();\n                    let checkResult;\n                    try {\n                        checkResult = yield services_sites[\"b\" /* CoreSites */].checkSite(url);\n                    }\n                    catch (error) {\n                        // Attempt guessing the domain if the initial check failed\n                        const domain = singletons_url[\"a\" /* CoreUrl */].guessMoodleDomain(url);\n                        if (domain && domain != url) {\n                            try {\n                                checkResult = yield services_sites[\"b\" /* CoreSites */].checkSite(domain);\n                            }\n                            catch (secondError) {\n                                // Try to use the first error.\n                                modal.dismiss();\n                                return this.showLoginIssue(url, error || secondError);\n                            }\n                        }\n                        else {\n                            modal.dismiss();\n                            return this.showLoginIssue(url, error);\n                        }\n                    }\n                    yield this.login(checkResult, foundSite);\n                    modal.dismiss();\n                }\n            });\n        }\n        /**\n         * Authenticate in a demo site.\n         *\n         * @param siteData Site data.\n         * @return Promise resolved when done.\n         */\n        loginDemoSite(siteData) {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                const modal = yield dom[\"a\" /* CoreDomUtils */].showModalLoading();\n                try {\n                    const data = yield services_sites[\"b\" /* CoreSites */].getUserToken(siteData.url, siteData.username, siteData.password);\n                    yield services_sites[\"b\" /* CoreSites */].newSite(data.siteUrl, data.token, data.privateToken);\n                    singletons_form[\"a\" /* CoreForms */].triggerFormSubmittedEvent(this.formElement, true);\n                    yield services_navigator[\"a\" /* CoreNavigator */].navigateToSiteHome();\n                    return;\n                }\n                catch (error) {\n                    login_helper[\"a\" /* CoreLoginHelper */].treatUserTokenError(siteData.url, error, siteData.username, siteData.password);\n                    if (error.loggedout) {\n                        services_navigator[\"a\" /* CoreNavigator */].navigate('/login/sites', { reset: true });\n                    }\n                }\n                finally {\n                    modal.dismiss();\n                }\n            });\n        }\n        /**\n         * Process login to a site.\n         *\n         * @param response Response obtained from the site check request.\n         * @param foundSite The site clicked, if any, from the found sites list.\n         *\n         * @return Promise resolved after logging in.\n         */\n        login(response, foundSite) {\n            var _a;\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                try {\n                    yield services_sites[\"b\" /* CoreSites */].checkApplication(response.config);\n                    singletons_form[\"a\" /* CoreForms */].triggerFormSubmittedEvent(this.formElement, true);\n                    if (login_helper[\"a\" /* CoreLoginHelper */].isSSOLoginNeeded(response.code)) {\n                        // SSO. User needs to authenticate in a browser.\n                        login_helper[\"a\" /* CoreLoginHelper */].confirmAndOpenBrowserForSSOLogin(response.siteUrl, response.code, response.service, (_a = response.config) === null || _a === void 0 ? void 0 : _a.launchurl);\n                    }\n                    else {\n                        const pageParams = { siteUrl: response.siteUrl, siteConfig: response.config };\n                        if (foundSite && !this.fixedSites) {\n                            pageParams['siteName'] = foundSite.name;\n                            pageParams['logoUrl'] = foundSite.imageurl;\n                        }\n                        services_navigator[\"a\" /* CoreNavigator */].navigate('/login/credentials', {\n                            params: pageParams,\n                        });\n                    }\n                }\n                catch (error) {\n                    // Ignore errors.\n                }\n            });\n        }\n        /**\n         * Show an error that aims people to solve the issue.\n         *\n         * @param url The URL the user was trying to connect to.\n         * @param error Error to display.\n         */\n        showLoginIssue(url, error) {\n            let errorMessage = dom[\"a\" /* CoreDomUtils */].getErrorMessage(error);\n            if (errorMessage == singletons[\"M\" /* Translate */].instant('core.cannotconnecttrouble')) {\n                const found = this.sites.find((site) => site.url == url);\n                if (!found) {\n                    errorMessage += ' ' + singletons[\"M\" /* Translate */].instant('core.cannotconnectverify');\n                }\n            }\n            let message = '<p>' + errorMessage + '</p>';\n            if (url) {\n                const fullUrl = utils_url[\"a\" /* CoreUrlUtils */].isAbsoluteURL(url) ? url : 'https://' + url;\n                message += '<p padding><a href=\"' + fullUrl + '\" core-link>' + url + '</a></p>';\n            }\n            const buttons = [\n                {\n                    text: singletons[\"M\" /* Translate */].instant('core.needhelp'),\n                    cssClass: 'core-login-need-help',\n                    handler: () => {\n                        this.showHelp();\n                    },\n                },\n                {\n                    text: singletons[\"M\" /* Translate */].instant('core.tryagain'),\n                    role: 'cancel',\n                },\n            ];\n            // @TODO: Remove CoreSite.MINIMUM_MOODLE_VERSION, not used on translations since 3.9.0.\n            dom[\"a\" /* CoreDomUtils */].showAlertWithOptions({\n                header: singletons[\"M\" /* Translate */].instant('core.cannotconnect', { $a: classes_site[\"a\" /* CoreSite */].MINIMUM_MOODLE_VERSION }),\n                message,\n                buttons,\n            });\n        }\n        /**\n         * The filter has changed.\n         *\n         * @param event Received Event.\n         */\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        filterChanged(event) {\n            var _a;\n            const newValue = (_a = event === null || event === void 0 ? void 0 : event.target.value) === null || _a === void 0 ? void 0 : _a.trim().toLowerCase();\n            if (!newValue || !this.fixedSites) {\n                this.filteredSites = this.fixedSites;\n            }\n            else {\n                this.filteredSites = this.fixedSites.filter((site) => site.title.toLowerCase().indexOf(newValue) > -1 || site.noProtocolUrl.toLowerCase().indexOf(newValue) > -1 ||\n                    site.location.toLowerCase().indexOf(newValue) > -1);\n            }\n        }\n        /**\n         * Find a site on the backend.\n         *\n         * @param e Event.\n         * @param search Text to search.\n         */\n        searchSite(e, search) {\n            this.loadingSites = true;\n            search = search.trim();\n            if (this.siteForm.valid && search.length >= 3) {\n                this.enteredSiteUrl = {\n                    url: search,\n                    name: 'connect',\n                    title: '',\n                    location: '',\n                    noProtocolUrl: singletons_url[\"a\" /* CoreUrl */].removeProtocol(search),\n                };\n            }\n            else {\n                this.enteredSiteUrl = undefined;\n            }\n            this.searchFunction(search.trim());\n        }\n        /**\n         * Show instructions and scan QR code.\n         *\n         * @return Promise resolved when done.\n         */\n        showInstructionsAndScanQR() {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                try {\n                    yield login_helper[\"a\" /* CoreLoginHelper */].showScanQRInstructions();\n                    yield this.scanQR();\n                }\n                catch (_a) {\n                    // Ignore errors.\n                }\n            });\n        }\n        /**\n         * Scan a QR code and put its text in the URL input.\n         *\n         * @return Promise resolved when done.\n         */\n        scanQR() {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                // Scan for a QR code.\n                const text = yield utils[\"a\" /* CoreUtils */].scanQR();\n                if (!text) {\n                    return;\n                }\n                if (urlschemes[\"a\" /* CoreCustomURLSchemes */].isCustomURL(text)) {\n                    try {\n                        yield urlschemes[\"a\" /* CoreCustomURLSchemes */].handleCustomURL(text);\n                    }\n                    catch (error) {\n                        if (error && error.data && error.data.isAuthenticationURL && error.data.siteUrl) {\n                            // An error ocurred, but it's an authentication URL and we have the site URL.\n                            this.treatErrorInAuthenticationCustomURL(text, error);\n                        }\n                        else {\n                            urlschemes[\"a\" /* CoreCustomURLSchemes */].treatHandleCustomURLError(error);\n                        }\n                    }\n                    return;\n                }\n                // Not a custom URL scheme, check if it's a URL scheme to another app.\n                const scheme = utils_url[\"a\" /* CoreUrlUtils */].getUrlProtocol(text);\n                if (scheme && scheme != 'http' && scheme != 'https') {\n                    dom[\"a\" /* CoreDomUtils */].showErrorModal(singletons[\"M\" /* Translate */].instant('core.errorurlschemeinvalidscheme', { $a: text }));\n                    return;\n                }\n                const allowed = yield login_helper[\"a\" /* CoreLoginHelper */].isSiteUrlAllowed(text);\n                if (allowed) {\n                    // Put the text in the field (if present).\n                    this.siteForm.controls.siteUrl.setValue(text);\n                    this.connect(new Event('click'), text);\n                }\n                else {\n                    dom[\"a\" /* CoreDomUtils */].showErrorModal('core.errorurlschemeinvalidsite', true);\n                }\n            });\n        }\n        /**\n         * Treat an error while handling a custom URL meant to perform an authentication.\n         * If the site doesn't use SSO, the user will be sent to the credentials screen.\n         *\n         * @param customURL Custom URL handled.\n         * @param error Error data.\n         * @return Promise resolved when done.\n         */\n        treatErrorInAuthenticationCustomURL(customURL, error) {\n            var _a;\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                const siteUrl = ((_a = error.data) === null || _a === void 0 ? void 0 : _a.siteUrl) || '';\n                const modal = yield dom[\"a\" /* CoreDomUtils */].showModalLoading();\n                // Set the site URL in the input.\n                this.siteForm.controls.siteUrl.setValue(siteUrl);\n                try {\n                    // Check if site uses SSO.\n                    const response = yield services_sites[\"b\" /* CoreSites */].checkSite(siteUrl);\n                    yield services_sites[\"b\" /* CoreSites */].checkApplication(response.config);\n                    if (!login_helper[\"a\" /* CoreLoginHelper */].isSSOLoginNeeded(response.code)) {\n                        // No SSO, go to credentials page.\n                        yield services_navigator[\"a\" /* CoreNavigator */].navigate('/login/credentials', {\n                            params: {\n                                siteUrl: response.siteUrl,\n                                siteConfig: response.config,\n                            },\n                        });\n                    }\n                }\n                catch (error) {\n                    // Ignore errors.\n                }\n                finally {\n                    modal.dismiss();\n                }\n                // Now display the error.\n                error.error = utils_text[\"a\" /* CoreTextUtils */].addTextToError(error.error, '<br><br>' + singletons[\"M\" /* Translate */].instant('core.login.youcanstillconnectwithcredentials'));\n                urlschemes[\"a\" /* CoreCustomURLSchemes */].treatHandleCustomURLError(error);\n            });\n        }\n        /**\n         * Open settings page.\n         */\n        openSettings() {\n            services_navigator[\"a\" /* CoreNavigator */].navigate('/settings');\n        }\n    }\n    CoreLoginSitePage.ɵfac = function CoreLoginSitePage_Factory(t) { return new (t || CoreLoginSitePage)(core[\"yc\" /* ɵɵdirectiveInject */](fesm2015_forms[\"f\" /* FormBuilder */])); };\n    CoreLoginSitePage.ɵcmp = core[\"sc\" /* ɵɵdefineComponent */]({ type: CoreLoginSitePage, selectors: [[\"page-core-login-site\"]], viewQuery: function CoreLoginSitePage_Query(rf, ctx) {\n            if (rf & 1) {\n                core[\"ud\" /* ɵɵviewQuery */](_c0, true);\n            }\n            if (rf & 2) {\n                var _t;\n                core[\"dd\" /* ɵɵqueryRefresh */](_t = core[\"Nc\" /* ɵɵloadQuery */]()) && (ctx.formElement = _t.first);\n            }\n        }, decls: 25, vars: 17, consts: [[\"slot\", \"start\"], [3, \"text\"], [\"slot\", \"end\"], [\"fill\", \"clear\", 3, \"click\"], [\"slot\", \"icon-only\", \"name\", \"fas-cog\", \"aria-hidden\", \"true\"], [1, \"ion-padding\"], [1, \"list-item-limited-width\"], [1, \"ion-text-center\", \"ion-padding\", \"ion-margin-bottom\", \"core-login-site-logo\"], [\"src\", \"assets/img/login_logo.png\", \"role\", \"presentation\", \"alt\", \"\", 1, \"avatar-full\", \"login-logo\"], [3, \"formGroup\", \"ngSubmit\", 4, \"ngIf\"], [4, \"ngIf\"], [\"aria-haspopup\", \"dialog\", \"expand\", \"block\", \"fill\", \"clear\", 1, \"ion-margin-top\", \"core-login-need-help\", \"core-button-as-link\", \"ion-text-wrap\", 3, \"click\"], [\"sitelisting\", \"\"], [3, \"formGroup\", \"ngSubmit\"], [\"siteFormEl\", \"\"], [\"position\", \" stacked\"], [\"name\", \"url\", \"type\", \"url\", \"formControlName\", \"siteUrl\", 3, \"placeholder\", \"core-auto-focus\"], [\"position\", \"stacked\"], [\"name\", \"url\", \"formControlName\", \"siteUrl\", 3, \"placeholder\", \"core-auto-focus\", \"ionChange\"], [1, \"core-login-site-list\"], [1, \"core-login-site-list-title\"], [1, \"item-heading\"], [\"button\", \"\", \"detail\", \"true\", \"class\", \"core-login-entered-site\", 3, \"click\", 4, \"ngIf\"], [1, \"core-login-site-list-found\"], [\"class\", \"core-login-site-list-loading\", 4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\"], [\"class\", \"core-login-site-nolist-loading\", 4, \"ngIf\"], [\"button\", \"\", \"detail\", \"true\", 1, \"core-login-entered-site\", 3, \"click\"], [\"slot\", \"start\", \"aria-hidden\", \"true\"], [\"name\", \"fas-pen\", \"aria-hidden\", \"true\"], [1, \"ion-text-wrap\"], [1, \"core-login-site-list-loading\"], [4, \"ngTemplateOutlet\", \"ngTemplateOutletContext\"], [1, \"core-login-site-nolist-loading\"], [\"expand\", \"block\", \"type\", \"submit\", 1, \"ion-text-wrap\", 3, \"disabled\"], [3, \"ngModel\", \"placeholder\", \"ngModelChange\", \"ionInput\", \"ionCancel\", 4, \"ngIf\"], [3, \"ngModel\", \"placeholder\", \"ngModelChange\", \"ionInput\", \"ionCancel\"], [1, \"ion-text-center\", \"ion-padding\", \"ion-margin-top\"], [\"expand\", \"block\", \"fill\", \"outline\", \"aria-haspopup\", \"dialog\", 1, \"ion-margin\", 3, \"click\"], [\"slot\", \"start\", \"name\", \"fas-qrcode\", \"aria-hidden\", \"true\"], [\"button\", \"\", \"detail\", \"true\", 3, \"click\"], [\"slot\", \"start\", 4, \"ngIf\"], [\"class\", \"item-heading ion-text-wrap\", 4, \"ngIf\"], [\"onError\", \"this.src='assets/icon/icon.png'\", \"alt\", \"\", \"role\", \"presentation\", 3, \"src\", 4, \"ngIf\"], [\"src\", \"assets/icon/icon.png\", \"class\", \"core-login-default-icon\", \"alt\", \"\", \"role\", \"presentation\", 4, \"ngIf\"], [\"onError\", \"this.src='assets/icon/icon.png'\", \"alt\", \"\", \"role\", \"presentation\", 3, \"src\"], [\"src\", \"assets/icon/icon.png\", \"alt\", \"\", \"role\", \"presentation\", 1, \"core-login-default-icon\"], [1, \"item-heading\", \"ion-text-wrap\"]], template: function CoreLoginSitePage_Template(rf, ctx) {\n            if (rf & 1) {\n                core[\"Ec\" /* ɵɵelementStart */](0, \"ion-header\");\n                core[\"Ec\" /* ɵɵelementStart */](1, \"ion-toolbar\");\n                core[\"Ec\" /* ɵɵelementStart */](2, \"ion-buttons\", 0);\n                core[\"zc\" /* ɵɵelement */](3, \"ion-back-button\", 1);\n                core[\"Pc\" /* ɵɵpipe */](4, \"translate\");\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Ec\" /* ɵɵelementStart */](5, \"ion-title\");\n                core[\"Ec\" /* ɵɵelementStart */](6, \"h1\");\n                core[\"pd\" /* ɵɵtext */](7);\n                core[\"Pc\" /* ɵɵpipe */](8, \"translate\");\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Ec\" /* ɵɵelementStart */](9, \"ion-buttons\", 2);\n                core[\"Ec\" /* ɵɵelementStart */](10, \"ion-button\", 3);\n                core[\"Mc\" /* ɵɵlistener */](\"click\", function CoreLoginSitePage_Template_ion_button_click_10_listener() { return ctx.openSettings(); });\n                core[\"Pc\" /* ɵɵpipe */](11, \"translate\");\n                core[\"zc\" /* ɵɵelement */](12, \"ion-icon\", 4);\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Ec\" /* ɵɵelementStart */](13, \"ion-content\", 5);\n                core[\"Ec\" /* ɵɵelementStart */](14, \"div\", 6);\n                core[\"Ec\" /* ɵɵelementStart */](15, \"div\", 7);\n                core[\"zc\" /* ɵɵelement */](16, \"img\", 8);\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"nd\" /* ɵɵtemplate */](17, CoreLoginSitePage_form_17_Template, 5, 4, \"form\", 9);\n                core[\"nd\" /* ɵɵtemplate */](18, CoreLoginSitePage_ng_container_18_Template, 2, 1, \"ng-container\", 10);\n                core[\"nd\" /* ɵɵtemplate */](19, CoreLoginSitePage_ng_container_19_Template, 8, 6, \"ng-container\", 10);\n                core[\"Ec\" /* ɵɵelementStart */](20, \"ion-button\", 11);\n                core[\"Mc\" /* ɵɵlistener */](\"click\", function CoreLoginSitePage_Template_ion_button_click_20_listener() { return ctx.showHelp(); });\n                core[\"pd\" /* ɵɵtext */](21);\n                core[\"Pc\" /* ɵɵpipe */](22, \"translate\");\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"nd\" /* ɵɵtemplate */](23, CoreLoginSitePage_ng_template_23_Template, 6, 5, \"ng-template\", null, 12, core[\"od\" /* ɵɵtemplateRefExtractor */]);\n            }\n            if (rf & 2) {\n                core[\"lc\" /* ɵɵadvance */](3);\n                core[\"Vc\" /* ɵɵproperty */](\"text\", core[\"Qc\" /* ɵɵpipeBind1 */](4, 9, \"core.back\"));\n                core[\"lc\" /* ɵɵadvance */](4);\n                core[\"qd\" /* ɵɵtextInterpolate */](core[\"Qc\" /* ɵɵpipeBind1 */](8, 11, \"core.login.connecttomoodle\"));\n                core[\"lc\" /* ɵɵadvance */](3);\n                core[\"mc\" /* ɵɵattribute */](\"aria-label\", core[\"Qc\" /* ɵɵpipeBind1 */](11, 13, \"core.settings.appsettings\"));\n                core[\"lc\" /* ɵɵadvance */](5);\n                core[\"qc\" /* ɵɵclassProp */](\"hidden\", ctx.hasSites || ctx.enteredSiteUrl);\n                core[\"lc\" /* ɵɵadvance */](2);\n                core[\"Vc\" /* ɵɵproperty */](\"ngIf\", !ctx.fixedSites);\n                core[\"lc\" /* ɵɵadvance */](1);\n                core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx.fixedSites);\n                core[\"lc\" /* ɵɵadvance */](1);\n                core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx.showScanQR && !ctx.hasSites && !ctx.enteredSiteUrl);\n                core[\"lc\" /* ɵɵadvance */](2);\n                core[\"rd\" /* ɵɵtextInterpolate1 */](\" \", core[\"Qc\" /* ɵɵpipeBind1 */](22, 15, \"core.needhelp\"), \" \");\n            }\n        }, directives: [ionic_angular[\"C\" /* IonHeader */], ionic_angular[\"Ab\" /* IonToolbar */], ionic_angular[\"m\" /* IonButtons */], ionic_angular[\"h\" /* IonBackButton */], ionic_angular[\"i\" /* IonBackButtonDelegate */], ionic_angular[\"yb\" /* IonTitle */], update_non_reactive_attributes[\"a\" /* CoreUpdateNonReactiveAttributesDirective */], ionic_angular[\"l\" /* IonButton */], ionic_angular[\"D\" /* IonIcon */], fa_icon[\"a\" /* CoreFaIconDirective */], content[\"a\" /* CoreContentDirective */], ionic_angular[\"v\" /* IonContent */], common[\"t\" /* NgIf */], fesm2015_forms[\"H\" /* ɵangular_packages_forms_forms_y */], fesm2015_forms[\"s\" /* NgControlStatusGroup */], fesm2015_forms[\"k\" /* FormGroupDirective */], ionic_angular[\"I\" /* IonItem */], ionic_angular[\"O\" /* IonLabel */], ionic_angular[\"H\" /* IonInput */], ionic_angular[\"Pb\" /* TextValueAccessor */], fesm2015_forms[\"r\" /* NgControlStatus */], fesm2015_forms[\"i\" /* FormControlName */], auto_focus[\"a\" /* CoreAutoFocusDirective */], ionic_angular[\"P\" /* IonList */], common[\"s\" /* NgForOf */], ionic_angular[\"xb\" /* IonThumbnail */], ionic_angular[\"qb\" /* IonSpinner */], common[\"A\" /* NgTemplateOutlet */], ionic_angular[\"ib\" /* IonSearchbar */], fesm2015_forms[\"u\" /* NgModel */]], pipes: [ngx_translate_core[\"d\" /* TranslatePipe */]], styles: [\"[_nghost-%COMP%]{--list-item-max-width:600px}.item-input[_ngcontent-%COMP%]:last-child{margin-bottom:20px}.item.core-login-need-help[_ngcontent-%COMP%]{margin-top:16px}.item.core-login-site-qrcode[_ngcontent-%COMP%]   .item-inner[_ngcontent-%COMP%]{border-bottom:0}.core-login-site-connect[_ngcontent-%COMP%]{margin-top:1.4rem}.item[_ngcontent-%COMP%]   ion-thumbnail[_ngcontent-%COMP%]{min-width:50px;min-height:50px;width:50px;height:50px;border-radius:20%;box-shadow:0 0 4px var(--gray-200);text-align:center;overflow:hidden}.item[_ngcontent-%COMP%]   ion-thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:50px;max-width:-webkit-fit-content;max-width:fit-content;width:auto;height:auto;margin:0 auto 0 50%;transform:translate3d(-50%,0,0);object-fit:cover;object-position:50% 50%}[dir=rtl][_nghost-%COMP%]   .item[_ngcontent-%COMP%]   ion-thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .item[_ngcontent-%COMP%]   ion-thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], [dir=rtl][_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   ion-thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:translate3d(calc(-1 * -50%),0,0)}.item[_ngcontent-%COMP%]   ion-thumbnail[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin:0 auto;font-size:35px;height:50px}[dir=rtl][_nghost-%COMP%]   .item[_ngcontent-%COMP%]   ion-thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .item[_ngcontent-%COMP%]   ion-thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:0;margin-right:50%}.core-login-site-list[_ngcontent-%COMP%], .core-login-site-list-found[_ngcontent-%COMP%], .core-login-site-logo[_ngcontent-%COMP%]{transition-delay:0s;visibility:visible;opacity:1;transition:all .7s ease-in-out;max-height:9999px}.core-login-site-list-found.hidden[_ngcontent-%COMP%], .core-login-site-list.hidden[_ngcontent-%COMP%], .core-login-site-logo.hidden[_ngcontent-%COMP%]{opacity:0;visibility:hidden;margin-top:0;margin-bottom:0;padding:0;max-height:0}.core-login-site-list-found.dimmed[_ngcontent-%COMP%]{pointer-events:none;position:relative}.core-login-site-list-loading[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:0;right:0;width:100%;height:100%;display:flex;align-content:center;align-items:center;background-color:hsla(0,0%,100%,.5);z-index:1}.core-login-site-list-loading[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{margin:0 auto}.core-login-site-nolist-loading[_ngcontent-%COMP%]{margin-top:16px;text-align:center}.item.core-login-site-list-title[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%], .item.core-login-site-list-title[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h2.item-heading[_ngcontent-%COMP%]{margin-top:0}@media (min-width:768px){ion-content[_ngcontent-%COMP%]   .core-login-site-logo[_ngcontent-%COMP%]{margin-top:20%}ion-content[_ngcontent-%COMP%]   .core-login-site-logo.hidden[_ngcontent-%COMP%]{margin-top:0}}.core-login-entered-site[_ngcontent-%COMP%]{background-color:var(--light)}.core-login-entered-site[_ngcontent-%COMP%]   ion-thumbnail[_ngcontent-%COMP%]{box-shadow:0 0 4px var(--gray-300)}.core-login-default-icon[_ngcontent-%COMP%]{filter:grayscale(100%)}\", \"[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%], [_nghost-%COMP%]   ion-list[_ngcontent-%COMP%]{--background:var(--core-login-background);--ion-item-background:var(--core-login-background)}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%], [_nghost-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%], [_nghost-%COMP%]   ion-list[_ngcontent-%COMP%]{--color:var(--core-login-text-color)}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], [_nghost-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   .core-oauth-icon[_ngcontent-%COMP%], [_nghost-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], [_nghost-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], [_nghost-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--color)}[_nghost-%COMP%]   ion-button.core-button-as-link[_ngcontent-%COMP%]{--color:var(--core-login-text-color);-webkit-text-decoration-color:var(--core-login-text-color);text-decoration-color:var(--core-login-text-color)}[_nghost-%COMP%]   ion-button.core-button-as-link[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{color:var(--core-login-text-color)}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   .core-username.item[_ngcontent-%COMP%], [_nghost-%COMP%]   form[_ngcontent-%COMP%]   .item.item-input[_ngcontent-%COMP%]{margin-bottom:16px}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   .core-username.ios[_ngcontent-%COMP%]{--inner-border-width:0 0 1px 0}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%], [_nghost-%COMP%]   form[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{--background:var(--core-login-input-background);--color:var(--core-login-input-color)}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   .core-username.item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   .core-username.item.md[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding-left:8px}@supports ((-webkit-margin-start:0) or (margin-inline-start:0)) or (-webkit-margin-start:0){[_nghost-%COMP%]   form[_ngcontent-%COMP%]   .core-username.item.md[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding-left:unset;-webkit-padding-start:8px;padding-inline-start:8px}}[_nghost-%COMP%]   .core-login-site-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%}[_nghost-%COMP%]   .core-sitename[_ngcontent-%COMP%] + .core-siteurl[_ngcontent-%COMP%]{margin-top:0}[_nghost-%COMP%]   .core-sitename[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:0}[_nghost-%COMP%]   .core-login-site-logo[_ngcontent-%COMP%]{width:90%;max-width:300px;margin:5px auto}[_nghost-%COMP%]   .core-login-forgotten-password[_ngcontent-%COMP%]{text-decoration:underline}body.dark[_nghost-%COMP%]   core-loading[_ngcontent-%COMP%], body.dark   [_nghost-%COMP%]   core-loading[_ngcontent-%COMP%]{--loading-background:var(--core-login-background-dark);--loading-text-color:#fff;--loading-spinner:#fff}\"] });\n    return CoreLoginSitePage;\n})();\n\n// CONCATENATED MODULE: ./src/core/features/login/pages/site/site.module.ts\n// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n\n\n\n\nconst routes = [\n    {\n        path: '',\n        component: site_CoreLoginSitePage,\n    },\n];\nlet site_module_CoreLoginSitePageModule = /*@__PURE__*/ (() => {\n    class CoreLoginSitePageModule {\n    }\n    CoreLoginSitePageModule.ɵmod = core[\"wc\" /* ɵɵdefineNgModule */]({ type: CoreLoginSitePageModule });\n    CoreLoginSitePageModule.ɵinj = core[\"vc\" /* ɵɵdefineInjector */]({ factory: function CoreLoginSitePageModule_Factory(t) { return new (t || CoreLoginSitePageModule)(); }, imports: [[\n                router[\"m\" /* RouterModule */].forChild(routes),\n                shared_module[\"a\" /* CoreSharedModule */],\n            ], router[\"m\" /* RouterModule */]] });\n    return CoreLoginSitePageModule;\n})();\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && core[\"kd\" /* ɵɵsetNgModuleScope */](site_module_CoreLoginSitePageModule, { declarations: [site_CoreLoginSitePage], imports: [router[\"m\" /* RouterModule */], shared_module[\"a\" /* CoreSharedModule */]], exports: [router[\"m\" /* RouterModule */]] }); })();\n\n\n/***/ })\n\n}]);","inputSourceMap":null}