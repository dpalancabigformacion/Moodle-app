{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[84],{NNBU:function(i,t,n){\"use strict\";n.r(t),n.d(t,\"AddonNotificationsListPageModule\",(function(){return z}));var o=n(\"tyNb\"),e=n(\"L3Fv\"),a=n(\"mrSG\"),c=n(\"9+EE\"),r=n(\"3LXp\"),s=n(\"bFG1\"),d=n(\"fjkH\"),l=n(\"yjU1\"),_=n(\"2eZG\"),f=n(\"ssuw\"),g=n(\"YyYz\"),m=n(\"pHTc\"),p=n(\"Q98t\"),u=n(\"fXoL\"),h=n(\"TEn/\"),P=n(\"C1x5\"),b=n(\"nt/U\"),A=n(\"PgjG\"),v=n(\"ofXK\"),M=n(\"xpMl\"),N=n(\"3jOR\"),O=n(\"hMzs\"),x=n(\"FeAf\"),L=n(\"eAud\"),C=n(\"3CSS\"),k=n(\"r8G5\"),w=n(\"sYmb\"),y=n(\"lAaw\");function AddonNotificationsListPage_ion_item_16_core_user_avatar_2_div_1_Template(i,t){if(1&i&&(u.Ec(0,\"div\",21),u.zc(1,\"img\",22),u.Dc()),2&i){const i=u.Oc(2).$implicit;u.lc(1),u.Vc(\"src\",i.iconurl,u.id)}}function AddonNotificationsListPage_ion_item_16_core_user_avatar_2_core_mod_icon_2_Template(i,t){if(1&i&&u.zc(0,\"core-mod-icon\",23),2&i){const i=u.Oc(2).$implicit;u.Vc(\"modicon\",i.iconurl)(\"modname\",i.modname)(\"showAlt\",!1)}}function AddonNotificationsListPage_ion_item_16_core_user_avatar_2_Template(i,t){if(1&i&&(u.Ec(0,\"core-user-avatar\",18),u.nd(1,AddonNotificationsListPage_ion_item_16_core_user_avatar_2_div_1_Template,2,1,\"div\",19),u.nd(2,AddonNotificationsListPage_ion_item_16_core_user_avatar_2_core_mod_icon_2_Template,1,3,\"core-mod-icon\",20),u.Dc()),2&i){const i=u.Oc().$implicit;u.Vc(\"user\",i)(\"profileUrl\",i.profileimageurlfrom)(\"fullname\",i.userfromfullname)(\"userId\",i.useridfrom),u.lc(1),u.Vc(\"ngIf\",i.iconurl&&!i.modname),u.lc(1),u.Vc(\"ngIf\",i.modname)}}function AddonNotificationsListPage_ion_item_16_ng_container_3_div_1_Template(i,t){if(1&i&&(u.Ec(0,\"div\",26),u.zc(1,\"img\",22),u.Dc()),2&i){const i=u.Oc(2).$implicit;u.lc(1),u.Vc(\"src\",i.iconurl,u.id)}}function AddonNotificationsListPage_ion_item_16_ng_container_3_core_mod_icon_2_Template(i,t){if(1&i&&u.zc(0,\"core-mod-icon\",27),2&i){const i=u.Oc(2).$implicit;u.Vc(\"modicon\",i.iconurl)(\"modname\",i.modname)(\"showAlt\",!1)}}function AddonNotificationsListPage_ion_item_16_ng_container_3_Template(i,t){if(1&i&&(u.Cc(0),u.nd(1,AddonNotificationsListPage_ion_item_16_ng_container_3_div_1_Template,2,1,\"div\",24),u.nd(2,AddonNotificationsListPage_ion_item_16_ng_container_3_core_mod_icon_2_Template,1,3,\"core-mod-icon\",25),u.Bc()),2&i){const i=u.Oc().$implicit;u.lc(1),u.Vc(\"ngIf\",!i.modname),u.lc(1),u.Vc(\"ngIf\",i.modname)}}function AddonNotificationsListPage_ion_item_16_ng_container_10_Template(i,t){if(1&i&&(u.Cc(0),u.pd(1),u.Bc()),2&i){const i=u.Oc().$implicit;u.lc(1),u.rd(\" · \",i.userfromfullname,\"\")}}function AddonNotificationsListPage_ion_item_16_ion_note_11_Template(i,t){1&i&&(u.Ec(0,\"ion-note\",2),u.zc(1,\"ion-icon\",28),u.Dc())}const _c0=function(i){return{$a:i}};function AddonNotificationsListPage_ion_item_16_Template(i,t){if(1&i){const i=u.Fc();u.Ec(0,\"ion-item\",12),u.Mc(\"click\",(function AddonNotificationsListPage_ion_item_16_Template_ion_item_click_0_listener(){u.fd(i);const n=t.$implicit;return u.Oc().openNotification(n)})),u.Pc(1,\"translate\"),u.nd(2,AddonNotificationsListPage_ion_item_16_core_user_avatar_2_Template,3,6,\"core-user-avatar\",13),u.nd(3,AddonNotificationsListPage_ion_item_16_ng_container_3_Template,3,2,\"ng-container\",14),u.Ec(4,\"ion-label\"),u.Ec(5,\"p\",15),u.zc(6,\"core-format-text\",16),u.Dc(),u.Ec(7,\"p\"),u.pd(8),u.Pc(9,\"coreTimeAgo\"),u.nd(10,AddonNotificationsListPage_ion_item_16_ng_container_10_Template,2,1,\"ng-container\",14),u.Dc(),u.Dc(),u.nd(11,AddonNotificationsListPage_ion_item_16_ion_note_11_Template,2,0,\"ion-note\",17),u.Dc()}if(2&i){const i=t.$implicit;u.Vc(\"detail\",!1),u.mc(\"aria-label\",i.timeread?i.subject:u.Rc(1,10,\"addon.notifications.unreadnotification\",u.ad(15,_c0,i.subject))),u.lc(2),u.Vc(\"ngIf\",i.useridfrom>0),u.lc(1),u.Vc(\"ngIf\",i.useridfrom<=0&&i.iconurl),u.lc(3),u.Vc(\"text\",i.subject)(\"contextInstanceId\",0)(\"wsNotFiltered\",!0),u.lc(2),u.qd(u.Qc(9,13,i.timecreated)),u.lc(2),u.Vc(\"ngIf\",i.useridfrom>0),u.lc(1),u.Vc(\"ngIf\",!i.timeread)}}function AddonNotificationsListPage_core_empty_box_17_Template(i,t){1&i&&(u.zc(0,\"core-empty-box\",29),u.Pc(1,\"translate\")),2&i&&u.Vc(\"message\",u.Qc(1,1,\"addon.notifications.therearentnotificationsyet\"))}function AddonNotificationsListPage_ion_chip_20_ion_icon_1_Template(i,t){1&i&&u.zc(0,\"ion-icon\",32)}function AddonNotificationsListPage_ion_chip_20_ion_spinner_2_Template(i,t){1&i&&(u.zc(0,\"ion-spinner\"),u.Pc(1,\"translate\")),2&i&&u.mc(\"aria-label\",u.Qc(1,1,\"core.loading\"))}function AddonNotificationsListPage_ion_chip_20_Template(i,t){if(1&i){const i=u.Fc();u.Ec(0,\"ion-chip\",30),u.Mc(\"click\",(function AddonNotificationsListPage_ion_chip_20_Template_ion_chip_click_0_listener(){u.fd(i);return u.Oc().markAllNotificationsAsRead()})),u.nd(1,AddonNotificationsListPage_ion_chip_20_ion_icon_1_Template,1,0,\"ion-icon\",31),u.nd(2,AddonNotificationsListPage_ion_chip_20_ion_spinner_2_Template,2,3,\"ion-spinner\",14),u.pd(3),u.Pc(4,\"translate\"),u.Dc()}if(2&i){const i=u.Oc();u.Vc(\"disabled\",i.loadingMarkAllNotificationsAsRead),u.lc(1),u.Vc(\"ngIf\",!i.loadingMarkAllNotificationsAsRead),u.lc(1),u.Vc(\"ngIf\",i.loadingMarkAllNotificationsAsRead),u.lc(1),u.rd(\" \",u.Qc(4,4,\"addon.notifications.markallread\"),\" \")}}let E=(()=>{class AddonNotificationsListPage{constructor(){this.notifications=[],this.notificationsLoaded=!1,this.canLoadMore=!1,this.loadMoreError=!1,this.canMarkAllNotificationsAsRead=!1,this.loadingMarkAllNotificationsAsRead=!1,this.pendingRefresh=!1}ngOnInit(){this.fetchNotifications(),this.cronObserver=d.b.on(l.b.READ_CRON_EVENT,(()=>{this.isCurrentView&&(this.notificationsLoaded=!1,this.refreshNotifications())}),c.b.getCurrentSiteId()),this.pushObserver=_.a.on(\"receive\").subscribe((i=>{if(!this.isCurrentView)return this.pendingRefresh=!0,void 0;s.a.isTrueOrOne(i.notif)&&c.b.isCurrentSite(i.site)&&(this.notificationsLoaded=!1,this.refreshNotifications())})),this.readObserver=d.b.on(l.b.READ_CHANGED_EVENT,(i=>{if(!i.id)return;const t=this.notifications.find((t=>t.id===i.id));t&&(t.read=!0,t.timeread=i.time,this.loadMarkAllAsReadButton())}));(new g.a).treatLink()}fetchNotifications(i){return Object(a.a)(this,void 0,void 0,(function*(){this.loadMoreError=!1;try{const t=yield l.a.getNotifications(i?[]:this.notifications),n=t.notifications.map((i=>f.a.formatNotificationText(i)));this.notifications=i?n:this.notifications.concat(n),this.canLoadMore=t.canLoadMore,yield this.loadMarkAllAsReadButton()}catch(i){r.a.showErrorModalDefault(i,\"addon.notifications.errorgetnotifications\",!0),this.loadMoreError=!0}finally{this.notificationsLoaded=!0}}))}markAllNotificationsAsRead(){return Object(a.a)(this,void 0,void 0,(function*(){this.loadingMarkAllNotificationsAsRead=!0,yield s.a.ignoreErrors(l.a.markAllNotificationsAsRead()),d.b.trigger(l.b.READ_CHANGED_EVENT,{time:p.a.timestamp()},c.b.getCurrentSiteId()),this.notificationsLoaded=!1,yield this.refreshNotifications()}))}loadMarkAllAsReadButton(){return Object(a.a)(this,void 0,void 0,(function*(){try{this.loadingMarkAllNotificationsAsRead=!0;const i=yield l.a.getUnreadNotificationsCount();this.canMarkAllNotificationsAsRead=i.count>0}finally{this.loadingMarkAllNotificationsAsRead=!1}}))}refreshNotifications(i){return Object(a.a)(this,void 0,void 0,(function*(){yield s.a.ignoreErrors(l.a.invalidateNotificationsList());try{yield this.fetchNotifications(!0)}finally{null==i?void 0:i.complete()}}))}loadMoreNotifications(i){return Object(a.a)(this,void 0,void 0,(function*(){try{yield this.fetchNotifications()}finally{null==i?void 0:i()}}))}openNotification(i){m.a.navigate(\"../notification\",{params:{notification:i}})}ionViewDidEnter(){this.isCurrentView=!0,this.pendingRefresh&&(this.pendingRefresh=!1,this.notificationsLoaded=!1,this.refreshNotifications())}ionViewDidLeave(){this.isCurrentView=!1}ngOnDestroy(){var i,t,n;null===(i=this.cronObserver)||void 0===i?void 0:i.off(),null===(t=this.readObserver)||void 0===t||t.off(),null===(n=this.pushObserver)||void 0===n||n.unsubscribe()}}return AddonNotificationsListPage.ɵfac=function AddonNotificationsListPage_Factory(i){return new(i||AddonNotificationsListPage)},AddonNotificationsListPage.ɵcmp=u.sc({type:AddonNotificationsListPage,selectors:[[\"page-addon-notifications-list\"]],decls:21,vars:16,consts:[[\"slot\",\"start\"],[3,\"text\"],[\"slot\",\"end\"],[1,\"limited-width\"],[\"slot\",\"fixed\",3,\"disabled\",\"ionRefresh\"],[3,\"pullingText\"],[3,\"hideUntil\"],[\"class\",\"ion-text-wrap\",\"button\",\"\",\"lines\",\"full\",3,\"detail\",\"click\",4,\"ngFor\",\"ngForOf\"],[\"icon\",\"far-bell\",3,\"message\",4,\"ngIf\"],[3,\"enabled\",\"error\",\"action\"],[\"slot\",\"fixed\",\"collapsible-footer\",\"\",\"appearOnBottom\",\"\",1,\"mark-all-as-read\"],[\"color\",\"primary\",3,\"disabled\",\"click\",4,\"ngIf\"],[\"button\",\"\",\"lines\",\"full\",1,\"ion-text-wrap\",3,\"detail\",\"click\"],[\"slot\",\"start\",3,\"user\",\"profileUrl\",\"fullname\",\"userId\",4,\"ngIf\"],[4,\"ngIf\"],[1,\"item-heading\"],[\"contextLevel\",\"system\",3,\"text\",\"contextInstanceId\",\"wsNotFiltered\"],[\"slot\",\"end\",4,\"ngIf\"],[\"slot\",\"start\",3,\"user\",\"profileUrl\",\"fullname\",\"userId\"],[\"class\",\"core-avatar-extra-img\",4,\"ngIf\"],[3,\"modicon\",\"modname\",\"showAlt\",4,\"ngIf\"],[1,\"core-avatar-extra-img\"],[\"alt\",\"\",\"role\",\"presentation\",3,\"src\"],[3,\"modicon\",\"modname\",\"showAlt\"],[\"class\",\"core-notification-icon\",\"slot\",\"start\",4,\"ngIf\"],[\"class\",\"core-notification-icon\",\"slot\",\"start\",3,\"modicon\",\"modname\",\"showAlt\",4,\"ngIf\"],[\"slot\",\"start\",1,\"core-notification-icon\"],[\"slot\",\"start\",1,\"core-notification-icon\",3,\"modicon\",\"modname\",\"showAlt\"],[\"name\",\"fas-circle\",\"color\",\"primary\",\"aria-hidden\",\"true\"],[\"icon\",\"far-bell\",3,\"message\"],[\"color\",\"primary\",3,\"disabled\",\"click\"],[\"name\",\"fas-eye\",\"aria-hidden\",\"true\",4,\"ngIf\"],[\"name\",\"fas-eye\",\"aria-hidden\",\"true\"]],template:function AddonNotificationsListPage_Template(i,t){1&i&&(u.Ec(0,\"ion-header\"),u.Ec(1,\"ion-toolbar\"),u.Ec(2,\"ion-buttons\",0),u.zc(3,\"ion-back-button\",1),u.Pc(4,\"translate\"),u.Dc(),u.Ec(5,\"ion-title\"),u.Ec(6,\"h1\"),u.pd(7),u.Pc(8,\"translate\"),u.Dc(),u.Dc(),u.Ec(9,\"ion-buttons\",2),u.zc(10,\"core-user-menu-button\"),u.Dc(),u.Dc(),u.Dc(),u.Ec(11,\"ion-content\",3),u.Ec(12,\"ion-refresher\",4),u.Mc(\"ionRefresh\",(function AddonNotificationsListPage_Template_ion_refresher_ionRefresh_12_listener(i){return t.refreshNotifications(i.target)})),u.zc(13,\"ion-refresher-content\",5),u.Pc(14,\"translate\"),u.Dc(),u.Ec(15,\"core-loading\",6),u.nd(16,AddonNotificationsListPage_ion_item_16_Template,12,17,\"ion-item\",7),u.nd(17,AddonNotificationsListPage_core_empty_box_17_Template,2,3,\"core-empty-box\",8),u.Ec(18,\"core-infinite-loading\",9),u.Mc(\"action\",(function AddonNotificationsListPage_Template_core_infinite_loading_action_18_listener(i){return t.loadMoreNotifications(i)})),u.Dc(),u.Dc(),u.Ec(19,\"div\",10),u.nd(20,AddonNotificationsListPage_ion_chip_20_Template,5,6,\"ion-chip\",11),u.Dc(),u.Dc()),2&i&&(u.lc(3),u.Vc(\"text\",u.Qc(4,10,\"core.back\")),u.lc(4),u.qd(u.Qc(8,12,\"addon.notifications.notifications\")),u.lc(5),u.Vc(\"disabled\",!t.notificationsLoaded),u.lc(1),u.Wc(\"pullingText\",u.Qc(14,14,\"core.pulltorefresh\")),u.lc(2),u.Vc(\"hideUntil\",t.notificationsLoaded),u.lc(1),u.Vc(\"ngForOf\",t.notifications),u.lc(1),u.Vc(\"ngIf\",!t.notifications||t.notifications.length<=0),u.lc(1),u.Vc(\"enabled\",t.canLoadMore)(\"error\",t.loadMoreError),u.lc(2),u.Vc(\"ngIf\",t.notificationsLoaded&&t.canMarkAllNotificationsAsRead))},directives:[h.C,h.Ab,h.m,h.h,h.i,h.yb,P.a,b.a,h.v,h.bb,h.cb,A.a,v.s,v.t,M.a,N.a,h.I,h.O,O.a,x.a,L.a,h.W,h.D,C.a,k.a,h.t,h.qb],pipes:[w.d,y.a],styles:[\"ion-item[_ngcontent-%COMP%]{--icon-size:16px;--extra-icon-size:12px;--core-avatar-size:32px}ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{margin-top:8px;margin-bottom:8px}ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   p.item-heading[_ngcontent-%COMP%]{font-size:var(--text-size);-webkit-line-clamp:3;overflow:hidden;text-overflow:ellipsis;-webkit-box-orient:vertical;display:-webkit-box}ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}ion-item[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{margin:0;padding-left:8px;padding-right:0;padding-top:12px}@supports ((-webkit-margin-start:0) or (margin-inline-start:0)) or (-webkit-margin-start:0){ion-item[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{padding-left:unset;padding-right:unset;-webkit-padding-start:8px;padding-inline-start:8px;-webkit-padding-end:0;padding-inline-end:0}}ion-item[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:6px;vertical-align:middle}ion-item[_ngcontent-%COMP%]   [slot=start][_ngcontent-%COMP%]{align-self:start;margin-top:16px}ion-item[_ngcontent-%COMP%]   core-mod-icon.core-notification-icon[_ngcontent-%COMP%], ion-item[_ngcontent-%COMP%]   div.core-notification-icon[_ngcontent-%COMP%]{padding:8px;max-width:var(--core-avatar-size);max-height:var(--core-avatar-size)}.mark-all-as-read[_ngcontent-%COMP%]{padding-bottom:16px;bottom:0;left:0;right:0;display:flex;background:transparent;box-shadow:none;pointer-events:none}.mark-all-as-read[_ngcontent-%COMP%]   ion-chip.ion-color[_ngcontent-%COMP%]{pointer-events:all;margin:0 auto;box-shadow:0 2px 4px rgba(0,0,0,.4)}.mark-all-as-read[_ngcontent-%COMP%]   ion-chip.ion-color[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{width:16px;height:16px;margin-left:0;margin-right:8px}@supports ((-webkit-margin-start:0) or (margin-inline-start:0)) or (-webkit-margin-start:0){.mark-all-as-read[_ngcontent-%COMP%]   ion-chip.ion-color[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{margin-left:unset;margin-right:unset;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:8px;margin-inline-end:8px}}ion-content[_ngcontent-%COMP%]::part(scroll){padding-bottom:44px}\",\"[_nghost-%COMP%]{--extra-icon-size:16px;--icon-size:24px}[_nghost-%COMP%]     core-user-avatar .core-avatar-extra-img, [_nghost-%COMP%]     core-user-avatar core-mod-icon{margin:0!important;position:absolute;right:-4px;bottom:-4px;padding:.2rem}[_nghost-%COMP%]     core-user-avatar .core-avatar-extra-img{background:var(--background-color);border-radius:var(--medium-radius)}[_nghost-%COMP%]     core-user-avatar .core-avatar-extra-img img{max-width:var(--extra-icon-size);max-height:var(--extra-icon-size);display:block}[_nghost-%COMP%]     core-user-avatar core-mod-icon{--size:var(--extra-icon-size)}[_nghost-%COMP%]   div.core-notification-icon[_ngcontent-%COMP%]{padding:.7rem;background:var(--background-color);border-radius:var(--small-radius)}[_nghost-%COMP%]   div.core-notification-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:var(--icon-size);height:var(--icon-size)}[_nghost-%COMP%]   .core-notification-icon[_ngcontent-%COMP%]{--module-icon-size:var(--icon-size);margin:6px 8px 6px 0}@supports ((-webkit-margin-start:0) or (margin-inline-start:0)) or (-webkit-margin-start:0){[_nghost-%COMP%]   .core-notification-icon[_ngcontent-%COMP%]{margin-left:unset;margin-right:unset;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:8px;margin-inline-end:8px}}\"]}),AddonNotificationsListPage})();var T=n(\"dQ3M\");const V=[{path:\"\",component:E}];let z=(()=>{class AddonNotificationsListPageModule{}return AddonNotificationsListPageModule.ɵmod=u.wc({type:AddonNotificationsListPageModule}),AddonNotificationsListPageModule.ɵinj=u.vc({factory:function AddonNotificationsListPageModule_Factory(i){return new(i||AddonNotificationsListPageModule)},imports:[[o.m.forChild(V),e.a,T.a],o.m]}),AddonNotificationsListPageModule})();void((\"undefined\"==typeof ngJitMode||ngJitMode)&&u.kd(z,{declarations:[E],imports:[o.m,e.a,T.a],exports:[o.m]}))}}]);","name":"84.a9f33d85eb59eff94ac8.js","input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[84],{\n\n/***/ \"NNBU\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"AddonNotificationsListPageModule\", function() { return /* binding */ list_module_AddonNotificationsListPageModule; });\n\n// EXTERNAL MODULE: ./node_modules/@angular/router/__ivy_ngcc__/fesm2015/router.js + 14 modules\nvar router = __webpack_require__(\"tyNb\");\n\n// EXTERNAL MODULE: ./src/core/shared.module.ts + 3 modules\nvar shared_module = __webpack_require__(\"L3Fv\");\n\n// EXTERNAL MODULE: ./node_modules/tslib/tslib.es6.js\nvar tslib_es6 = __webpack_require__(\"mrSG\");\n\n// EXTERNAL MODULE: ./src/core/services/sites.ts\nvar sites = __webpack_require__(\"9+EE\");\n\n// EXTERNAL MODULE: ./src/core/services/utils/dom.ts + 2 modules\nvar dom = __webpack_require__(\"3LXp\");\n\n// EXTERNAL MODULE: ./src/core/services/utils/utils.ts\nvar utils = __webpack_require__(\"bFG1\");\n\n// EXTERNAL MODULE: ./src/core/singletons/events.ts\nvar events = __webpack_require__(\"fjkH\");\n\n// EXTERNAL MODULE: ./src/addons/notifications/services/notifications.ts\nvar services_notifications = __webpack_require__(\"yjU1\");\n\n// EXTERNAL MODULE: ./src/core/features/pushnotifications/services/push-delegate.ts\nvar push_delegate = __webpack_require__(\"2eZG\");\n\n// EXTERNAL MODULE: ./src/addons/notifications/services/notifications-helper.ts\nvar notifications_helper = __webpack_require__(\"ssuw\");\n\n// EXTERNAL MODULE: ./src/core/features/mainmenu/classes/deep-link-manager.ts\nvar deep_link_manager = __webpack_require__(\"YyYz\");\n\n// EXTERNAL MODULE: ./src/core/services/navigator.ts\nvar services_navigator = __webpack_require__(\"pHTc\");\n\n// EXTERNAL MODULE: ./src/core/services/utils/time.ts\nvar time = __webpack_require__(\"Q98t\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js + 4 modules\nvar core = __webpack_require__(\"fXoL\");\n\n// EXTERNAL MODULE: ./node_modules/@ionic/angular/__ivy_ngcc__/fesm2015/ionic-angular.js + 5 modules\nvar ionic_angular = __webpack_require__(\"TEn/\");\n\n// EXTERNAL MODULE: ./src/core/features/mainmenu/components/user-menu-button/user-menu-button.ts\nvar user_menu_button = __webpack_require__(\"C1x5\");\n\n// EXTERNAL MODULE: ./src/core/directives/content.ts\nvar content = __webpack_require__(\"nt/U\");\n\n// EXTERNAL MODULE: ./src/core/components/loading/loading.ts\nvar loading = __webpack_require__(\"PgjG\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/common/__ivy_ngcc__/fesm2015/common.js\nvar common = __webpack_require__(\"ofXK\");\n\n// EXTERNAL MODULE: ./src/core/components/infinite-loading/infinite-loading.ts\nvar infinite_loading = __webpack_require__(\"xpMl\");\n\n// EXTERNAL MODULE: ./src/core/directives/collapsible-footer.ts\nvar collapsible_footer = __webpack_require__(\"3jOR\");\n\n// EXTERNAL MODULE: ./src/core/directives/format-text.ts\nvar format_text = __webpack_require__(\"hMzs\");\n\n// EXTERNAL MODULE: ./src/core/components/user-avatar/user-avatar.ts\nvar user_avatar = __webpack_require__(\"FeAf\");\n\n// EXTERNAL MODULE: ./src/core/components/mod-icon/mod-icon.ts\nvar mod_icon = __webpack_require__(\"eAud\");\n\n// EXTERNAL MODULE: ./src/core/directives/fa-icon.ts\nvar fa_icon = __webpack_require__(\"3CSS\");\n\n// EXTERNAL MODULE: ./src/core/components/empty-box/empty-box.ts\nvar empty_box = __webpack_require__(\"r8G5\");\n\n// EXTERNAL MODULE: ./node_modules/@ngx-translate/core/__ivy_ngcc__/fesm2015/ngx-translate-core.js + 8 modules\nvar ngx_translate_core = __webpack_require__(\"sYmb\");\n\n// EXTERNAL MODULE: ./src/core/pipes/time-ago.ts\nvar time_ago = __webpack_require__(\"lAaw\");\n\n// CONCATENATED MODULE: ./src/addons/notifications/pages/list/list.ts\n\n// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction AddonNotificationsListPage_ion_item_16_core_user_avatar_2_div_1_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"div\", 21);\n        core[\"zc\" /* ɵɵelement */](1, \"img\", 22);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const notification_r3 = core[\"Oc\" /* ɵɵnextContext */](2).$implicit;\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"src\", notification_r3.iconurl, core[\"id\" /* ɵɵsanitizeUrl */]);\n    }\n}\nfunction AddonNotificationsListPage_ion_item_16_core_user_avatar_2_core_mod_icon_2_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"zc\" /* ɵɵelement */](0, \"core-mod-icon\", 23);\n    }\n    if (rf & 2) {\n        const notification_r3 = core[\"Oc\" /* ɵɵnextContext */](2).$implicit;\n        core[\"Vc\" /* ɵɵproperty */](\"modicon\", notification_r3.iconurl)(\"modname\", notification_r3.modname)(\"showAlt\", false);\n    }\n}\nfunction AddonNotificationsListPage_ion_item_16_core_user_avatar_2_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"core-user-avatar\", 18);\n        core[\"nd\" /* ɵɵtemplate */](1, AddonNotificationsListPage_ion_item_16_core_user_avatar_2_div_1_Template, 2, 1, \"div\", 19);\n        core[\"nd\" /* ɵɵtemplate */](2, AddonNotificationsListPage_ion_item_16_core_user_avatar_2_core_mod_icon_2_Template, 1, 3, \"core-mod-icon\", 20);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const notification_r3 = core[\"Oc\" /* ɵɵnextContext */]().$implicit;\n        core[\"Vc\" /* ɵɵproperty */](\"user\", notification_r3)(\"profileUrl\", notification_r3.profileimageurlfrom)(\"fullname\", notification_r3.userfromfullname)(\"userId\", notification_r3.useridfrom);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", notification_r3.iconurl && !notification_r3.modname);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", notification_r3.modname);\n    }\n}\nfunction AddonNotificationsListPage_ion_item_16_ng_container_3_div_1_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"div\", 26);\n        core[\"zc\" /* ɵɵelement */](1, \"img\", 22);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const notification_r3 = core[\"Oc\" /* ɵɵnextContext */](2).$implicit;\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"src\", notification_r3.iconurl, core[\"id\" /* ɵɵsanitizeUrl */]);\n    }\n}\nfunction AddonNotificationsListPage_ion_item_16_ng_container_3_core_mod_icon_2_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"zc\" /* ɵɵelement */](0, \"core-mod-icon\", 27);\n    }\n    if (rf & 2) {\n        const notification_r3 = core[\"Oc\" /* ɵɵnextContext */](2).$implicit;\n        core[\"Vc\" /* ɵɵproperty */](\"modicon\", notification_r3.iconurl)(\"modname\", notification_r3.modname)(\"showAlt\", false);\n    }\n}\nfunction AddonNotificationsListPage_ion_item_16_ng_container_3_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Cc\" /* ɵɵelementContainerStart */](0);\n        core[\"nd\" /* ɵɵtemplate */](1, AddonNotificationsListPage_ion_item_16_ng_container_3_div_1_Template, 2, 1, \"div\", 24);\n        core[\"nd\" /* ɵɵtemplate */](2, AddonNotificationsListPage_ion_item_16_ng_container_3_core_mod_icon_2_Template, 1, 3, \"core-mod-icon\", 25);\n        core[\"Bc\" /* ɵɵelementContainerEnd */]();\n    }\n    if (rf & 2) {\n        const notification_r3 = core[\"Oc\" /* ɵɵnextContext */]().$implicit;\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", !notification_r3.modname);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", notification_r3.modname);\n    }\n}\nfunction AddonNotificationsListPage_ion_item_16_ng_container_10_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Cc\" /* ɵɵelementContainerStart */](0);\n        core[\"pd\" /* ɵɵtext */](1);\n        core[\"Bc\" /* ɵɵelementContainerEnd */]();\n    }\n    if (rf & 2) {\n        const notification_r3 = core[\"Oc\" /* ɵɵnextContext */]().$implicit;\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"rd\" /* ɵɵtextInterpolate1 */](\" \\u00B7 \", notification_r3.userfromfullname, \"\");\n    }\n}\nfunction AddonNotificationsListPage_ion_item_16_ion_note_11_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-note\", 2);\n        core[\"zc\" /* ɵɵelement */](1, \"ion-icon\", 28);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n}\nconst _c0 = function (a0) { return { $a: a0 }; };\nfunction AddonNotificationsListPage_ion_item_16_Template(rf, ctx) {\n    if (rf & 1) {\n        const _r20 = core[\"Fc\" /* ɵɵgetCurrentView */]();\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-item\", 12);\n        core[\"Mc\" /* ɵɵlistener */](\"click\", function AddonNotificationsListPage_ion_item_16_Template_ion_item_click_0_listener() { core[\"fd\" /* ɵɵrestoreView */](_r20); const notification_r3 = ctx.$implicit; const ctx_r19 = core[\"Oc\" /* ɵɵnextContext */](); return ctx_r19.openNotification(notification_r3); });\n        core[\"Pc\" /* ɵɵpipe */](1, \"translate\");\n        core[\"nd\" /* ɵɵtemplate */](2, AddonNotificationsListPage_ion_item_16_core_user_avatar_2_Template, 3, 6, \"core-user-avatar\", 13);\n        core[\"nd\" /* ɵɵtemplate */](3, AddonNotificationsListPage_ion_item_16_ng_container_3_Template, 3, 2, \"ng-container\", 14);\n        core[\"Ec\" /* ɵɵelementStart */](4, \"ion-label\");\n        core[\"Ec\" /* ɵɵelementStart */](5, \"p\", 15);\n        core[\"zc\" /* ɵɵelement */](6, \"core-format-text\", 16);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Ec\" /* ɵɵelementStart */](7, \"p\");\n        core[\"pd\" /* ɵɵtext */](8);\n        core[\"Pc\" /* ɵɵpipe */](9, \"coreTimeAgo\");\n        core[\"nd\" /* ɵɵtemplate */](10, AddonNotificationsListPage_ion_item_16_ng_container_10_Template, 2, 1, \"ng-container\", 14);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"nd\" /* ɵɵtemplate */](11, AddonNotificationsListPage_ion_item_16_ion_note_11_Template, 2, 0, \"ion-note\", 17);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const notification_r3 = ctx.$implicit;\n        core[\"Vc\" /* ɵɵproperty */](\"detail\", false);\n        core[\"mc\" /* ɵɵattribute */](\"aria-label\", notification_r3.timeread ? notification_r3.subject : core[\"Rc\" /* ɵɵpipeBind2 */](1, 10, \"addon.notifications.unreadnotification\", core[\"ad\" /* ɵɵpureFunction1 */](15, _c0, notification_r3.subject)));\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", notification_r3.useridfrom > 0);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", notification_r3.useridfrom <= 0 && notification_r3.iconurl);\n        core[\"lc\" /* ɵɵadvance */](3);\n        core[\"Vc\" /* ɵɵproperty */](\"text\", notification_r3.subject)(\"contextInstanceId\", 0)(\"wsNotFiltered\", true);\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"qd\" /* ɵɵtextInterpolate */](core[\"Qc\" /* ɵɵpipeBind1 */](9, 13, notification_r3.timecreated));\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", notification_r3.useridfrom > 0);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", !notification_r3.timeread);\n    }\n}\nfunction AddonNotificationsListPage_core_empty_box_17_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"zc\" /* ɵɵelement */](0, \"core-empty-box\", 29);\n        core[\"Pc\" /* ɵɵpipe */](1, \"translate\");\n    }\n    if (rf & 2) {\n        core[\"Vc\" /* ɵɵproperty */](\"message\", core[\"Qc\" /* ɵɵpipeBind1 */](1, 1, \"addon.notifications.therearentnotificationsyet\"));\n    }\n}\nfunction AddonNotificationsListPage_ion_chip_20_ion_icon_1_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"zc\" /* ɵɵelement */](0, \"ion-icon\", 32);\n    }\n}\nfunction AddonNotificationsListPage_ion_chip_20_ion_spinner_2_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"zc\" /* ɵɵelement */](0, \"ion-spinner\");\n        core[\"Pc\" /* ɵɵpipe */](1, \"translate\");\n    }\n    if (rf & 2) {\n        core[\"mc\" /* ɵɵattribute */](\"aria-label\", core[\"Qc\" /* ɵɵpipeBind1 */](1, 1, \"core.loading\"));\n    }\n}\nfunction AddonNotificationsListPage_ion_chip_20_Template(rf, ctx) {\n    if (rf & 1) {\n        const _r24 = core[\"Fc\" /* ɵɵgetCurrentView */]();\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-chip\", 30);\n        core[\"Mc\" /* ɵɵlistener */](\"click\", function AddonNotificationsListPage_ion_chip_20_Template_ion_chip_click_0_listener() { core[\"fd\" /* ɵɵrestoreView */](_r24); const ctx_r23 = core[\"Oc\" /* ɵɵnextContext */](); return ctx_r23.markAllNotificationsAsRead(); });\n        core[\"nd\" /* ɵɵtemplate */](1, AddonNotificationsListPage_ion_chip_20_ion_icon_1_Template, 1, 0, \"ion-icon\", 31);\n        core[\"nd\" /* ɵɵtemplate */](2, AddonNotificationsListPage_ion_chip_20_ion_spinner_2_Template, 2, 3, \"ion-spinner\", 14);\n        core[\"pd\" /* ɵɵtext */](3);\n        core[\"Pc\" /* ɵɵpipe */](4, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r2 = core[\"Oc\" /* ɵɵnextContext */]();\n        core[\"Vc\" /* ɵɵproperty */](\"disabled\", ctx_r2.loadingMarkAllNotificationsAsRead);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", !ctx_r2.loadingMarkAllNotificationsAsRead);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx_r2.loadingMarkAllNotificationsAsRead);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"rd\" /* ɵɵtextInterpolate1 */](\" \", core[\"Qc\" /* ɵɵpipeBind1 */](4, 4, \"addon.notifications.markallread\"), \" \");\n    }\n}\n/**\n * Page that displays the list of notifications.\n */\nlet list_AddonNotificationsListPage = /*@__PURE__*/ (() => {\n    class AddonNotificationsListPage {\n        constructor() {\n            this.notifications = [];\n            this.notificationsLoaded = false;\n            this.canLoadMore = false;\n            this.loadMoreError = false;\n            this.canMarkAllNotificationsAsRead = false;\n            this.loadingMarkAllNotificationsAsRead = false;\n            this.pendingRefresh = false;\n        }\n        /**\n         * @inheritdoc\n         */\n        ngOnInit() {\n            this.fetchNotifications();\n            this.cronObserver = events[\"b\" /* CoreEvents */].on(services_notifications[\"b\" /* AddonNotificationsProvider */].READ_CRON_EVENT, () => {\n                if (!this.isCurrentView) {\n                    return;\n                }\n                this.notificationsLoaded = false;\n                this.refreshNotifications();\n            }, sites[\"b\" /* CoreSites */].getCurrentSiteId());\n            this.pushObserver = push_delegate[\"a\" /* CorePushNotificationsDelegate */].on('receive').subscribe((notification) => {\n                // New notification received. If it's from current site, refresh the data.\n                if (!this.isCurrentView) {\n                    this.pendingRefresh = true;\n                    return;\n                }\n                if (!utils[\"a\" /* CoreUtils */].isTrueOrOne(notification.notif) || !sites[\"b\" /* CoreSites */].isCurrentSite(notification.site)) {\n                    return;\n                }\n                this.notificationsLoaded = false;\n                this.refreshNotifications();\n            });\n            this.readObserver = events[\"b\" /* CoreEvents */].on(services_notifications[\"b\" /* AddonNotificationsProvider */].READ_CHANGED_EVENT, (data) => {\n                if (!data.id) {\n                    return;\n                }\n                const notification = this.notifications.find((notification) => notification.id === data.id);\n                if (!notification) {\n                    return;\n                }\n                notification.read = true;\n                notification.timeread = data.time;\n                this.loadMarkAllAsReadButton();\n            });\n            const deepLinkManager = new deep_link_manager[\"a\" /* CoreMainMenuDeepLinkManager */]();\n            deepLinkManager.treatLink();\n        }\n        /**\n         * Convenience function to get notifications. Gets unread notifications first.\n         *\n         * @param refresh Whether we're refreshing data.\n         * @return Resolved when done.\n         */\n        fetchNotifications(refresh) {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                this.loadMoreError = false;\n                try {\n                    const result = yield services_notifications[\"a\" /* AddonNotifications */].getNotifications(refresh ? [] : this.notifications);\n                    const notifications = result.notifications\n                        .map((notification) => notifications_helper[\"a\" /* AddonNotificationsHelper */].formatNotificationText(notification));\n                    if (refresh) {\n                        this.notifications = notifications;\n                    }\n                    else {\n                        this.notifications = this.notifications.concat(notifications);\n                    }\n                    this.canLoadMore = result.canLoadMore;\n                    yield this.loadMarkAllAsReadButton();\n                }\n                catch (error) {\n                    dom[\"a\" /* CoreDomUtils */].showErrorModalDefault(error, 'addon.notifications.errorgetnotifications', true);\n                    this.loadMoreError = true; // Set to prevent infinite calls with infinite-loading.\n                }\n                finally {\n                    this.notificationsLoaded = true;\n                }\n            });\n        }\n        /**\n         * Mark all notifications as read.\n         *\n         * @return Promise resolved when done.\n         */\n        markAllNotificationsAsRead() {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                this.loadingMarkAllNotificationsAsRead = true;\n                yield utils[\"a\" /* CoreUtils */].ignoreErrors(services_notifications[\"a\" /* AddonNotifications */].markAllNotificationsAsRead());\n                events[\"b\" /* CoreEvents */].trigger(services_notifications[\"b\" /* AddonNotificationsProvider */].READ_CHANGED_EVENT, {\n                    time: time[\"a\" /* CoreTimeUtils */].timestamp(),\n                }, sites[\"b\" /* CoreSites */].getCurrentSiteId());\n                // All marked as read, refresh the list.\n                this.notificationsLoaded = false;\n                yield this.refreshNotifications();\n            });\n        }\n        /**\n         * Load mark all notifications as read button.\n         *\n         * @return Promise resolved when done.\n         */\n        loadMarkAllAsReadButton() {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                // Check if mark all as read should be displayed (there are unread notifications).\n                try {\n                    this.loadingMarkAllNotificationsAsRead = true;\n                    const unreadCountData = yield services_notifications[\"a\" /* AddonNotifications */].getUnreadNotificationsCount();\n                    this.canMarkAllNotificationsAsRead = unreadCountData.count > 0;\n                }\n                finally {\n                    this.loadingMarkAllNotificationsAsRead = false;\n                }\n            });\n        }\n        /**\n         * Refresh notifications.\n         *\n         * @param refresher Refresher.\n         * @return Promise<any> Promise resolved when done.\n         */\n        refreshNotifications(refresher) {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                yield utils[\"a\" /* CoreUtils */].ignoreErrors(services_notifications[\"a\" /* AddonNotifications */].invalidateNotificationsList());\n                try {\n                    yield this.fetchNotifications(true);\n                }\n                finally {\n                    refresher === null || refresher === void 0 ? void 0 : refresher.complete();\n                }\n            });\n        }\n        /**\n         * Load more results.\n         *\n         * @param infiniteComplete Infinite scroll complete function. Only used from core-infinite-loading.\n         */\n        loadMoreNotifications(infiniteComplete) {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                try {\n                    yield this.fetchNotifications();\n                }\n                finally {\n                    infiniteComplete === null || infiniteComplete === void 0 ? void 0 : infiniteComplete();\n                }\n            });\n        }\n        /**\n         * Open Notification page.\n         *\n         * @param notification Notification to open.\n         */\n        openNotification(notification) {\n            services_navigator[\"a\" /* CoreNavigator */].navigate('../notification', { params: { notification } });\n        }\n        /**\n         * User entered the page.\n         */\n        ionViewDidEnter() {\n            this.isCurrentView = true;\n            if (!this.pendingRefresh) {\n                return;\n            }\n            this.pendingRefresh = false;\n            this.notificationsLoaded = false;\n            this.refreshNotifications();\n        }\n        /**\n         * User left the page.\n         */\n        ionViewDidLeave() {\n            this.isCurrentView = false;\n        }\n        /**\n         * @inheritdoc\n         */\n        ngOnDestroy() {\n            var _a, _b, _c;\n            (_a = this.cronObserver) === null || _a === void 0 ? void 0 : _a.off();\n            (_b = this.readObserver) === null || _b === void 0 ? void 0 : _b.off();\n            (_c = this.pushObserver) === null || _c === void 0 ? void 0 : _c.unsubscribe();\n        }\n    }\n    AddonNotificationsListPage.ɵfac = function AddonNotificationsListPage_Factory(t) { return new (t || AddonNotificationsListPage)(); };\n    AddonNotificationsListPage.ɵcmp = core[\"sc\" /* ɵɵdefineComponent */]({ type: AddonNotificationsListPage, selectors: [[\"page-addon-notifications-list\"]], decls: 21, vars: 16, consts: [[\"slot\", \"start\"], [3, \"text\"], [\"slot\", \"end\"], [1, \"limited-width\"], [\"slot\", \"fixed\", 3, \"disabled\", \"ionRefresh\"], [3, \"pullingText\"], [3, \"hideUntil\"], [\"class\", \"ion-text-wrap\", \"button\", \"\", \"lines\", \"full\", 3, \"detail\", \"click\", 4, \"ngFor\", \"ngForOf\"], [\"icon\", \"far-bell\", 3, \"message\", 4, \"ngIf\"], [3, \"enabled\", \"error\", \"action\"], [\"slot\", \"fixed\", \"collapsible-footer\", \"\", \"appearOnBottom\", \"\", 1, \"mark-all-as-read\"], [\"color\", \"primary\", 3, \"disabled\", \"click\", 4, \"ngIf\"], [\"button\", \"\", \"lines\", \"full\", 1, \"ion-text-wrap\", 3, \"detail\", \"click\"], [\"slot\", \"start\", 3, \"user\", \"profileUrl\", \"fullname\", \"userId\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"item-heading\"], [\"contextLevel\", \"system\", 3, \"text\", \"contextInstanceId\", \"wsNotFiltered\"], [\"slot\", \"end\", 4, \"ngIf\"], [\"slot\", \"start\", 3, \"user\", \"profileUrl\", \"fullname\", \"userId\"], [\"class\", \"core-avatar-extra-img\", 4, \"ngIf\"], [3, \"modicon\", \"modname\", \"showAlt\", 4, \"ngIf\"], [1, \"core-avatar-extra-img\"], [\"alt\", \"\", \"role\", \"presentation\", 3, \"src\"], [3, \"modicon\", \"modname\", \"showAlt\"], [\"class\", \"core-notification-icon\", \"slot\", \"start\", 4, \"ngIf\"], [\"class\", \"core-notification-icon\", \"slot\", \"start\", 3, \"modicon\", \"modname\", \"showAlt\", 4, \"ngIf\"], [\"slot\", \"start\", 1, \"core-notification-icon\"], [\"slot\", \"start\", 1, \"core-notification-icon\", 3, \"modicon\", \"modname\", \"showAlt\"], [\"name\", \"fas-circle\", \"color\", \"primary\", \"aria-hidden\", \"true\"], [\"icon\", \"far-bell\", 3, \"message\"], [\"color\", \"primary\", 3, \"disabled\", \"click\"], [\"name\", \"fas-eye\", \"aria-hidden\", \"true\", 4, \"ngIf\"], [\"name\", \"fas-eye\", \"aria-hidden\", \"true\"]], template: function AddonNotificationsListPage_Template(rf, ctx) {\n            if (rf & 1) {\n                core[\"Ec\" /* ɵɵelementStart */](0, \"ion-header\");\n                core[\"Ec\" /* ɵɵelementStart */](1, \"ion-toolbar\");\n                core[\"Ec\" /* ɵɵelementStart */](2, \"ion-buttons\", 0);\n                core[\"zc\" /* ɵɵelement */](3, \"ion-back-button\", 1);\n                core[\"Pc\" /* ɵɵpipe */](4, \"translate\");\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Ec\" /* ɵɵelementStart */](5, \"ion-title\");\n                core[\"Ec\" /* ɵɵelementStart */](6, \"h1\");\n                core[\"pd\" /* ɵɵtext */](7);\n                core[\"Pc\" /* ɵɵpipe */](8, \"translate\");\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Ec\" /* ɵɵelementStart */](9, \"ion-buttons\", 2);\n                core[\"zc\" /* ɵɵelement */](10, \"core-user-menu-button\");\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Ec\" /* ɵɵelementStart */](11, \"ion-content\", 3);\n                core[\"Ec\" /* ɵɵelementStart */](12, \"ion-refresher\", 4);\n                core[\"Mc\" /* ɵɵlistener */](\"ionRefresh\", function AddonNotificationsListPage_Template_ion_refresher_ionRefresh_12_listener($event) { return ctx.refreshNotifications($event.target); });\n                core[\"zc\" /* ɵɵelement */](13, \"ion-refresher-content\", 5);\n                core[\"Pc\" /* ɵɵpipe */](14, \"translate\");\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Ec\" /* ɵɵelementStart */](15, \"core-loading\", 6);\n                core[\"nd\" /* ɵɵtemplate */](16, AddonNotificationsListPage_ion_item_16_Template, 12, 17, \"ion-item\", 7);\n                core[\"nd\" /* ɵɵtemplate */](17, AddonNotificationsListPage_core_empty_box_17_Template, 2, 3, \"core-empty-box\", 8);\n                core[\"Ec\" /* ɵɵelementStart */](18, \"core-infinite-loading\", 9);\n                core[\"Mc\" /* ɵɵlistener */](\"action\", function AddonNotificationsListPage_Template_core_infinite_loading_action_18_listener($event) { return ctx.loadMoreNotifications($event); });\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Ec\" /* ɵɵelementStart */](19, \"div\", 10);\n                core[\"nd\" /* ɵɵtemplate */](20, AddonNotificationsListPage_ion_chip_20_Template, 5, 6, \"ion-chip\", 11);\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n            }\n            if (rf & 2) {\n                core[\"lc\" /* ɵɵadvance */](3);\n                core[\"Vc\" /* ɵɵproperty */](\"text\", core[\"Qc\" /* ɵɵpipeBind1 */](4, 10, \"core.back\"));\n                core[\"lc\" /* ɵɵadvance */](4);\n                core[\"qd\" /* ɵɵtextInterpolate */](core[\"Qc\" /* ɵɵpipeBind1 */](8, 12, \"addon.notifications.notifications\"));\n                core[\"lc\" /* ɵɵadvance */](5);\n                core[\"Vc\" /* ɵɵproperty */](\"disabled\", !ctx.notificationsLoaded);\n                core[\"lc\" /* ɵɵadvance */](1);\n                core[\"Wc\" /* ɵɵpropertyInterpolate */](\"pullingText\", core[\"Qc\" /* ɵɵpipeBind1 */](14, 14, \"core.pulltorefresh\"));\n                core[\"lc\" /* ɵɵadvance */](2);\n                core[\"Vc\" /* ɵɵproperty */](\"hideUntil\", ctx.notificationsLoaded);\n                core[\"lc\" /* ɵɵadvance */](1);\n                core[\"Vc\" /* ɵɵproperty */](\"ngForOf\", ctx.notifications);\n                core[\"lc\" /* ɵɵadvance */](1);\n                core[\"Vc\" /* ɵɵproperty */](\"ngIf\", !ctx.notifications || ctx.notifications.length <= 0);\n                core[\"lc\" /* ɵɵadvance */](1);\n                core[\"Vc\" /* ɵɵproperty */](\"enabled\", ctx.canLoadMore)(\"error\", ctx.loadMoreError);\n                core[\"lc\" /* ɵɵadvance */](2);\n                core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx.notificationsLoaded && ctx.canMarkAllNotificationsAsRead);\n            }\n        }, directives: [ionic_angular[\"C\" /* IonHeader */], ionic_angular[\"Ab\" /* IonToolbar */], ionic_angular[\"m\" /* IonButtons */], ionic_angular[\"h\" /* IonBackButton */], ionic_angular[\"i\" /* IonBackButtonDelegate */], ionic_angular[\"yb\" /* IonTitle */], user_menu_button[\"a\" /* CoreMainMenuUserButtonComponent */], content[\"a\" /* CoreContentDirective */], ionic_angular[\"v\" /* IonContent */], ionic_angular[\"bb\" /* IonRefresher */], ionic_angular[\"cb\" /* IonRefresherContent */], loading[\"a\" /* CoreLoadingComponent */], common[\"s\" /* NgForOf */], common[\"t\" /* NgIf */], infinite_loading[\"a\" /* CoreInfiniteLoadingComponent */], collapsible_footer[\"a\" /* CoreCollapsibleFooterDirective */], ionic_angular[\"I\" /* IonItem */], ionic_angular[\"O\" /* IonLabel */], format_text[\"a\" /* CoreFormatTextDirective */], user_avatar[\"a\" /* CoreUserAvatarComponent */], mod_icon[\"a\" /* CoreModIconComponent */], ionic_angular[\"W\" /* IonNote */], ionic_angular[\"D\" /* IonIcon */], fa_icon[\"a\" /* CoreFaIconDirective */], empty_box[\"a\" /* CoreEmptyBoxComponent */], ionic_angular[\"t\" /* IonChip */], ionic_angular[\"qb\" /* IonSpinner */]], pipes: [ngx_translate_core[\"d\" /* TranslatePipe */], time_ago[\"a\" /* CoreTimeAgoPipe */]], styles: [\"ion-item[_ngcontent-%COMP%]{--icon-size:16px;--extra-icon-size:12px;--core-avatar-size:32px}ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{margin-top:8px;margin-bottom:8px}ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   p.item-heading[_ngcontent-%COMP%]{font-size:var(--text-size);-webkit-line-clamp:3;overflow:hidden;text-overflow:ellipsis;-webkit-box-orient:vertical;display:-webkit-box}ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}ion-item[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{margin:0;padding-left:8px;padding-right:0;padding-top:12px}@supports ((-webkit-margin-start:0) or (margin-inline-start:0)) or (-webkit-margin-start:0){ion-item[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{padding-left:unset;padding-right:unset;-webkit-padding-start:8px;padding-inline-start:8px;-webkit-padding-end:0;padding-inline-end:0}}ion-item[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:6px;vertical-align:middle}ion-item[_ngcontent-%COMP%]   [slot=start][_ngcontent-%COMP%]{align-self:start;margin-top:16px}ion-item[_ngcontent-%COMP%]   core-mod-icon.core-notification-icon[_ngcontent-%COMP%], ion-item[_ngcontent-%COMP%]   div.core-notification-icon[_ngcontent-%COMP%]{padding:8px;max-width:var(--core-avatar-size);max-height:var(--core-avatar-size)}.mark-all-as-read[_ngcontent-%COMP%]{padding-bottom:16px;bottom:0;left:0;right:0;display:flex;background:transparent;box-shadow:none;pointer-events:none}.mark-all-as-read[_ngcontent-%COMP%]   ion-chip.ion-color[_ngcontent-%COMP%]{pointer-events:all;margin:0 auto;box-shadow:0 2px 4px rgba(0,0,0,.4)}.mark-all-as-read[_ngcontent-%COMP%]   ion-chip.ion-color[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{width:16px;height:16px;margin-left:0;margin-right:8px}@supports ((-webkit-margin-start:0) or (margin-inline-start:0)) or (-webkit-margin-start:0){.mark-all-as-read[_ngcontent-%COMP%]   ion-chip.ion-color[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{margin-left:unset;margin-right:unset;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:8px;margin-inline-end:8px}}ion-content[_ngcontent-%COMP%]::part(scroll){padding-bottom:44px}\", \"[_nghost-%COMP%]{--extra-icon-size:16px;--icon-size:24px}[_nghost-%COMP%]     core-user-avatar .core-avatar-extra-img, [_nghost-%COMP%]     core-user-avatar core-mod-icon{margin:0!important;position:absolute;right:-4px;bottom:-4px;padding:.2rem}[_nghost-%COMP%]     core-user-avatar .core-avatar-extra-img{background:var(--background-color);border-radius:var(--medium-radius)}[_nghost-%COMP%]     core-user-avatar .core-avatar-extra-img img{max-width:var(--extra-icon-size);max-height:var(--extra-icon-size);display:block}[_nghost-%COMP%]     core-user-avatar core-mod-icon{--size:var(--extra-icon-size)}[_nghost-%COMP%]   div.core-notification-icon[_ngcontent-%COMP%]{padding:.7rem;background:var(--background-color);border-radius:var(--small-radius)}[_nghost-%COMP%]   div.core-notification-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:var(--icon-size);height:var(--icon-size)}[_nghost-%COMP%]   .core-notification-icon[_ngcontent-%COMP%]{--module-icon-size:var(--icon-size);margin:6px 8px 6px 0}@supports ((-webkit-margin-start:0) or (margin-inline-start:0)) or (-webkit-margin-start:0){[_nghost-%COMP%]   .core-notification-icon[_ngcontent-%COMP%]{margin-left:unset;margin-right:unset;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:8px;margin-inline-end:8px}}\"] });\n    return AddonNotificationsListPage;\n})();\n\n// EXTERNAL MODULE: ./src/core/features/mainmenu/components/components.module.ts\nvar components_module = __webpack_require__(\"dQ3M\");\n\n// CONCATENATED MODULE: ./src/addons/notifications/pages/list/list.module.ts\n// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n\n\n\n\n\nconst routes = [\n    {\n        path: '',\n        component: list_AddonNotificationsListPage,\n    },\n];\nlet list_module_AddonNotificationsListPageModule = /*@__PURE__*/ (() => {\n    class AddonNotificationsListPageModule {\n    }\n    AddonNotificationsListPageModule.ɵmod = core[\"wc\" /* ɵɵdefineNgModule */]({ type: AddonNotificationsListPageModule });\n    AddonNotificationsListPageModule.ɵinj = core[\"vc\" /* ɵɵdefineInjector */]({ factory: function AddonNotificationsListPageModule_Factory(t) { return new (t || AddonNotificationsListPageModule)(); }, imports: [[\n                router[\"m\" /* RouterModule */].forChild(routes),\n                shared_module[\"a\" /* CoreSharedModule */],\n                components_module[\"a\" /* CoreMainMenuComponentsModule */],\n            ], router[\"m\" /* RouterModule */]] });\n    return AddonNotificationsListPageModule;\n})();\n(function () {\n    (typeof ngJitMode === \"undefined\" || ngJitMode) && core[\"kd\" /* ɵɵsetNgModuleScope */](list_module_AddonNotificationsListPageModule, { declarations: [list_AddonNotificationsListPage], imports: [router[\"m\" /* RouterModule */], shared_module[\"a\" /* CoreSharedModule */],\n            components_module[\"a\" /* CoreMainMenuComponentsModule */]], exports: [router[\"m\" /* RouterModule */]] });\n})();\n\n\n/***/ })\n\n}]);","inputSourceMap":null}