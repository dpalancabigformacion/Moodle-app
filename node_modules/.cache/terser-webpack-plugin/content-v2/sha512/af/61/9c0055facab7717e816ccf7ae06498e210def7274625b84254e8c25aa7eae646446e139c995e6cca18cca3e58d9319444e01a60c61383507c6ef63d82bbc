{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{B1At:function(e,o,n){\"use strict\";n.r(o),n.d(o,\"AddonModFeedbackNonRespondentsPageModule\",(function(){return R}));var t=n(\"L3Fv\"),d=n(\"tyNb\"),a=n(\"mrSG\"),c=n(\"mWdr\"),s=n(\"pHTc\"),i=n(\"3LXp\"),r=n(\"bFG1\"),l=n(\"MNPK\"),p=n(\"96hm\"),_=n(\"fXoL\"),g=n(\"TEn/\"),u=n(\"nt/U\"),b=n(\"PgjG\"),f=n(\"ofXK\"),h=n(\"xpMl\"),m=n(\"3Pt+\"),M=n(\"FeAf\"),k=n(\"sYmb\");function AddonModFeedbackNonRespondentsPage_ion_item_15_ng_container_2_Template(e,o){1&e&&(_.Cc(0),_.pd(1),_.Pc(2,\"translate\"),_.Bc()),2&e&&(_.lc(1),_.qd(_.Qc(2,1,\"core.groupsseparate\")))}function AddonModFeedbackNonRespondentsPage_ion_item_15_ng_container_3_Template(e,o){1&e&&(_.Cc(0),_.pd(1),_.Pc(2,\"translate\"),_.Bc()),2&e&&(_.lc(1),_.qd(_.Qc(2,1,\"core.groupsvisible\")))}function AddonModFeedbackNonRespondentsPage_ion_item_15_ion_select_option_6_Template(e,o){if(1&e&&(_.Ec(0,\"ion-select-option\",13),_.pd(1),_.Dc()),2&e){const e=o.$implicit;_.Vc(\"value\",e.id),_.lc(1),_.rd(\" \",e.name,\" \")}}const _c0=function(e){return{header:e}};function AddonModFeedbackNonRespondentsPage_ion_item_15_Template(e,o){if(1&e){const e=_.Fc();_.Ec(0,\"ion-item\",9),_.Ec(1,\"ion-label\",10),_.nd(2,AddonModFeedbackNonRespondentsPage_ion_item_15_ng_container_2_Template,3,3,\"ng-container\",7),_.nd(3,AddonModFeedbackNonRespondentsPage_ion_item_15_ng_container_3_Template,3,3,\"ng-container\",7),_.Dc(),_.Ec(4,\"ion-select\",11),_.Mc(\"ngModelChange\",(function AddonModFeedbackNonRespondentsPage_ion_item_15_Template_ion_select_ngModelChange_4_listener(o){_.fd(e);return _.Oc().selectedGroup=o}))(\"ionChange\",(function AddonModFeedbackNonRespondentsPage_ion_item_15_Template_ion_select_ionChange_4_listener(){_.fd(e);const o=_.Oc();return o.loadAttempts(o.selectedGroup)})),_.Pc(5,\"translate\"),_.nd(6,AddonModFeedbackNonRespondentsPage_ion_item_15_ion_select_option_6_Template,2,2,\"ion-select-option\",12),_.Dc(),_.Dc()}if(2&e){const e=_.Oc();_.lc(2),_.Vc(\"ngIf\",e.groupInfo.separateGroups),_.lc(1),_.Vc(\"ngIf\",e.groupInfo.visibleGroups),_.lc(1),_.Vc(\"ngModel\",e.selectedGroup)(\"interfaceOptions\",_.ad(7,_c0,_.Qc(5,5,\"core.group\"))),_.lc(2),_.Vc(\"ngForOf\",e.groupInfo.groups)}}function AddonModFeedbackNonRespondentsPage_ng_container_21_ion_item_1_ion_badge_6_Template(e,o){1&e&&(_.Ec(0,\"ion-badge\",20),_.pd(1),_.Pc(2,\"translate\"),_.Dc()),2&e&&(_.lc(1),_.rd(\" \",_.Qc(2,1,\"addon.mod_feedback.started\"),\" \"))}function AddonModFeedbackNonRespondentsPage_ng_container_21_ion_item_1_ion_badge_7_Template(e,o){1&e&&(_.Ec(0,\"ion-badge\",21),_.pd(1),_.Pc(2,\"translate\"),_.Dc()),2&e&&(_.lc(1),_.rd(\" \",_.Qc(2,1,\"addon.mod_feedback.not_started\"),\" \"))}function AddonModFeedbackNonRespondentsPage_ng_container_21_ion_item_1_Template(e,o){if(1&e&&(_.Ec(0,\"ion-item\",15),_.zc(1,\"core-user-avatar\",16),_.Ec(2,\"ion-label\"),_.Ec(3,\"p\",17),_.pd(4),_.Dc(),_.Ec(5,\"p\"),_.nd(6,AddonModFeedbackNonRespondentsPage_ng_container_21_ion_item_1_ion_badge_6_Template,3,3,\"ion-badge\",18),_.nd(7,AddonModFeedbackNonRespondentsPage_ng_container_21_ion_item_1_ion_badge_7_Template,3,3,\"ion-badge\",19),_.Dc(),_.Dc(),_.Dc()),2&e){const e=o.$implicit;_.lc(1),_.Vc(\"user\",e),_.lc(3),_.qd(e.fullname),_.lc(2),_.Vc(\"ngIf\",e.started),_.lc(1),_.Vc(\"ngIf\",!e.started)}}function AddonModFeedbackNonRespondentsPage_ng_container_21_Template(e,o){if(1&e&&(_.Cc(0),_.nd(1,AddonModFeedbackNonRespondentsPage_ng_container_21_ion_item_1_Template,8,4,\"ion-item\",14),_.Bc()),2&e){const e=_.Oc();_.lc(1),_.Vc(\"ngForOf\",e.users)}}const _c1=function(e){return{$a:e}};let P=(()=>{class AddonModFeedbackNonRespondentsPage{constructor(){this.page=0,this.users=[],this.total=0,this.canLoadMore=!1,this.loaded=!1,this.loadMoreError=!1}ngOnInit(){try{this.cmId=s.a.getRequiredRouteNumberParam(\"cmId\"),this.courseId=s.a.getRequiredRouteNumberParam(\"courseId\"),this.selectedGroup=s.a.getRouteNumberParam(\"group\")||0}catch(e){return i.a.showErrorModal(e),s.a.back(),void 0}this.fetchData()}fetchData(e=!1){return Object(a.a)(this,void 0,void 0,(function*(){this.page=0,this.total=0,this.users=[];try{this.feedback=yield l.a.getFeedback(this.courseId,this.cmId),this.groupInfo=yield c.a.getActivityGroupInfo(this.cmId),this.selectedGroup=c.a.validateGroupId(this.selectedGroup,this.groupInfo),yield this.loadGroupUsers(this.selectedGroup)}catch(o){i.a.showErrorModalDefault(o,\"core.course.errorgetmodule\",!0),e||s.a.back()}}))}loadGroupUsers(e){return Object(a.a)(this,void 0,void 0,(function*(){this.loadMoreError=!1,void 0===e?this.page++:(this.selectedGroup=e,this.page=0,this.total=0,this.users=[],this.loaded=!1);try{const e=yield p.a.getNonRespondents(this.feedback.id,{groupId:this.selectedGroup,page:this.page,cmId:this.cmId});this.total=e.total,this.users.length<e.total&&(this.users=this.users.concat(e.users)),this.canLoadMore=this.users.length<e.total}catch(e){throw this.loadMoreError=!0,e}finally{this.loaded=!0}}))}loadAttempts(e,o){return Object(a.a)(this,void 0,void 0,(function*(){try{yield this.loadGroupUsers(e)}catch(e){i.a.showErrorModalDefault(e,\"core.course.errorgetmodule\",!0)}finally{o&&o()}}))}refreshFeedback(e){return Object(a.a)(this,void 0,void 0,(function*(){try{const o=[];o.push(c.a.invalidateActivityGroupInfo(this.cmId)),this.feedback&&o.push(l.a.invalidateNonRespondentsData(this.feedback.id)),yield r.a.ignoreErrors(Promise.all(o)),yield this.fetchData(!0)}finally{e.complete()}}))}}return AddonModFeedbackNonRespondentsPage.ɵfac=function AddonModFeedbackNonRespondentsPage_Factory(e){return new(e||AddonModFeedbackNonRespondentsPage)},AddonModFeedbackNonRespondentsPage.ɵcmp=_.sc({type:AddonModFeedbackNonRespondentsPage,selectors:[[\"page-addon-mod-feedback-nonrespondents\"]],decls:23,vars:21,consts:[[\"slot\",\"start\"],[3,\"text\"],[\"slot\",\"fixed\",3,\"disabled\",\"ionRefresh\"],[3,\"pullingText\"],[3,\"hideUntil\"],[1,\"ion-no-margin\"],[\"class\",\"ion-text-wrap core-group-selector\",4,\"ngIf\"],[4,\"ngIf\"],[3,\"enabled\",\"error\",\"action\"],[1,\"ion-text-wrap\",\"core-group-selector\"],[\"id\",\"addon-feedback-groupslabel\"],[\"aria-labelledby\",\"addon-feedback-groupslabel\",\"interface\",\"action-sheet\",3,\"ngModel\",\"interfaceOptions\",\"ngModelChange\",\"ionChange\"],[3,\"value\",4,\"ngFor\",\"ngForOf\"],[3,\"value\"],[\"class\",\"ion-text-wrap\",4,\"ngFor\",\"ngForOf\"],[1,\"ion-text-wrap\"],[\"slot\",\"start\",3,\"user\"],[1,\"item-heading\"],[\"color\",\"success\",4,\"ngIf\"],[\"color\",\"danger\",4,\"ngIf\"],[\"color\",\"success\"],[\"color\",\"danger\"]],template:function AddonModFeedbackNonRespondentsPage_Template(e,o){1&e&&(_.Ec(0,\"ion-header\"),_.Ec(1,\"ion-toolbar\"),_.Ec(2,\"ion-buttons\",0),_.zc(3,\"ion-back-button\",1),_.Pc(4,\"translate\"),_.Dc(),_.Ec(5,\"ion-title\"),_.Ec(6,\"h1\"),_.pd(7),_.Pc(8,\"translate\"),_.Dc(),_.Dc(),_.Dc(),_.Dc(),_.Ec(9,\"ion-content\"),_.Ec(10,\"ion-refresher\",2),_.Mc(\"ionRefresh\",(function AddonModFeedbackNonRespondentsPage_Template_ion_refresher_ionRefresh_10_listener(e){return o.refreshFeedback(e.target)})),_.zc(11,\"ion-refresher-content\",3),_.Pc(12,\"translate\"),_.Dc(),_.Ec(13,\"core-loading\",4),_.Ec(14,\"ion-list\",5),_.nd(15,AddonModFeedbackNonRespondentsPage_ion_item_15_Template,7,9,\"ion-item\",6),_.Ec(16,\"ion-item-divider\"),_.Ec(17,\"ion-label\"),_.Ec(18,\"h2\"),_.pd(19),_.Pc(20,\"translate\"),_.Dc(),_.Dc(),_.Dc(),_.nd(21,AddonModFeedbackNonRespondentsPage_ng_container_21_Template,2,1,\"ng-container\",7),_.Ec(22,\"core-infinite-loading\",8),_.Mc(\"action\",(function AddonModFeedbackNonRespondentsPage_Template_core_infinite_loading_action_22_listener(e){return o.loadAttempts(void 0,e)})),_.Dc(),_.Dc(),_.Dc(),_.Dc()),2&e&&(_.lc(3),_.Vc(\"text\",_.Qc(4,10,\"core.back\")),_.lc(4),_.qd(_.Qc(8,12,\"addon.mod_feedback.responses\")),_.lc(3),_.Vc(\"disabled\",!o.loaded),_.lc(1),_.Wc(\"pullingText\",_.Qc(12,14,\"core.pulltorefresh\")),_.lc(2),_.Vc(\"hideUntil\",o.loaded),_.lc(2),_.Vc(\"ngIf\",o.groupInfo&&(o.groupInfo.separateGroups||o.groupInfo.visibleGroups)),_.lc(4),_.qd(_.Rc(20,16,\"addon.mod_feedback.non_respondents_students\",_.ad(19,_c1,o.total))),_.lc(2),_.Vc(\"ngIf\",o.total>0),_.lc(1),_.Vc(\"enabled\",o.canLoadMore)(\"error\",o.loadMoreError))},directives:[g.C,g.Ab,g.m,g.h,g.i,g.yb,u.a,g.v,g.bb,g.cb,b.a,g.P,f.t,g.J,g.O,h.a,g.I,g.lb,g.Ob,m.r,m.u,f.s,g.mb,M.a,g.k],pipes:[k.d],encapsulation:2}),AddonModFeedbackNonRespondentsPage})();const F=[{path:\"\",component:P}];let R=(()=>{class AddonModFeedbackNonRespondentsPageModule{}return AddonModFeedbackNonRespondentsPageModule.ɵmod=_.wc({type:AddonModFeedbackNonRespondentsPageModule}),AddonModFeedbackNonRespondentsPageModule.ɵinj=_.vc({factory:function AddonModFeedbackNonRespondentsPageModule_Factory(e){return new(e||AddonModFeedbackNonRespondentsPageModule)},imports:[[d.m.forChild(F),t.a],d.m]}),AddonModFeedbackNonRespondentsPageModule})();void((\"undefined\"==typeof ngJitMode||ngJitMode)&&_.kd(R,{declarations:[P],imports:[d.m,t.a],exports:[d.m]}))}}]);","name":"57.15e6d72c377f1065f53c.js","input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[57],{\n\n/***/ \"B1At\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"AddonModFeedbackNonRespondentsPageModule\", function() { return /* binding */ nonrespondents_module_AddonModFeedbackNonRespondentsPageModule; });\n\n// EXTERNAL MODULE: ./src/core/shared.module.ts + 3 modules\nvar shared_module = __webpack_require__(\"L3Fv\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/router/__ivy_ngcc__/fesm2015/router.js + 14 modules\nvar router = __webpack_require__(\"tyNb\");\n\n// EXTERNAL MODULE: ./node_modules/tslib/tslib.es6.js\nvar tslib_es6 = __webpack_require__(\"mrSG\");\n\n// EXTERNAL MODULE: ./src/core/services/groups.ts\nvar groups = __webpack_require__(\"mWdr\");\n\n// EXTERNAL MODULE: ./src/core/services/navigator.ts\nvar services_navigator = __webpack_require__(\"pHTc\");\n\n// EXTERNAL MODULE: ./src/core/services/utils/dom.ts + 2 modules\nvar dom = __webpack_require__(\"3LXp\");\n\n// EXTERNAL MODULE: ./src/core/services/utils/utils.ts\nvar utils = __webpack_require__(\"bFG1\");\n\n// EXTERNAL MODULE: ./src/addons/mod/feedback/services/feedback.ts\nvar feedback = __webpack_require__(\"MNPK\");\n\n// EXTERNAL MODULE: ./src/addons/mod/feedback/services/feedback-helper.ts\nvar feedback_helper = __webpack_require__(\"96hm\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js + 4 modules\nvar core = __webpack_require__(\"fXoL\");\n\n// EXTERNAL MODULE: ./node_modules/@ionic/angular/__ivy_ngcc__/fesm2015/ionic-angular.js + 5 modules\nvar ionic_angular = __webpack_require__(\"TEn/\");\n\n// EXTERNAL MODULE: ./src/core/directives/content.ts\nvar content = __webpack_require__(\"nt/U\");\n\n// EXTERNAL MODULE: ./src/core/components/loading/loading.ts\nvar loading = __webpack_require__(\"PgjG\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/common/__ivy_ngcc__/fesm2015/common.js\nvar common = __webpack_require__(\"ofXK\");\n\n// EXTERNAL MODULE: ./src/core/components/infinite-loading/infinite-loading.ts\nvar infinite_loading = __webpack_require__(\"xpMl\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/forms/__ivy_ngcc__/fesm2015/forms.js\nvar fesm2015_forms = __webpack_require__(\"3Pt+\");\n\n// EXTERNAL MODULE: ./src/core/components/user-avatar/user-avatar.ts\nvar user_avatar = __webpack_require__(\"FeAf\");\n\n// EXTERNAL MODULE: ./node_modules/@ngx-translate/core/__ivy_ngcc__/fesm2015/ngx-translate-core.js + 8 modules\nvar ngx_translate_core = __webpack_require__(\"sYmb\");\n\n// CONCATENATED MODULE: ./src/addons/mod/feedback/pages/nonrespondents/nonrespondents.ts\n\n// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction AddonModFeedbackNonRespondentsPage_ion_item_15_ng_container_2_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Cc\" /* ɵɵelementContainerStart */](0);\n        core[\"pd\" /* ɵɵtext */](1);\n        core[\"Pc\" /* ɵɵpipe */](2, \"translate\");\n        core[\"Bc\" /* ɵɵelementContainerEnd */]();\n    }\n    if (rf & 2) {\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"qd\" /* ɵɵtextInterpolate */](core[\"Qc\" /* ɵɵpipeBind1 */](2, 1, \"core.groupsseparate\"));\n    }\n}\nfunction AddonModFeedbackNonRespondentsPage_ion_item_15_ng_container_3_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Cc\" /* ɵɵelementContainerStart */](0);\n        core[\"pd\" /* ɵɵtext */](1);\n        core[\"Pc\" /* ɵɵpipe */](2, \"translate\");\n        core[\"Bc\" /* ɵɵelementContainerEnd */]();\n    }\n    if (rf & 2) {\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"qd\" /* ɵɵtextInterpolate */](core[\"Qc\" /* ɵɵpipeBind1 */](2, 1, \"core.groupsvisible\"));\n    }\n}\nfunction AddonModFeedbackNonRespondentsPage_ion_item_15_ion_select_option_6_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-select-option\", 13);\n        core[\"pd\" /* ɵɵtext */](1);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const groupOpt_r5 = ctx.$implicit;\n        core[\"Vc\" /* ɵɵproperty */](\"value\", groupOpt_r5.id);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"rd\" /* ɵɵtextInterpolate1 */](\" \", groupOpt_r5.name, \" \");\n    }\n}\nconst _c0 = function (a0) { return { header: a0 }; };\nfunction AddonModFeedbackNonRespondentsPage_ion_item_15_Template(rf, ctx) {\n    if (rf & 1) {\n        const _r7 = core[\"Fc\" /* ɵɵgetCurrentView */]();\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-item\", 9);\n        core[\"Ec\" /* ɵɵelementStart */](1, \"ion-label\", 10);\n        core[\"nd\" /* ɵɵtemplate */](2, AddonModFeedbackNonRespondentsPage_ion_item_15_ng_container_2_Template, 3, 3, \"ng-container\", 7);\n        core[\"nd\" /* ɵɵtemplate */](3, AddonModFeedbackNonRespondentsPage_ion_item_15_ng_container_3_Template, 3, 3, \"ng-container\", 7);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Ec\" /* ɵɵelementStart */](4, \"ion-select\", 11);\n        core[\"Mc\" /* ɵɵlistener */](\"ngModelChange\", function AddonModFeedbackNonRespondentsPage_ion_item_15_Template_ion_select_ngModelChange_4_listener($event) { core[\"fd\" /* ɵɵrestoreView */](_r7); const ctx_r6 = core[\"Oc\" /* ɵɵnextContext */](); return ctx_r6.selectedGroup = $event; })(\"ionChange\", function AddonModFeedbackNonRespondentsPage_ion_item_15_Template_ion_select_ionChange_4_listener() { core[\"fd\" /* ɵɵrestoreView */](_r7); const ctx_r8 = core[\"Oc\" /* ɵɵnextContext */](); return ctx_r8.loadAttempts(ctx_r8.selectedGroup); });\n        core[\"Pc\" /* ɵɵpipe */](5, \"translate\");\n        core[\"nd\" /* ɵɵtemplate */](6, AddonModFeedbackNonRespondentsPage_ion_item_15_ion_select_option_6_Template, 2, 2, \"ion-select-option\", 12);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r0 = core[\"Oc\" /* ɵɵnextContext */]();\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx_r0.groupInfo.separateGroups);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx_r0.groupInfo.visibleGroups);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngModel\", ctx_r0.selectedGroup)(\"interfaceOptions\", core[\"ad\" /* ɵɵpureFunction1 */](7, _c0, core[\"Qc\" /* ɵɵpipeBind1 */](5, 5, \"core.group\")));\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"Vc\" /* ɵɵproperty */](\"ngForOf\", ctx_r0.groupInfo.groups);\n    }\n}\nfunction AddonModFeedbackNonRespondentsPage_ng_container_21_ion_item_1_ion_badge_6_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-badge\", 20);\n        core[\"pd\" /* ɵɵtext */](1);\n        core[\"Pc\" /* ɵɵpipe */](2, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"rd\" /* ɵɵtextInterpolate1 */](\" \", core[\"Qc\" /* ɵɵpipeBind1 */](2, 1, \"addon.mod_feedback.started\"), \" \");\n    }\n}\nfunction AddonModFeedbackNonRespondentsPage_ng_container_21_ion_item_1_ion_badge_7_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-badge\", 21);\n        core[\"pd\" /* ɵɵtext */](1);\n        core[\"Pc\" /* ɵɵpipe */](2, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"rd\" /* ɵɵtextInterpolate1 */](\" \", core[\"Qc\" /* ɵɵpipeBind1 */](2, 1, \"addon.mod_feedback.not_started\"), \" \");\n    }\n}\nfunction AddonModFeedbackNonRespondentsPage_ng_container_21_ion_item_1_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-item\", 15);\n        core[\"zc\" /* ɵɵelement */](1, \"core-user-avatar\", 16);\n        core[\"Ec\" /* ɵɵelementStart */](2, \"ion-label\");\n        core[\"Ec\" /* ɵɵelementStart */](3, \"p\", 17);\n        core[\"pd\" /* ɵɵtext */](4);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Ec\" /* ɵɵelementStart */](5, \"p\");\n        core[\"nd\" /* ɵɵtemplate */](6, AddonModFeedbackNonRespondentsPage_ng_container_21_ion_item_1_ion_badge_6_Template, 3, 3, \"ion-badge\", 18);\n        core[\"nd\" /* ɵɵtemplate */](7, AddonModFeedbackNonRespondentsPage_ng_container_21_ion_item_1_ion_badge_7_Template, 3, 3, \"ion-badge\", 19);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const user_r10 = ctx.$implicit;\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"user\", user_r10);\n        core[\"lc\" /* ɵɵadvance */](3);\n        core[\"qd\" /* ɵɵtextInterpolate */](user_r10.fullname);\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", user_r10.started);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", !user_r10.started);\n    }\n}\nfunction AddonModFeedbackNonRespondentsPage_ng_container_21_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Cc\" /* ɵɵelementContainerStart */](0);\n        core[\"nd\" /* ɵɵtemplate */](1, AddonModFeedbackNonRespondentsPage_ng_container_21_ion_item_1_Template, 8, 4, \"ion-item\", 14);\n        core[\"Bc\" /* ɵɵelementContainerEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r1 = core[\"Oc\" /* ɵɵnextContext */]();\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngForOf\", ctx_r1.users);\n    }\n}\nconst _c1 = function (a0) { return { $a: a0 }; };\n/**\n * Page that displays feedback non respondents.\n */\nlet nonrespondents_AddonModFeedbackNonRespondentsPage = /*@__PURE__*/ (() => {\n    class AddonModFeedbackNonRespondentsPage {\n        constructor() {\n            this.page = 0;\n            this.users = [];\n            this.total = 0;\n            this.canLoadMore = false;\n            this.loaded = false;\n            this.loadMoreError = false;\n        }\n        /**\n         * @inheritdoc\n         */\n        ngOnInit() {\n            try {\n                this.cmId = services_navigator[\"a\" /* CoreNavigator */].getRequiredRouteNumberParam('cmId');\n                this.courseId = services_navigator[\"a\" /* CoreNavigator */].getRequiredRouteNumberParam('courseId');\n                this.selectedGroup = services_navigator[\"a\" /* CoreNavigator */].getRouteNumberParam('group') || 0;\n            }\n            catch (error) {\n                dom[\"a\" /* CoreDomUtils */].showErrorModal(error);\n                services_navigator[\"a\" /* CoreNavigator */].back();\n                return;\n            }\n            this.fetchData();\n        }\n        /**\n         * Fetch all the data required for the view.\n         *\n         * @param refresh Empty events array first.\n         * @return Promise resolved when done.\n         */\n        fetchData(refresh = false) {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                this.page = 0;\n                this.total = 0;\n                this.users = [];\n                try {\n                    this.feedback = yield feedback[\"a\" /* AddonModFeedback */].getFeedback(this.courseId, this.cmId);\n                    this.groupInfo = yield groups[\"a\" /* CoreGroups */].getActivityGroupInfo(this.cmId);\n                    this.selectedGroup = groups[\"a\" /* CoreGroups */].validateGroupId(this.selectedGroup, this.groupInfo);\n                    yield this.loadGroupUsers(this.selectedGroup);\n                }\n                catch (message) {\n                    dom[\"a\" /* CoreDomUtils */].showErrorModalDefault(message, 'core.course.errorgetmodule', true);\n                    if (!refresh) {\n                        // Some call failed on first fetch, go back.\n                        services_navigator[\"a\" /* CoreNavigator */].back();\n                    }\n                }\n            });\n        }\n        /**\n         * Load Group responses.\n         *\n         * @param groupId If defined it will change group if not, it will load more users for the same group.\n         * @return Promise resolved when done.\n         */\n        loadGroupUsers(groupId) {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                this.loadMoreError = false;\n                if (groupId === undefined) {\n                    this.page++;\n                }\n                else {\n                    this.selectedGroup = groupId;\n                    this.page = 0;\n                    this.total = 0;\n                    this.users = [];\n                    this.loaded = false;\n                }\n                try {\n                    const response = yield feedback_helper[\"a\" /* AddonModFeedbackHelper */].getNonRespondents(this.feedback.id, {\n                        groupId: this.selectedGroup,\n                        page: this.page,\n                        cmId: this.cmId,\n                    });\n                    this.total = response.total;\n                    if (this.users.length < response.total) {\n                        this.users = this.users.concat(response.users);\n                    }\n                    this.canLoadMore = this.users.length < response.total;\n                }\n                catch (error) {\n                    this.loadMoreError = true;\n                    throw error;\n                }\n                finally {\n                    this.loaded = true;\n                }\n            });\n        }\n        /**\n         * Change selected group or load more users.\n         *\n         * @param groupId Group ID selected. If not defined, it will load more users.\n         * @param infiniteComplete Infinite scroll complete function. Only used from core-infinite-loading.\n         */\n        loadAttempts(groupId, infiniteComplete) {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                try {\n                    yield this.loadGroupUsers(groupId);\n                }\n                catch (error) {\n                    dom[\"a\" /* CoreDomUtils */].showErrorModalDefault(error, 'core.course.errorgetmodule', true);\n                }\n                finally {\n                    infiniteComplete && infiniteComplete();\n                }\n            });\n        }\n        /**\n         * Refresh the attempts.\n         *\n         * @param refresher Refresher.\n         */\n        refreshFeedback(refresher) {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                try {\n                    const promises = [];\n                    promises.push(groups[\"a\" /* CoreGroups */].invalidateActivityGroupInfo(this.cmId));\n                    if (this.feedback) {\n                        promises.push(feedback[\"a\" /* AddonModFeedback */].invalidateNonRespondentsData(this.feedback.id));\n                    }\n                    yield utils[\"a\" /* CoreUtils */].ignoreErrors(Promise.all(promises));\n                    yield this.fetchData(true);\n                }\n                finally {\n                    refresher.complete();\n                }\n            });\n        }\n    }\n    AddonModFeedbackNonRespondentsPage.ɵfac = function AddonModFeedbackNonRespondentsPage_Factory(t) { return new (t || AddonModFeedbackNonRespondentsPage)(); };\n    AddonModFeedbackNonRespondentsPage.ɵcmp = core[\"sc\" /* ɵɵdefineComponent */]({ type: AddonModFeedbackNonRespondentsPage, selectors: [[\"page-addon-mod-feedback-nonrespondents\"]], decls: 23, vars: 21, consts: [[\"slot\", \"start\"], [3, \"text\"], [\"slot\", \"fixed\", 3, \"disabled\", \"ionRefresh\"], [3, \"pullingText\"], [3, \"hideUntil\"], [1, \"ion-no-margin\"], [\"class\", \"ion-text-wrap core-group-selector\", 4, \"ngIf\"], [4, \"ngIf\"], [3, \"enabled\", \"error\", \"action\"], [1, \"ion-text-wrap\", \"core-group-selector\"], [\"id\", \"addon-feedback-groupslabel\"], [\"aria-labelledby\", \"addon-feedback-groupslabel\", \"interface\", \"action-sheet\", 3, \"ngModel\", \"interfaceOptions\", \"ngModelChange\", \"ionChange\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [3, \"value\"], [\"class\", \"ion-text-wrap\", 4, \"ngFor\", \"ngForOf\"], [1, \"ion-text-wrap\"], [\"slot\", \"start\", 3, \"user\"], [1, \"item-heading\"], [\"color\", \"success\", 4, \"ngIf\"], [\"color\", \"danger\", 4, \"ngIf\"], [\"color\", \"success\"], [\"color\", \"danger\"]], template: function AddonModFeedbackNonRespondentsPage_Template(rf, ctx) {\n            if (rf & 1) {\n                core[\"Ec\" /* ɵɵelementStart */](0, \"ion-header\");\n                core[\"Ec\" /* ɵɵelementStart */](1, \"ion-toolbar\");\n                core[\"Ec\" /* ɵɵelementStart */](2, \"ion-buttons\", 0);\n                core[\"zc\" /* ɵɵelement */](3, \"ion-back-button\", 1);\n                core[\"Pc\" /* ɵɵpipe */](4, \"translate\");\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Ec\" /* ɵɵelementStart */](5, \"ion-title\");\n                core[\"Ec\" /* ɵɵelementStart */](6, \"h1\");\n                core[\"pd\" /* ɵɵtext */](7);\n                core[\"Pc\" /* ɵɵpipe */](8, \"translate\");\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Ec\" /* ɵɵelementStart */](9, \"ion-content\");\n                core[\"Ec\" /* ɵɵelementStart */](10, \"ion-refresher\", 2);\n                core[\"Mc\" /* ɵɵlistener */](\"ionRefresh\", function AddonModFeedbackNonRespondentsPage_Template_ion_refresher_ionRefresh_10_listener($event) { return ctx.refreshFeedback($event.target); });\n                core[\"zc\" /* ɵɵelement */](11, \"ion-refresher-content\", 3);\n                core[\"Pc\" /* ɵɵpipe */](12, \"translate\");\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Ec\" /* ɵɵelementStart */](13, \"core-loading\", 4);\n                core[\"Ec\" /* ɵɵelementStart */](14, \"ion-list\", 5);\n                core[\"nd\" /* ɵɵtemplate */](15, AddonModFeedbackNonRespondentsPage_ion_item_15_Template, 7, 9, \"ion-item\", 6);\n                core[\"Ec\" /* ɵɵelementStart */](16, \"ion-item-divider\");\n                core[\"Ec\" /* ɵɵelementStart */](17, \"ion-label\");\n                core[\"Ec\" /* ɵɵelementStart */](18, \"h2\");\n                core[\"pd\" /* ɵɵtext */](19);\n                core[\"Pc\" /* ɵɵpipe */](20, \"translate\");\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"nd\" /* ɵɵtemplate */](21, AddonModFeedbackNonRespondentsPage_ng_container_21_Template, 2, 1, \"ng-container\", 7);\n                core[\"Ec\" /* ɵɵelementStart */](22, \"core-infinite-loading\", 8);\n                core[\"Mc\" /* ɵɵlistener */](\"action\", function AddonModFeedbackNonRespondentsPage_Template_core_infinite_loading_action_22_listener($event) { return ctx.loadAttempts(undefined, $event); });\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n            }\n            if (rf & 2) {\n                core[\"lc\" /* ɵɵadvance */](3);\n                core[\"Vc\" /* ɵɵproperty */](\"text\", core[\"Qc\" /* ɵɵpipeBind1 */](4, 10, \"core.back\"));\n                core[\"lc\" /* ɵɵadvance */](4);\n                core[\"qd\" /* ɵɵtextInterpolate */](core[\"Qc\" /* ɵɵpipeBind1 */](8, 12, \"addon.mod_feedback.responses\"));\n                core[\"lc\" /* ɵɵadvance */](3);\n                core[\"Vc\" /* ɵɵproperty */](\"disabled\", !ctx.loaded);\n                core[\"lc\" /* ɵɵadvance */](1);\n                core[\"Wc\" /* ɵɵpropertyInterpolate */](\"pullingText\", core[\"Qc\" /* ɵɵpipeBind1 */](12, 14, \"core.pulltorefresh\"));\n                core[\"lc\" /* ɵɵadvance */](2);\n                core[\"Vc\" /* ɵɵproperty */](\"hideUntil\", ctx.loaded);\n                core[\"lc\" /* ɵɵadvance */](2);\n                core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx.groupInfo && (ctx.groupInfo.separateGroups || ctx.groupInfo.visibleGroups));\n                core[\"lc\" /* ɵɵadvance */](4);\n                core[\"qd\" /* ɵɵtextInterpolate */](core[\"Rc\" /* ɵɵpipeBind2 */](20, 16, \"addon.mod_feedback.non_respondents_students\", core[\"ad\" /* ɵɵpureFunction1 */](19, _c1, ctx.total)));\n                core[\"lc\" /* ɵɵadvance */](2);\n                core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx.total > 0);\n                core[\"lc\" /* ɵɵadvance */](1);\n                core[\"Vc\" /* ɵɵproperty */](\"enabled\", ctx.canLoadMore)(\"error\", ctx.loadMoreError);\n            }\n        }, directives: [ionic_angular[\"C\" /* IonHeader */], ionic_angular[\"Ab\" /* IonToolbar */], ionic_angular[\"m\" /* IonButtons */], ionic_angular[\"h\" /* IonBackButton */], ionic_angular[\"i\" /* IonBackButtonDelegate */], ionic_angular[\"yb\" /* IonTitle */], content[\"a\" /* CoreContentDirective */], ionic_angular[\"v\" /* IonContent */], ionic_angular[\"bb\" /* IonRefresher */], ionic_angular[\"cb\" /* IonRefresherContent */], loading[\"a\" /* CoreLoadingComponent */], ionic_angular[\"P\" /* IonList */], common[\"t\" /* NgIf */], ionic_angular[\"J\" /* IonItemDivider */], ionic_angular[\"O\" /* IonLabel */], infinite_loading[\"a\" /* CoreInfiniteLoadingComponent */], ionic_angular[\"I\" /* IonItem */], ionic_angular[\"lb\" /* IonSelect */], ionic_angular[\"Ob\" /* SelectValueAccessor */], fesm2015_forms[\"r\" /* NgControlStatus */], fesm2015_forms[\"u\" /* NgModel */], common[\"s\" /* NgForOf */], ionic_angular[\"mb\" /* IonSelectOption */], user_avatar[\"a\" /* CoreUserAvatarComponent */], ionic_angular[\"k\" /* IonBadge */]], pipes: [ngx_translate_core[\"d\" /* TranslatePipe */]], encapsulation: 2 });\n    return AddonModFeedbackNonRespondentsPage;\n})();\n\n// CONCATENATED MODULE: ./src/addons/mod/feedback/pages/nonrespondents/nonrespondents.module.ts\n// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n\n\n\n\nconst routes = [\n    {\n        path: '',\n        component: nonrespondents_AddonModFeedbackNonRespondentsPage,\n    },\n];\nlet nonrespondents_module_AddonModFeedbackNonRespondentsPageModule = /*@__PURE__*/ (() => {\n    class AddonModFeedbackNonRespondentsPageModule {\n    }\n    AddonModFeedbackNonRespondentsPageModule.ɵmod = core[\"wc\" /* ɵɵdefineNgModule */]({ type: AddonModFeedbackNonRespondentsPageModule });\n    AddonModFeedbackNonRespondentsPageModule.ɵinj = core[\"vc\" /* ɵɵdefineInjector */]({ factory: function AddonModFeedbackNonRespondentsPageModule_Factory(t) { return new (t || AddonModFeedbackNonRespondentsPageModule)(); }, imports: [[\n                router[\"m\" /* RouterModule */].forChild(routes),\n                shared_module[\"a\" /* CoreSharedModule */],\n            ], router[\"m\" /* RouterModule */]] });\n    return AddonModFeedbackNonRespondentsPageModule;\n})();\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && core[\"kd\" /* ɵɵsetNgModuleScope */](nonrespondents_module_AddonModFeedbackNonRespondentsPageModule, { declarations: [nonrespondents_AddonModFeedbackNonRespondentsPage], imports: [router[\"m\" /* RouterModule */], shared_module[\"a\" /* CoreSharedModule */]], exports: [router[\"m\" /* RouterModule */]] }); })();\n\n\n/***/ })\n\n}]);","inputSourceMap":null}